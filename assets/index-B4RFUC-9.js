(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function f_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Gp={exports:{}},kl={},Yp={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fs=Symbol.for("react.element"),p_=Symbol.for("react.portal"),m_=Symbol.for("react.fragment"),g_=Symbol.for("react.strict_mode"),y_=Symbol.for("react.profiler"),v_=Symbol.for("react.provider"),__=Symbol.for("react.context"),E_=Symbol.for("react.forward_ref"),w_=Symbol.for("react.suspense"),T_=Symbol.for("react.memo"),I_=Symbol.for("react.lazy"),Ld=Symbol.iterator;function S_(t){return t===null||typeof t!="object"?null:(t=Ld&&t[Ld]||t["@@iterator"],typeof t=="function"?t:null)}var Xp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Jp=Object.assign,Zp={};function gi(t,e,n){this.props=t,this.context=e,this.refs=Zp,this.updater=n||Xp}gi.prototype.isReactComponent={};gi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};gi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function em(){}em.prototype=gi.prototype;function vc(t,e,n){this.props=t,this.context=e,this.refs=Zp,this.updater=n||Xp}var _c=vc.prototype=new em;_c.constructor=vc;Jp(_c,gi.prototype);_c.isPureReactComponent=!0;var Fd=Array.isArray,tm=Object.prototype.hasOwnProperty,Ec={current:null},nm={key:!0,ref:!0,__self:!0,__source:!0};function rm(t,e,n){var r,i={},s=null,l=null;if(e!=null)for(r in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(s=""+e.key),e)tm.call(e,r)&&!nm.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var a=Array(u),h=0;h<u;h++)a[h]=arguments[h+2];i.children=a}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:Fs,type:t,key:s,ref:l,props:i,_owner:Ec.current}}function A_(t,e){return{$$typeof:Fs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function wc(t){return typeof t=="object"&&t!==null&&t.$$typeof===Fs}function C_(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ud=/\/+/g;function Ea(t,e){return typeof t=="object"&&t!==null&&t.key!=null?C_(""+t.key):e.toString(36)}function Do(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case Fs:case p_:l=!0}}if(l)return l=t,i=i(l),t=r===""?"."+Ea(l,0):r,Fd(i)?(n="",t!=null&&(n=t.replace(Ud,"$&/")+"/"),Do(i,e,n,"",function(h){return h})):i!=null&&(wc(i)&&(i=A_(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(Ud,"$&/")+"/")+t)),e.push(i)),1;if(l=0,r=r===""?".":r+":",Fd(t))for(var u=0;u<t.length;u++){s=t[u];var a=r+Ea(s,u);l+=Do(s,e,n,a,i)}else if(a=S_(t),typeof a=="function")for(t=a.call(t),u=0;!(s=t.next()).done;)s=s.value,a=r+Ea(s,u++),l+=Do(s,e,n,a,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function ao(t,e,n){if(t==null)return t;var r=[],i=0;return Do(t,r,"","",function(s){return e.call(n,s,i++)}),r}function R_(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ct={current:null},xo={transition:null},P_={ReactCurrentDispatcher:ct,ReactCurrentBatchConfig:xo,ReactCurrentOwner:Ec};function im(){throw Error("act(...) is not supported in production builds of React.")}Z.Children={map:ao,forEach:function(t,e,n){ao(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ao(t,function(){e++}),e},toArray:function(t){return ao(t,function(e){return e})||[]},only:function(t){if(!wc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Z.Component=gi;Z.Fragment=m_;Z.Profiler=y_;Z.PureComponent=vc;Z.StrictMode=g_;Z.Suspense=w_;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P_;Z.act=im;Z.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Jp({},t.props),i=t.key,s=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,l=Ec.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(a in e)tm.call(e,a)&&!nm.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&u!==void 0?u[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){u=Array(a);for(var h=0;h<a;h++)u[h]=arguments[h+2];r.children=u}return{$$typeof:Fs,type:t.type,key:i,ref:s,props:r,_owner:l}};Z.createContext=function(t){return t={$$typeof:__,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:v_,_context:t},t.Consumer=t};Z.createElement=rm;Z.createFactory=function(t){var e=rm.bind(null,t);return e.type=t,e};Z.createRef=function(){return{current:null}};Z.forwardRef=function(t){return{$$typeof:E_,render:t}};Z.isValidElement=wc;Z.lazy=function(t){return{$$typeof:I_,_payload:{_status:-1,_result:t},_init:R_}};Z.memo=function(t,e){return{$$typeof:T_,type:t,compare:e===void 0?null:e}};Z.startTransition=function(t){var e=xo.transition;xo.transition={};try{t()}finally{xo.transition=e}};Z.unstable_act=im;Z.useCallback=function(t,e){return ct.current.useCallback(t,e)};Z.useContext=function(t){return ct.current.useContext(t)};Z.useDebugValue=function(){};Z.useDeferredValue=function(t){return ct.current.useDeferredValue(t)};Z.useEffect=function(t,e){return ct.current.useEffect(t,e)};Z.useId=function(){return ct.current.useId()};Z.useImperativeHandle=function(t,e,n){return ct.current.useImperativeHandle(t,e,n)};Z.useInsertionEffect=function(t,e){return ct.current.useInsertionEffect(t,e)};Z.useLayoutEffect=function(t,e){return ct.current.useLayoutEffect(t,e)};Z.useMemo=function(t,e){return ct.current.useMemo(t,e)};Z.useReducer=function(t,e,n){return ct.current.useReducer(t,e,n)};Z.useRef=function(t){return ct.current.useRef(t)};Z.useState=function(t){return ct.current.useState(t)};Z.useSyncExternalStore=function(t,e,n){return ct.current.useSyncExternalStore(t,e,n)};Z.useTransition=function(){return ct.current.useTransition()};Z.version="18.3.1";Yp.exports=Z;var me=Yp.exports;const xe=f_(me);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k_=me,N_=Symbol.for("react.element"),D_=Symbol.for("react.fragment"),x_=Object.prototype.hasOwnProperty,V_=k_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,M_={key:!0,ref:!0,__self:!0,__source:!0};function sm(t,e,n){var r,i={},s=null,l=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(l=e.ref);for(r in e)x_.call(e,r)&&!M_.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:N_,type:t,key:s,ref:l,props:i,_owner:V_.current}}kl.Fragment=D_;kl.jsx=sm;kl.jsxs=sm;Gp.exports=kl;var j=Gp.exports,om={exports:{}},St={},lm={exports:{}},am={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,b){var Q=M.length;M.push(b);e:for(;0<Q;){var X=Q-1>>>1,Y=M[X];if(0<i(Y,b))M[X]=b,M[Q]=Y,Q=X;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var b=M[0],Q=M.pop();if(Q!==b){M[0]=Q;e:for(var X=0,Y=M.length,le=Y>>>1;X<le;){var Fe=2*(X+1)-1,vt=M[Fe],We=Fe+1,Ee=M[We];if(0>i(vt,Q))We<Y&&0>i(Ee,vt)?(M[X]=Ee,M[We]=Q,X=We):(M[X]=vt,M[Fe]=Q,X=Fe);else if(We<Y&&0>i(Ee,Q))M[X]=Ee,M[We]=Q,X=We;else break e}}return b}function i(M,b){var Q=M.sortIndex-b.sortIndex;return Q!==0?Q:M.id-b.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var a=[],h=[],f=1,p=null,m=3,S=!1,C=!1,N=!1,x=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(M){for(var b=n(h);b!==null;){if(b.callback===null)r(h);else if(b.startTime<=M)r(h),b.sortIndex=b.expirationTime,e(a,b);else break;b=n(h)}}function D(M){if(N=!1,w(M),!C)if(n(a)!==null)C=!0,jt(L);else{var b=n(h);b!==null&&Le(D,b.startTime-M)}}function L(M,b){C=!1,N&&(N=!1,A(y),y=-1),S=!0;var Q=m;try{for(w(b),p=n(a);p!==null&&(!(p.expirationTime>b)||M&&!R());){var X=p.callback;if(typeof X=="function"){p.callback=null,m=p.priorityLevel;var Y=X(p.expirationTime<=b);b=t.unstable_now(),typeof Y=="function"?p.callback=Y:p===n(a)&&r(a),w(b)}else r(a);p=n(a)}if(p!==null)var le=!0;else{var Fe=n(h);Fe!==null&&Le(D,Fe.startTime-b),le=!1}return le}finally{p=null,m=Q,S=!1}}var U=!1,E=null,y=-1,v=5,I=-1;function R(){return!(t.unstable_now()-I<v)}function P(){if(E!==null){var M=t.unstable_now();I=M;var b=!0;try{b=E(!0,M)}finally{b?T():(U=!1,E=null)}}else U=!1}var T;if(typeof _=="function")T=function(){_(P)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,De=ue.port2;ue.port1.onmessage=P,T=function(){De.postMessage(null)}}else T=function(){x(P,0)};function jt(M){E=M,U||(U=!0,T())}function Le(M,b){y=x(function(){M(t.unstable_now())},b)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){C||S||(C=!0,jt(L))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(M){switch(m){case 1:case 2:case 3:var b=3;break;default:b=m}var Q=m;m=b;try{return M()}finally{m=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,b){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var Q=m;m=M;try{return b()}finally{m=Q}},t.unstable_scheduleCallback=function(M,b,Q){var X=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?X+Q:X):Q=X,M){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=Q+Y,M={id:f++,callback:b,priorityLevel:M,startTime:Q,expirationTime:Y,sortIndex:-1},Q>X?(M.sortIndex=Q,e(h,M),n(a)===null&&M===n(h)&&(N?(A(y),y=-1):N=!0,Le(D,Q-X))):(M.sortIndex=Y,e(a,M),C||S||(C=!0,jt(L))),M},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(M){var b=m;return function(){var Q=m;m=b;try{return M.apply(this,arguments)}finally{m=Q}}}})(am);lm.exports=am;var O_=lm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L_=me,It=O_;function F(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var um=new Set,ps={};function wr(t,e){ni(t,e),ni(t+"Capture",e)}function ni(t,e){for(ps[t]=e,t=0;t<e.length;t++)um.add(e[t])}var un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nu=Object.prototype.hasOwnProperty,F_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zd={},Bd={};function U_(t){return nu.call(Bd,t)?!0:nu.call(zd,t)?!1:F_.test(t)?Bd[t]=!0:(zd[t]=!0,!1)}function z_(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function B_(t,e,n,r){if(e===null||typeof e>"u"||z_(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ht(t,e,n,r,i,s,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=l}var qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){qe[t]=new ht(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];qe[e]=new ht(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){qe[t]=new ht(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){qe[t]=new ht(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){qe[t]=new ht(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){qe[t]=new ht(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){qe[t]=new ht(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){qe[t]=new ht(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){qe[t]=new ht(t,5,!1,t.toLowerCase(),null,!1,!1)});var Tc=/[\-:]([a-z])/g;function Ic(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Tc,Ic);qe[e]=new ht(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Tc,Ic);qe[e]=new ht(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Tc,Ic);qe[e]=new ht(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){qe[t]=new ht(t,1,!1,t.toLowerCase(),null,!1,!1)});qe.xlinkHref=new ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){qe[t]=new ht(t,1,!1,t.toLowerCase(),null,!0,!0)});function Sc(t,e,n,r){var i=qe.hasOwnProperty(e)?qe[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(B_(e,n,i,r)&&(n=null),r||i===null?U_(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var mn=L_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,uo=Symbol.for("react.element"),Vr=Symbol.for("react.portal"),Mr=Symbol.for("react.fragment"),Ac=Symbol.for("react.strict_mode"),ru=Symbol.for("react.profiler"),cm=Symbol.for("react.provider"),hm=Symbol.for("react.context"),Cc=Symbol.for("react.forward_ref"),iu=Symbol.for("react.suspense"),su=Symbol.for("react.suspense_list"),Rc=Symbol.for("react.memo"),wn=Symbol.for("react.lazy"),dm=Symbol.for("react.offscreen"),jd=Symbol.iterator;function Ui(t){return t===null||typeof t!="object"?null:(t=jd&&t[jd]||t["@@iterator"],typeof t=="function"?t:null)}var _e=Object.assign,wa;function Ki(t){if(wa===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);wa=e&&e[1]||""}return`
`+wa+t}var Ta=!1;function Ia(t,e){if(!t||Ta)return"";Ta=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=r.stack.split(`
`),l=i.length-1,u=s.length-1;1<=l&&0<=u&&i[l]!==s[u];)u--;for(;1<=l&&0<=u;l--,u--)if(i[l]!==s[u]){if(l!==1||u!==1)do if(l--,u--,0>u||i[l]!==s[u]){var a=`
`+i[l].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=l&&0<=u);break}}}finally{Ta=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ki(t):""}function j_(t){switch(t.tag){case 5:return Ki(t.type);case 16:return Ki("Lazy");case 13:return Ki("Suspense");case 19:return Ki("SuspenseList");case 0:case 2:case 15:return t=Ia(t.type,!1),t;case 11:return t=Ia(t.type.render,!1),t;case 1:return t=Ia(t.type,!0),t;default:return""}}function ou(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Mr:return"Fragment";case Vr:return"Portal";case ru:return"Profiler";case Ac:return"StrictMode";case iu:return"Suspense";case su:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case hm:return(t.displayName||"Context")+".Consumer";case cm:return(t._context.displayName||"Context")+".Provider";case Cc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Rc:return e=t.displayName||null,e!==null?e:ou(t.type)||"Memo";case wn:e=t._payload,t=t._init;try{return ou(t(e))}catch{}}return null}function $_(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ou(e);case 8:return e===Ac?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Bn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function fm(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function b_(t){var e=fm(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(l){r=""+l,s.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function co(t){t._valueTracker||(t._valueTracker=b_(t))}function pm(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=fm(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Wo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function lu(t,e){var n=e.checked;return _e({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function $d(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Bn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function mm(t,e){e=e.checked,e!=null&&Sc(t,"checked",e,!1)}function au(t,e){mm(t,e);var n=Bn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?uu(t,e.type,n):e.hasOwnProperty("defaultValue")&&uu(t,e.type,Bn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function bd(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function uu(t,e,n){(e!=="number"||Wo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Wi=Array.isArray;function qr(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Bn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function cu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(F(91));return _e({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Hd(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(F(92));if(Wi(n)){if(1<n.length)throw Error(F(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Bn(n)}}function gm(t,e){var n=Bn(e.value),r=Bn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Qd(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ym(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ym(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ho,vm=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ho=ho||document.createElement("div"),ho.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ho.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ms(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ts={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},H_=["Webkit","ms","Moz","O"];Object.keys(ts).forEach(function(t){H_.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ts[e]=ts[t]})});function _m(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ts.hasOwnProperty(t)&&ts[t]?(""+e).trim():e+"px"}function Em(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=_m(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Q_=_e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function du(t,e){if(e){if(Q_[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(F(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(F(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(F(61))}if(e.style!=null&&typeof e.style!="object")throw Error(F(62))}}function fu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pu=null;function Pc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var mu=null,Kr=null,Wr=null;function qd(t){if(t=Bs(t)){if(typeof mu!="function")throw Error(F(280));var e=t.stateNode;e&&(e=Ml(e),mu(t.stateNode,t.type,e))}}function wm(t){Kr?Wr?Wr.push(t):Wr=[t]:Kr=t}function Tm(){if(Kr){var t=Kr,e=Wr;if(Wr=Kr=null,qd(t),e)for(t=0;t<e.length;t++)qd(e[t])}}function Im(t,e){return t(e)}function Sm(){}var Sa=!1;function Am(t,e,n){if(Sa)return t(e,n);Sa=!0;try{return Im(t,e,n)}finally{Sa=!1,(Kr!==null||Wr!==null)&&(Sm(),Tm())}}function gs(t,e){var n=t.stateNode;if(n===null)return null;var r=Ml(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(F(231,e,typeof n));return n}var gu=!1;if(un)try{var zi={};Object.defineProperty(zi,"passive",{get:function(){gu=!0}}),window.addEventListener("test",zi,zi),window.removeEventListener("test",zi,zi)}catch{gu=!1}function q_(t,e,n,r,i,s,l,u,a){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(f){this.onError(f)}}var ns=!1,Go=null,Yo=!1,yu=null,K_={onError:function(t){ns=!0,Go=t}};function W_(t,e,n,r,i,s,l,u,a){ns=!1,Go=null,q_.apply(K_,arguments)}function G_(t,e,n,r,i,s,l,u,a){if(W_.apply(this,arguments),ns){if(ns){var h=Go;ns=!1,Go=null}else throw Error(F(198));Yo||(Yo=!0,yu=h)}}function Tr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Cm(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Kd(t){if(Tr(t)!==t)throw Error(F(188))}function Y_(t){var e=t.alternate;if(!e){if(e=Tr(t),e===null)throw Error(F(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Kd(i),t;if(s===r)return Kd(i),e;s=s.sibling}throw Error(F(188))}if(n.return!==r.return)n=i,r=s;else{for(var l=!1,u=i.child;u;){if(u===n){l=!0,n=i,r=s;break}if(u===r){l=!0,r=i,n=s;break}u=u.sibling}if(!l){for(u=s.child;u;){if(u===n){l=!0,n=s,r=i;break}if(u===r){l=!0,r=s,n=i;break}u=u.sibling}if(!l)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?t:e}function Rm(t){return t=Y_(t),t!==null?Pm(t):null}function Pm(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Pm(t);if(e!==null)return e;t=t.sibling}return null}var km=It.unstable_scheduleCallback,Wd=It.unstable_cancelCallback,X_=It.unstable_shouldYield,J_=It.unstable_requestPaint,Re=It.unstable_now,Z_=It.unstable_getCurrentPriorityLevel,kc=It.unstable_ImmediatePriority,Nm=It.unstable_UserBlockingPriority,Xo=It.unstable_NormalPriority,e0=It.unstable_LowPriority,Dm=It.unstable_IdlePriority,Nl=null,qt=null;function t0(t){if(qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Nl,t,void 0,(t.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:i0,n0=Math.log,r0=Math.LN2;function i0(t){return t>>>=0,t===0?32:31-(n0(t)/r0|0)|0}var fo=64,po=4194304;function Gi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Jo(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,l=n&268435455;if(l!==0){var u=l&~i;u!==0?r=Gi(u):(s&=l,s!==0&&(r=Gi(s)))}else l=n&~i,l!==0?r=Gi(l):s!==0&&(r=Gi(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ut(e),i=1<<n,r|=t[n],e&=~i;return r}function s0(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function o0(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var l=31-Ut(s),u=1<<l,a=i[l];a===-1?(!(u&n)||u&r)&&(i[l]=s0(u,e)):a<=e&&(t.expiredLanes|=u),s&=~u}}function vu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function xm(){var t=fo;return fo<<=1,!(fo&4194240)&&(fo=64),t}function Aa(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Us(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ut(e),t[e]=n}function l0(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ut(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Nc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ut(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ae=0;function Vm(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Mm,Dc,Om,Lm,Fm,_u=!1,mo=[],kn=null,Nn=null,Dn=null,ys=new Map,vs=new Map,In=[],a0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gd(t,e){switch(t){case"focusin":case"focusout":kn=null;break;case"dragenter":case"dragleave":Nn=null;break;case"mouseover":case"mouseout":Dn=null;break;case"pointerover":case"pointerout":ys.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":vs.delete(e.pointerId)}}function Bi(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Bs(e),e!==null&&Dc(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function u0(t,e,n,r,i){switch(e){case"focusin":return kn=Bi(kn,t,e,n,r,i),!0;case"dragenter":return Nn=Bi(Nn,t,e,n,r,i),!0;case"mouseover":return Dn=Bi(Dn,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ys.set(s,Bi(ys.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,vs.set(s,Bi(vs.get(s)||null,t,e,n,r,i)),!0}return!1}function Um(t){var e=ir(t.target);if(e!==null){var n=Tr(e);if(n!==null){if(e=n.tag,e===13){if(e=Cm(n),e!==null){t.blockedOn=e,Fm(t.priority,function(){Om(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Eu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);pu=r,n.target.dispatchEvent(r),pu=null}else return e=Bs(n),e!==null&&Dc(e),t.blockedOn=n,!1;e.shift()}return!0}function Yd(t,e,n){Vo(t)&&n.delete(e)}function c0(){_u=!1,kn!==null&&Vo(kn)&&(kn=null),Nn!==null&&Vo(Nn)&&(Nn=null),Dn!==null&&Vo(Dn)&&(Dn=null),ys.forEach(Yd),vs.forEach(Yd)}function ji(t,e){t.blockedOn===e&&(t.blockedOn=null,_u||(_u=!0,It.unstable_scheduleCallback(It.unstable_NormalPriority,c0)))}function _s(t){function e(i){return ji(i,t)}if(0<mo.length){ji(mo[0],t);for(var n=1;n<mo.length;n++){var r=mo[n];r.blockedOn===t&&(r.blockedOn=null)}}for(kn!==null&&ji(kn,t),Nn!==null&&ji(Nn,t),Dn!==null&&ji(Dn,t),ys.forEach(e),vs.forEach(e),n=0;n<In.length;n++)r=In[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<In.length&&(n=In[0],n.blockedOn===null);)Um(n),n.blockedOn===null&&In.shift()}var Gr=mn.ReactCurrentBatchConfig,Zo=!0;function h0(t,e,n,r){var i=ae,s=Gr.transition;Gr.transition=null;try{ae=1,xc(t,e,n,r)}finally{ae=i,Gr.transition=s}}function d0(t,e,n,r){var i=ae,s=Gr.transition;Gr.transition=null;try{ae=4,xc(t,e,n,r)}finally{ae=i,Gr.transition=s}}function xc(t,e,n,r){if(Zo){var i=Eu(t,e,n,r);if(i===null)Oa(t,e,r,el,n),Gd(t,r);else if(u0(i,t,e,n,r))r.stopPropagation();else if(Gd(t,r),e&4&&-1<a0.indexOf(t)){for(;i!==null;){var s=Bs(i);if(s!==null&&Mm(s),s=Eu(t,e,n,r),s===null&&Oa(t,e,r,el,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Oa(t,e,r,null,n)}}var el=null;function Eu(t,e,n,r){if(el=null,t=Pc(r),t=ir(t),t!==null)if(e=Tr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Cm(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return el=t,null}function zm(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Z_()){case kc:return 1;case Nm:return 4;case Xo:case e0:return 16;case Dm:return 536870912;default:return 16}default:return 16}}var An=null,Vc=null,Mo=null;function Bm(){if(Mo)return Mo;var t,e=Vc,n=e.length,r,i="value"in An?An.value:An.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var l=n-t;for(r=1;r<=l&&e[n-r]===i[s-r];r++);return Mo=i.slice(t,1<r?1-r:void 0)}function Oo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function go(){return!0}function Xd(){return!1}function At(t){function e(n,r,i,s,l){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=l,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?go:Xd,this.isPropagationStopped=Xd,this}return _e(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=go)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=go)},persist:function(){},isPersistent:go}),e}var yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mc=At(yi),zs=_e({},yi,{view:0,detail:0}),f0=At(zs),Ca,Ra,$i,Dl=_e({},zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$i&&($i&&t.type==="mousemove"?(Ca=t.screenX-$i.screenX,Ra=t.screenY-$i.screenY):Ra=Ca=0,$i=t),Ca)},movementY:function(t){return"movementY"in t?t.movementY:Ra}}),Jd=At(Dl),p0=_e({},Dl,{dataTransfer:0}),m0=At(p0),g0=_e({},zs,{relatedTarget:0}),Pa=At(g0),y0=_e({},yi,{animationName:0,elapsedTime:0,pseudoElement:0}),v0=At(y0),_0=_e({},yi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),E0=At(_0),w0=_e({},yi,{data:0}),Zd=At(w0),T0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},I0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},S0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function A0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=S0[t])?!!e[t]:!1}function Oc(){return A0}var C0=_e({},zs,{key:function(t){if(t.key){var e=T0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Oo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?I0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oc,charCode:function(t){return t.type==="keypress"?Oo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Oo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),R0=At(C0),P0=_e({},Dl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ef=At(P0),k0=_e({},zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oc}),N0=At(k0),D0=_e({},yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),x0=At(D0),V0=_e({},Dl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),M0=At(V0),O0=[9,13,27,32],Lc=un&&"CompositionEvent"in window,rs=null;un&&"documentMode"in document&&(rs=document.documentMode);var L0=un&&"TextEvent"in window&&!rs,jm=un&&(!Lc||rs&&8<rs&&11>=rs),tf=" ",nf=!1;function $m(t,e){switch(t){case"keyup":return O0.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Or=!1;function F0(t,e){switch(t){case"compositionend":return bm(e);case"keypress":return e.which!==32?null:(nf=!0,tf);case"textInput":return t=e.data,t===tf&&nf?null:t;default:return null}}function U0(t,e){if(Or)return t==="compositionend"||!Lc&&$m(t,e)?(t=Bm(),Mo=Vc=An=null,Or=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return jm&&e.locale!=="ko"?null:e.data;default:return null}}var z0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!z0[t.type]:e==="textarea"}function Hm(t,e,n,r){wm(r),e=tl(e,"onChange"),0<e.length&&(n=new Mc("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var is=null,Es=null;function B0(t){tg(t,0)}function xl(t){var e=Ur(t);if(pm(e))return t}function j0(t,e){if(t==="change")return e}var Qm=!1;if(un){var ka;if(un){var Na="oninput"in document;if(!Na){var sf=document.createElement("div");sf.setAttribute("oninput","return;"),Na=typeof sf.oninput=="function"}ka=Na}else ka=!1;Qm=ka&&(!document.documentMode||9<document.documentMode)}function of(){is&&(is.detachEvent("onpropertychange",qm),Es=is=null)}function qm(t){if(t.propertyName==="value"&&xl(Es)){var e=[];Hm(e,Es,t,Pc(t)),Am(B0,e)}}function $0(t,e,n){t==="focusin"?(of(),is=e,Es=n,is.attachEvent("onpropertychange",qm)):t==="focusout"&&of()}function b0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xl(Es)}function H0(t,e){if(t==="click")return xl(e)}function Q0(t,e){if(t==="input"||t==="change")return xl(e)}function q0(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Bt=typeof Object.is=="function"?Object.is:q0;function ws(t,e){if(Bt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!nu.call(e,i)||!Bt(t[i],e[i]))return!1}return!0}function lf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function af(t,e){var n=lf(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=lf(n)}}function Km(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Km(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Wm(){for(var t=window,e=Wo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Wo(t.document)}return e}function Fc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function K0(t){var e=Wm(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Km(n.ownerDocument.documentElement,n)){if(r!==null&&Fc(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=af(n,s);var l=af(n,r);i&&l&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var W0=un&&"documentMode"in document&&11>=document.documentMode,Lr=null,wu=null,ss=null,Tu=!1;function uf(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Tu||Lr==null||Lr!==Wo(r)||(r=Lr,"selectionStart"in r&&Fc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ss&&ws(ss,r)||(ss=r,r=tl(wu,"onSelect"),0<r.length&&(e=new Mc("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Lr)))}function yo(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Fr={animationend:yo("Animation","AnimationEnd"),animationiteration:yo("Animation","AnimationIteration"),animationstart:yo("Animation","AnimationStart"),transitionend:yo("Transition","TransitionEnd")},Da={},Gm={};un&&(Gm=document.createElement("div").style,"AnimationEvent"in window||(delete Fr.animationend.animation,delete Fr.animationiteration.animation,delete Fr.animationstart.animation),"TransitionEvent"in window||delete Fr.transitionend.transition);function Vl(t){if(Da[t])return Da[t];if(!Fr[t])return t;var e=Fr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Gm)return Da[t]=e[n];return t}var Ym=Vl("animationend"),Xm=Vl("animationiteration"),Jm=Vl("animationstart"),Zm=Vl("transitionend"),eg=new Map,cf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qn(t,e){eg.set(t,e),wr(e,[t])}for(var xa=0;xa<cf.length;xa++){var Va=cf[xa],G0=Va.toLowerCase(),Y0=Va[0].toUpperCase()+Va.slice(1);Qn(G0,"on"+Y0)}Qn(Ym,"onAnimationEnd");Qn(Xm,"onAnimationIteration");Qn(Jm,"onAnimationStart");Qn("dblclick","onDoubleClick");Qn("focusin","onFocus");Qn("focusout","onBlur");Qn(Zm,"onTransitionEnd");ni("onMouseEnter",["mouseout","mouseover"]);ni("onMouseLeave",["mouseout","mouseover"]);ni("onPointerEnter",["pointerout","pointerover"]);ni("onPointerLeave",["pointerout","pointerover"]);wr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wr("onBeforeInput",["compositionend","keypress","textInput","paste"]);wr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),X0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yi));function hf(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,G_(r,e,void 0,t),t.currentTarget=null}function tg(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var l=r.length-1;0<=l;l--){var u=r[l],a=u.instance,h=u.currentTarget;if(u=u.listener,a!==s&&i.isPropagationStopped())break e;hf(i,u,h),s=a}else for(l=0;l<r.length;l++){if(u=r[l],a=u.instance,h=u.currentTarget,u=u.listener,a!==s&&i.isPropagationStopped())break e;hf(i,u,h),s=a}}}if(Yo)throw t=yu,Yo=!1,yu=null,t}function fe(t,e){var n=e[Ru];n===void 0&&(n=e[Ru]=new Set);var r=t+"__bubble";n.has(r)||(ng(e,t,2,!1),n.add(r))}function Ma(t,e,n){var r=0;e&&(r|=4),ng(n,t,r,e)}var vo="_reactListening"+Math.random().toString(36).slice(2);function Ts(t){if(!t[vo]){t[vo]=!0,um.forEach(function(n){n!=="selectionchange"&&(X0.has(n)||Ma(n,!1,t),Ma(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[vo]||(e[vo]=!0,Ma("selectionchange",!1,e))}}function ng(t,e,n,r){switch(zm(e)){case 1:var i=h0;break;case 4:i=d0;break;default:i=xc}n=i.bind(null,e,n,t),i=void 0,!gu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Oa(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(l===4)for(l=r.return;l!==null;){var a=l.tag;if((a===3||a===4)&&(a=l.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;l=l.return}for(;u!==null;){if(l=ir(u),l===null)return;if(a=l.tag,a===5||a===6){r=s=l;continue e}u=u.parentNode}}r=r.return}Am(function(){var h=s,f=Pc(n),p=[];e:{var m=eg.get(t);if(m!==void 0){var S=Mc,C=t;switch(t){case"keypress":if(Oo(n)===0)break e;case"keydown":case"keyup":S=R0;break;case"focusin":C="focus",S=Pa;break;case"focusout":C="blur",S=Pa;break;case"beforeblur":case"afterblur":S=Pa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=Jd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=m0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=N0;break;case Ym:case Xm:case Jm:S=v0;break;case Zm:S=x0;break;case"scroll":S=f0;break;case"wheel":S=M0;break;case"copy":case"cut":case"paste":S=E0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=ef}var N=(e&4)!==0,x=!N&&t==="scroll",A=N?m!==null?m+"Capture":null:m;N=[];for(var _=h,w;_!==null;){w=_;var D=w.stateNode;if(w.tag===5&&D!==null&&(w=D,A!==null&&(D=gs(_,A),D!=null&&N.push(Is(_,D,w)))),x)break;_=_.return}0<N.length&&(m=new S(m,C,null,n,f),p.push({event:m,listeners:N}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",S=t==="mouseout"||t==="pointerout",m&&n!==pu&&(C=n.relatedTarget||n.fromElement)&&(ir(C)||C[cn]))break e;if((S||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,S?(C=n.relatedTarget||n.toElement,S=h,C=C?ir(C):null,C!==null&&(x=Tr(C),C!==x||C.tag!==5&&C.tag!==6)&&(C=null)):(S=null,C=h),S!==C)){if(N=Jd,D="onMouseLeave",A="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(N=ef,D="onPointerLeave",A="onPointerEnter",_="pointer"),x=S==null?m:Ur(S),w=C==null?m:Ur(C),m=new N(D,_+"leave",S,n,f),m.target=x,m.relatedTarget=w,D=null,ir(f)===h&&(N=new N(A,_+"enter",C,n,f),N.target=w,N.relatedTarget=x,D=N),x=D,S&&C)t:{for(N=S,A=C,_=0,w=N;w;w=kr(w))_++;for(w=0,D=A;D;D=kr(D))w++;for(;0<_-w;)N=kr(N),_--;for(;0<w-_;)A=kr(A),w--;for(;_--;){if(N===A||A!==null&&N===A.alternate)break t;N=kr(N),A=kr(A)}N=null}else N=null;S!==null&&df(p,m,S,N,!1),C!==null&&x!==null&&df(p,x,C,N,!0)}}e:{if(m=h?Ur(h):window,S=m.nodeName&&m.nodeName.toLowerCase(),S==="select"||S==="input"&&m.type==="file")var L=j0;else if(rf(m))if(Qm)L=Q0;else{L=b0;var U=$0}else(S=m.nodeName)&&S.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(L=H0);if(L&&(L=L(t,h))){Hm(p,L,n,f);break e}U&&U(t,m,h),t==="focusout"&&(U=m._wrapperState)&&U.controlled&&m.type==="number"&&uu(m,"number",m.value)}switch(U=h?Ur(h):window,t){case"focusin":(rf(U)||U.contentEditable==="true")&&(Lr=U,wu=h,ss=null);break;case"focusout":ss=wu=Lr=null;break;case"mousedown":Tu=!0;break;case"contextmenu":case"mouseup":case"dragend":Tu=!1,uf(p,n,f);break;case"selectionchange":if(W0)break;case"keydown":case"keyup":uf(p,n,f)}var E;if(Lc)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Or?$m(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(jm&&n.locale!=="ko"&&(Or||y!=="onCompositionStart"?y==="onCompositionEnd"&&Or&&(E=Bm()):(An=f,Vc="value"in An?An.value:An.textContent,Or=!0)),U=tl(h,y),0<U.length&&(y=new Zd(y,t,null,n,f),p.push({event:y,listeners:U}),E?y.data=E:(E=bm(n),E!==null&&(y.data=E)))),(E=L0?F0(t,n):U0(t,n))&&(h=tl(h,"onBeforeInput"),0<h.length&&(f=new Zd("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:h}),f.data=E))}tg(p,e)})}function Is(t,e,n){return{instance:t,listener:e,currentTarget:n}}function tl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=gs(t,n),s!=null&&r.unshift(Is(t,s,i)),s=gs(t,e),s!=null&&r.push(Is(t,s,i))),t=t.return}return r}function kr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function df(t,e,n,r,i){for(var s=e._reactName,l=[];n!==null&&n!==r;){var u=n,a=u.alternate,h=u.stateNode;if(a!==null&&a===r)break;u.tag===5&&h!==null&&(u=h,i?(a=gs(n,s),a!=null&&l.unshift(Is(n,a,u))):i||(a=gs(n,s),a!=null&&l.push(Is(n,a,u)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var J0=/\r\n?/g,Z0=/\u0000|\uFFFD/g;function ff(t){return(typeof t=="string"?t:""+t).replace(J0,`
`).replace(Z0,"")}function _o(t,e,n){if(e=ff(e),ff(t)!==e&&n)throw Error(F(425))}function nl(){}var Iu=null,Su=null;function Au(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Cu=typeof setTimeout=="function"?setTimeout:void 0,e1=typeof clearTimeout=="function"?clearTimeout:void 0,pf=typeof Promise=="function"?Promise:void 0,t1=typeof queueMicrotask=="function"?queueMicrotask:typeof pf<"u"?function(t){return pf.resolve(null).then(t).catch(n1)}:Cu;function n1(t){setTimeout(function(){throw t})}function La(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),_s(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);_s(e)}function xn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function mf(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var vi=Math.random().toString(36).slice(2),Ht="__reactFiber$"+vi,Ss="__reactProps$"+vi,cn="__reactContainer$"+vi,Ru="__reactEvents$"+vi,r1="__reactListeners$"+vi,i1="__reactHandles$"+vi;function ir(t){var e=t[Ht];if(e)return e;for(var n=t.parentNode;n;){if(e=n[cn]||n[Ht]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=mf(t);t!==null;){if(n=t[Ht])return n;t=mf(t)}return e}t=n,n=t.parentNode}return null}function Bs(t){return t=t[Ht]||t[cn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ur(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(F(33))}function Ml(t){return t[Ss]||null}var Pu=[],zr=-1;function qn(t){return{current:t}}function pe(t){0>zr||(t.current=Pu[zr],Pu[zr]=null,zr--)}function he(t,e){zr++,Pu[zr]=t.current,t.current=e}var jn={},it=qn(jn),pt=qn(!1),dr=jn;function ri(t,e){var n=t.type.contextTypes;if(!n)return jn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function mt(t){return t=t.childContextTypes,t!=null}function rl(){pe(pt),pe(it)}function gf(t,e,n){if(it.current!==jn)throw Error(F(168));he(it,e),he(pt,n)}function rg(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(F(108,$_(t)||"Unknown",i));return _e({},n,r)}function il(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||jn,dr=it.current,he(it,t),he(pt,pt.current),!0}function yf(t,e,n){var r=t.stateNode;if(!r)throw Error(F(169));n?(t=rg(t,e,dr),r.__reactInternalMemoizedMergedChildContext=t,pe(pt),pe(it),he(it,t)):pe(pt),he(pt,n)}var sn=null,Ol=!1,Fa=!1;function ig(t){sn===null?sn=[t]:sn.push(t)}function s1(t){Ol=!0,ig(t)}function Kn(){if(!Fa&&sn!==null){Fa=!0;var t=0,e=ae;try{var n=sn;for(ae=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}sn=null,Ol=!1}catch(i){throw sn!==null&&(sn=sn.slice(t+1)),km(kc,Kn),i}finally{ae=e,Fa=!1}}return null}var Br=[],jr=0,sl=null,ol=0,Ct=[],Rt=0,fr=null,on=1,ln="";function tr(t,e){Br[jr++]=ol,Br[jr++]=sl,sl=t,ol=e}function sg(t,e,n){Ct[Rt++]=on,Ct[Rt++]=ln,Ct[Rt++]=fr,fr=t;var r=on;t=ln;var i=32-Ut(r)-1;r&=~(1<<i),n+=1;var s=32-Ut(e)+i;if(30<s){var l=i-i%5;s=(r&(1<<l)-1).toString(32),r>>=l,i-=l,on=1<<32-Ut(e)+i|n<<i|r,ln=s+t}else on=1<<s|n<<i|r,ln=t}function Uc(t){t.return!==null&&(tr(t,1),sg(t,1,0))}function zc(t){for(;t===sl;)sl=Br[--jr],Br[jr]=null,ol=Br[--jr],Br[jr]=null;for(;t===fr;)fr=Ct[--Rt],Ct[Rt]=null,ln=Ct[--Rt],Ct[Rt]=null,on=Ct[--Rt],Ct[Rt]=null}var Tt=null,wt=null,ge=!1,Lt=null;function og(t,e){var n=Pt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function vf(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Tt=t,wt=xn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Tt=t,wt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=fr!==null?{id:on,overflow:ln}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Pt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Tt=t,wt=null,!0):!1;default:return!1}}function ku(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Nu(t){if(ge){var e=wt;if(e){var n=e;if(!vf(t,e)){if(ku(t))throw Error(F(418));e=xn(n.nextSibling);var r=Tt;e&&vf(t,e)?og(r,n):(t.flags=t.flags&-4097|2,ge=!1,Tt=t)}}else{if(ku(t))throw Error(F(418));t.flags=t.flags&-4097|2,ge=!1,Tt=t}}}function _f(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Tt=t}function Eo(t){if(t!==Tt)return!1;if(!ge)return _f(t),ge=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Au(t.type,t.memoizedProps)),e&&(e=wt)){if(ku(t))throw lg(),Error(F(418));for(;e;)og(t,e),e=xn(e.nextSibling)}if(_f(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(F(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){wt=xn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}wt=null}}else wt=Tt?xn(t.stateNode.nextSibling):null;return!0}function lg(){for(var t=wt;t;)t=xn(t.nextSibling)}function ii(){wt=Tt=null,ge=!1}function Bc(t){Lt===null?Lt=[t]:Lt.push(t)}var o1=mn.ReactCurrentBatchConfig;function bi(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var r=n.stateNode}if(!r)throw Error(F(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(l){var u=i.refs;l===null?delete u[s]:u[s]=l},e._stringRef=s,e)}if(typeof t!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,t))}return t}function wo(t,e){throw t=Object.prototype.toString.call(e),Error(F(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ef(t){var e=t._init;return e(t._payload)}function ag(t){function e(A,_){if(t){var w=A.deletions;w===null?(A.deletions=[_],A.flags|=16):w.push(_)}}function n(A,_){if(!t)return null;for(;_!==null;)e(A,_),_=_.sibling;return null}function r(A,_){for(A=new Map;_!==null;)_.key!==null?A.set(_.key,_):A.set(_.index,_),_=_.sibling;return A}function i(A,_){return A=Ln(A,_),A.index=0,A.sibling=null,A}function s(A,_,w){return A.index=w,t?(w=A.alternate,w!==null?(w=w.index,w<_?(A.flags|=2,_):w):(A.flags|=2,_)):(A.flags|=1048576,_)}function l(A){return t&&A.alternate===null&&(A.flags|=2),A}function u(A,_,w,D){return _===null||_.tag!==6?(_=Ha(w,A.mode,D),_.return=A,_):(_=i(_,w),_.return=A,_)}function a(A,_,w,D){var L=w.type;return L===Mr?f(A,_,w.props.children,D,w.key):_!==null&&(_.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===wn&&Ef(L)===_.type)?(D=i(_,w.props),D.ref=bi(A,_,w),D.return=A,D):(D=$o(w.type,w.key,w.props,null,A.mode,D),D.ref=bi(A,_,w),D.return=A,D)}function h(A,_,w,D){return _===null||_.tag!==4||_.stateNode.containerInfo!==w.containerInfo||_.stateNode.implementation!==w.implementation?(_=Qa(w,A.mode,D),_.return=A,_):(_=i(_,w.children||[]),_.return=A,_)}function f(A,_,w,D,L){return _===null||_.tag!==7?(_=ur(w,A.mode,D,L),_.return=A,_):(_=i(_,w),_.return=A,_)}function p(A,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Ha(""+_,A.mode,w),_.return=A,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case uo:return w=$o(_.type,_.key,_.props,null,A.mode,w),w.ref=bi(A,null,_),w.return=A,w;case Vr:return _=Qa(_,A.mode,w),_.return=A,_;case wn:var D=_._init;return p(A,D(_._payload),w)}if(Wi(_)||Ui(_))return _=ur(_,A.mode,w,null),_.return=A,_;wo(A,_)}return null}function m(A,_,w,D){var L=_!==null?_.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return L!==null?null:u(A,_,""+w,D);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case uo:return w.key===L?a(A,_,w,D):null;case Vr:return w.key===L?h(A,_,w,D):null;case wn:return L=w._init,m(A,_,L(w._payload),D)}if(Wi(w)||Ui(w))return L!==null?null:f(A,_,w,D,null);wo(A,w)}return null}function S(A,_,w,D,L){if(typeof D=="string"&&D!==""||typeof D=="number")return A=A.get(w)||null,u(_,A,""+D,L);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case uo:return A=A.get(D.key===null?w:D.key)||null,a(_,A,D,L);case Vr:return A=A.get(D.key===null?w:D.key)||null,h(_,A,D,L);case wn:var U=D._init;return S(A,_,w,U(D._payload),L)}if(Wi(D)||Ui(D))return A=A.get(w)||null,f(_,A,D,L,null);wo(_,D)}return null}function C(A,_,w,D){for(var L=null,U=null,E=_,y=_=0,v=null;E!==null&&y<w.length;y++){E.index>y?(v=E,E=null):v=E.sibling;var I=m(A,E,w[y],D);if(I===null){E===null&&(E=v);break}t&&E&&I.alternate===null&&e(A,E),_=s(I,_,y),U===null?L=I:U.sibling=I,U=I,E=v}if(y===w.length)return n(A,E),ge&&tr(A,y),L;if(E===null){for(;y<w.length;y++)E=p(A,w[y],D),E!==null&&(_=s(E,_,y),U===null?L=E:U.sibling=E,U=E);return ge&&tr(A,y),L}for(E=r(A,E);y<w.length;y++)v=S(E,A,y,w[y],D),v!==null&&(t&&v.alternate!==null&&E.delete(v.key===null?y:v.key),_=s(v,_,y),U===null?L=v:U.sibling=v,U=v);return t&&E.forEach(function(R){return e(A,R)}),ge&&tr(A,y),L}function N(A,_,w,D){var L=Ui(w);if(typeof L!="function")throw Error(F(150));if(w=L.call(w),w==null)throw Error(F(151));for(var U=L=null,E=_,y=_=0,v=null,I=w.next();E!==null&&!I.done;y++,I=w.next()){E.index>y?(v=E,E=null):v=E.sibling;var R=m(A,E,I.value,D);if(R===null){E===null&&(E=v);break}t&&E&&R.alternate===null&&e(A,E),_=s(R,_,y),U===null?L=R:U.sibling=R,U=R,E=v}if(I.done)return n(A,E),ge&&tr(A,y),L;if(E===null){for(;!I.done;y++,I=w.next())I=p(A,I.value,D),I!==null&&(_=s(I,_,y),U===null?L=I:U.sibling=I,U=I);return ge&&tr(A,y),L}for(E=r(A,E);!I.done;y++,I=w.next())I=S(E,A,y,I.value,D),I!==null&&(t&&I.alternate!==null&&E.delete(I.key===null?y:I.key),_=s(I,_,y),U===null?L=I:U.sibling=I,U=I);return t&&E.forEach(function(P){return e(A,P)}),ge&&tr(A,y),L}function x(A,_,w,D){if(typeof w=="object"&&w!==null&&w.type===Mr&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case uo:e:{for(var L=w.key,U=_;U!==null;){if(U.key===L){if(L=w.type,L===Mr){if(U.tag===7){n(A,U.sibling),_=i(U,w.props.children),_.return=A,A=_;break e}}else if(U.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===wn&&Ef(L)===U.type){n(A,U.sibling),_=i(U,w.props),_.ref=bi(A,U,w),_.return=A,A=_;break e}n(A,U);break}else e(A,U);U=U.sibling}w.type===Mr?(_=ur(w.props.children,A.mode,D,w.key),_.return=A,A=_):(D=$o(w.type,w.key,w.props,null,A.mode,D),D.ref=bi(A,_,w),D.return=A,A=D)}return l(A);case Vr:e:{for(U=w.key;_!==null;){if(_.key===U)if(_.tag===4&&_.stateNode.containerInfo===w.containerInfo&&_.stateNode.implementation===w.implementation){n(A,_.sibling),_=i(_,w.children||[]),_.return=A,A=_;break e}else{n(A,_);break}else e(A,_);_=_.sibling}_=Qa(w,A.mode,D),_.return=A,A=_}return l(A);case wn:return U=w._init,x(A,_,U(w._payload),D)}if(Wi(w))return C(A,_,w,D);if(Ui(w))return N(A,_,w,D);wo(A,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,_!==null&&_.tag===6?(n(A,_.sibling),_=i(_,w),_.return=A,A=_):(n(A,_),_=Ha(w,A.mode,D),_.return=A,A=_),l(A)):n(A,_)}return x}var si=ag(!0),ug=ag(!1),ll=qn(null),al=null,$r=null,jc=null;function $c(){jc=$r=al=null}function bc(t){var e=ll.current;pe(ll),t._currentValue=e}function Du(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Yr(t,e){al=t,jc=$r=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ft=!0),t.firstContext=null)}function Nt(t){var e=t._currentValue;if(jc!==t)if(t={context:t,memoizedValue:e,next:null},$r===null){if(al===null)throw Error(F(308));$r=t,al.dependencies={lanes:0,firstContext:t}}else $r=$r.next=t;return e}var sr=null;function Hc(t){sr===null?sr=[t]:sr.push(t)}function cg(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Hc(e)):(n.next=i.next,i.next=n),e.interleaved=n,hn(t,r)}function hn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Tn=!1;function Qc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hg(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function an(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Vn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ie&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,hn(t,n)}return i=r.interleaved,i===null?(e.next=e,Hc(r)):(e.next=i.next,i.next=e),r.interleaved=e,hn(t,n)}function Lo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Nc(t,n)}}function wf(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=l:s=s.next=l,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ul(t,e,n,r){var i=t.updateQueue;Tn=!1;var s=i.firstBaseUpdate,l=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var a=u,h=a.next;a.next=null,l===null?s=h:l.next=h,l=a;var f=t.alternate;f!==null&&(f=f.updateQueue,u=f.lastBaseUpdate,u!==l&&(u===null?f.firstBaseUpdate=h:u.next=h,f.lastBaseUpdate=a))}if(s!==null){var p=i.baseState;l=0,f=h=a=null,u=s;do{var m=u.lane,S=u.eventTime;if((r&m)===m){f!==null&&(f=f.next={eventTime:S,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var C=t,N=u;switch(m=e,S=n,N.tag){case 1:if(C=N.payload,typeof C=="function"){p=C.call(S,p,m);break e}p=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=N.payload,m=typeof C=="function"?C.call(S,p,m):C,m==null)break e;p=_e({},p,m);break e;case 2:Tn=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[u]:m.push(u))}else S={eventTime:S,lane:m,tag:u.tag,payload:u.payload,callback:u.callback,next:null},f===null?(h=f=S,a=p):f=f.next=S,l|=m;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;m=u,u=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(f===null&&(a=p),i.baseState=a,i.firstBaseUpdate=h,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do l|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);mr|=l,t.lanes=l,t.memoizedState=p}}function Tf(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(F(191,i));i.call(r)}}}var js={},Kt=qn(js),As=qn(js),Cs=qn(js);function or(t){if(t===js)throw Error(F(174));return t}function qc(t,e){switch(he(Cs,e),he(As,t),he(Kt,js),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:hu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=hu(e,t)}pe(Kt),he(Kt,e)}function oi(){pe(Kt),pe(As),pe(Cs)}function dg(t){or(Cs.current);var e=or(Kt.current),n=hu(e,t.type);e!==n&&(he(As,t),he(Kt,n))}function Kc(t){As.current===t&&(pe(Kt),pe(As))}var ye=qn(0);function cl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ua=[];function Wc(){for(var t=0;t<Ua.length;t++)Ua[t]._workInProgressVersionPrimary=null;Ua.length=0}var Fo=mn.ReactCurrentDispatcher,za=mn.ReactCurrentBatchConfig,pr=0,ve=null,Ve=null,ze=null,hl=!1,os=!1,Rs=0,l1=0;function Je(){throw Error(F(321))}function Gc(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Bt(t[n],e[n]))return!1;return!0}function Yc(t,e,n,r,i,s){if(pr=s,ve=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Fo.current=t===null||t.memoizedState===null?h1:d1,t=n(r,i),os){s=0;do{if(os=!1,Rs=0,25<=s)throw Error(F(301));s+=1,ze=Ve=null,e.updateQueue=null,Fo.current=f1,t=n(r,i)}while(os)}if(Fo.current=dl,e=Ve!==null&&Ve.next!==null,pr=0,ze=Ve=ve=null,hl=!1,e)throw Error(F(300));return t}function Xc(){var t=Rs!==0;return Rs=0,t}function bt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?ve.memoizedState=ze=t:ze=ze.next=t,ze}function Dt(){if(Ve===null){var t=ve.alternate;t=t!==null?t.memoizedState:null}else t=Ve.next;var e=ze===null?ve.memoizedState:ze.next;if(e!==null)ze=e,Ve=t;else{if(t===null)throw Error(F(310));Ve=t,t={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},ze===null?ve.memoizedState=ze=t:ze=ze.next=t}return ze}function Ps(t,e){return typeof e=="function"?e(t):e}function Ba(t){var e=Dt(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=Ve,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var l=i.next;i.next=s.next,s.next=l}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var u=l=null,a=null,h=s;do{var f=h.lane;if((pr&f)===f)a!==null&&(a=a.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var p={lane:f,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};a===null?(u=a=p,l=r):a=a.next=p,ve.lanes|=f,mr|=f}h=h.next}while(h!==null&&h!==s);a===null?l=r:a.next=u,Bt(r,e.memoizedState)||(ft=!0),e.memoizedState=r,e.baseState=l,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ve.lanes|=s,mr|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ja(t){var e=Dt(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var l=i=i.next;do s=t(s,l.action),l=l.next;while(l!==i);Bt(s,e.memoizedState)||(ft=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function fg(){}function pg(t,e){var n=ve,r=Dt(),i=e(),s=!Bt(r.memoizedState,i);if(s&&(r.memoizedState=i,ft=!0),r=r.queue,Jc(yg.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ze!==null&&ze.memoizedState.tag&1){if(n.flags|=2048,ks(9,gg.bind(null,n,r,i,e),void 0,null),Be===null)throw Error(F(349));pr&30||mg(n,e,i)}return i}function mg(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ve.updateQueue,e===null?(e={lastEffect:null,stores:null},ve.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function gg(t,e,n,r){e.value=n,e.getSnapshot=r,vg(e)&&_g(t)}function yg(t,e,n){return n(function(){vg(e)&&_g(t)})}function vg(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Bt(t,n)}catch{return!0}}function _g(t){var e=hn(t,1);e!==null&&zt(e,t,1,-1)}function If(t){var e=bt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ps,lastRenderedState:t},e.queue=t,t=t.dispatch=c1.bind(null,ve,t),[e.memoizedState,t]}function ks(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ve.updateQueue,e===null?(e={lastEffect:null,stores:null},ve.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Eg(){return Dt().memoizedState}function Uo(t,e,n,r){var i=bt();ve.flags|=t,i.memoizedState=ks(1|e,n,void 0,r===void 0?null:r)}function Ll(t,e,n,r){var i=Dt();r=r===void 0?null:r;var s=void 0;if(Ve!==null){var l=Ve.memoizedState;if(s=l.destroy,r!==null&&Gc(r,l.deps)){i.memoizedState=ks(e,n,s,r);return}}ve.flags|=t,i.memoizedState=ks(1|e,n,s,r)}function Sf(t,e){return Uo(8390656,8,t,e)}function Jc(t,e){return Ll(2048,8,t,e)}function wg(t,e){return Ll(4,2,t,e)}function Tg(t,e){return Ll(4,4,t,e)}function Ig(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Sg(t,e,n){return n=n!=null?n.concat([t]):null,Ll(4,4,Ig.bind(null,e,t),n)}function Zc(){}function Ag(t,e){var n=Dt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Gc(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Cg(t,e){var n=Dt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Gc(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Rg(t,e,n){return pr&21?(Bt(n,e)||(n=xm(),ve.lanes|=n,mr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ft=!0),t.memoizedState=n)}function a1(t,e){var n=ae;ae=n!==0&&4>n?n:4,t(!0);var r=za.transition;za.transition={};try{t(!1),e()}finally{ae=n,za.transition=r}}function Pg(){return Dt().memoizedState}function u1(t,e,n){var r=On(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},kg(t))Ng(e,n);else if(n=cg(t,e,n,r),n!==null){var i=ut();zt(n,t,r,i),Dg(n,e,r)}}function c1(t,e,n){var r=On(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(kg(t))Ng(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var l=e.lastRenderedState,u=s(l,n);if(i.hasEagerState=!0,i.eagerState=u,Bt(u,l)){var a=e.interleaved;a===null?(i.next=i,Hc(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=cg(t,e,i,r),n!==null&&(i=ut(),zt(n,t,r,i),Dg(n,e,r))}}function kg(t){var e=t.alternate;return t===ve||e!==null&&e===ve}function Ng(t,e){os=hl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Dg(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Nc(t,n)}}var dl={readContext:Nt,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useInsertionEffect:Je,useLayoutEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useMutableSource:Je,useSyncExternalStore:Je,useId:Je,unstable_isNewReconciler:!1},h1={readContext:Nt,useCallback:function(t,e){return bt().memoizedState=[t,e===void 0?null:e],t},useContext:Nt,useEffect:Sf,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Uo(4194308,4,Ig.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Uo(4194308,4,t,e)},useInsertionEffect:function(t,e){return Uo(4,2,t,e)},useMemo:function(t,e){var n=bt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=bt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=u1.bind(null,ve,t),[r.memoizedState,t]},useRef:function(t){var e=bt();return t={current:t},e.memoizedState=t},useState:If,useDebugValue:Zc,useDeferredValue:function(t){return bt().memoizedState=t},useTransition:function(){var t=If(!1),e=t[0];return t=a1.bind(null,t[1]),bt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ve,i=bt();if(ge){if(n===void 0)throw Error(F(407));n=n()}else{if(n=e(),Be===null)throw Error(F(349));pr&30||mg(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Sf(yg.bind(null,r,s,t),[t]),r.flags|=2048,ks(9,gg.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=bt(),e=Be.identifierPrefix;if(ge){var n=ln,r=on;n=(r&~(1<<32-Ut(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Rs++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=l1++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},d1={readContext:Nt,useCallback:Ag,useContext:Nt,useEffect:Jc,useImperativeHandle:Sg,useInsertionEffect:wg,useLayoutEffect:Tg,useMemo:Cg,useReducer:Ba,useRef:Eg,useState:function(){return Ba(Ps)},useDebugValue:Zc,useDeferredValue:function(t){var e=Dt();return Rg(e,Ve.memoizedState,t)},useTransition:function(){var t=Ba(Ps)[0],e=Dt().memoizedState;return[t,e]},useMutableSource:fg,useSyncExternalStore:pg,useId:Pg,unstable_isNewReconciler:!1},f1={readContext:Nt,useCallback:Ag,useContext:Nt,useEffect:Jc,useImperativeHandle:Sg,useInsertionEffect:wg,useLayoutEffect:Tg,useMemo:Cg,useReducer:ja,useRef:Eg,useState:function(){return ja(Ps)},useDebugValue:Zc,useDeferredValue:function(t){var e=Dt();return Ve===null?e.memoizedState=t:Rg(e,Ve.memoizedState,t)},useTransition:function(){var t=ja(Ps)[0],e=Dt().memoizedState;return[t,e]},useMutableSource:fg,useSyncExternalStore:pg,useId:Pg,unstable_isNewReconciler:!1};function Mt(t,e){if(t&&t.defaultProps){e=_e({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function xu(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:_e({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Fl={isMounted:function(t){return(t=t._reactInternals)?Tr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ut(),i=On(t),s=an(r,i);s.payload=e,n!=null&&(s.callback=n),e=Vn(t,s,i),e!==null&&(zt(e,t,i,r),Lo(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ut(),i=On(t),s=an(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Vn(t,s,i),e!==null&&(zt(e,t,i,r),Lo(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ut(),r=On(t),i=an(n,r);i.tag=2,e!=null&&(i.callback=e),e=Vn(t,i,r),e!==null&&(zt(e,t,r,n),Lo(e,t,r))}};function Af(t,e,n,r,i,s,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,l):e.prototype&&e.prototype.isPureReactComponent?!ws(n,r)||!ws(i,s):!0}function xg(t,e,n){var r=!1,i=jn,s=e.contextType;return typeof s=="object"&&s!==null?s=Nt(s):(i=mt(e)?dr:it.current,r=e.contextTypes,s=(r=r!=null)?ri(t,i):jn),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Fl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Cf(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Fl.enqueueReplaceState(e,e.state,null)}function Vu(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Qc(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Nt(s):(s=mt(e)?dr:it.current,i.context=ri(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(xu(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Fl.enqueueReplaceState(i,i.state,null),ul(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function li(t,e){try{var n="",r=e;do n+=j_(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function $a(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Mu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var p1=typeof WeakMap=="function"?WeakMap:Map;function Vg(t,e,n){n=an(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){pl||(pl=!0,Hu=r),Mu(t,e)},n}function Mg(t,e,n){n=an(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Mu(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Mu(t,e),typeof r!="function"&&(Mn===null?Mn=new Set([this]):Mn.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function Rf(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new p1;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=P1.bind(null,t,e,n),e.then(t,t))}function Pf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function kf(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=an(-1,1),e.tag=2,Vn(n,e,1))),n.lanes|=1),t)}var m1=mn.ReactCurrentOwner,ft=!1;function lt(t,e,n,r){e.child=t===null?ug(e,null,n,r):si(e,t.child,n,r)}function Nf(t,e,n,r,i){n=n.render;var s=e.ref;return Yr(e,i),r=Yc(t,e,n,r,s,i),n=Xc(),t!==null&&!ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,dn(t,e,i)):(ge&&n&&Uc(e),e.flags|=1,lt(t,e,r,i),e.child)}function Df(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!lh(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Og(t,e,s,r,i)):(t=$o(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var l=s.memoizedProps;if(n=n.compare,n=n!==null?n:ws,n(l,r)&&t.ref===e.ref)return dn(t,e,i)}return e.flags|=1,t=Ln(s,r),t.ref=e.ref,t.return=e,e.child=t}function Og(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ws(s,r)&&t.ref===e.ref)if(ft=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(ft=!0);else return e.lanes=t.lanes,dn(t,e,i)}return Ou(t,e,n,r,i)}function Lg(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},he(Hr,Et),Et|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,he(Hr,Et),Et|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,he(Hr,Et),Et|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,he(Hr,Et),Et|=r;return lt(t,e,i,n),e.child}function Fg(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ou(t,e,n,r,i){var s=mt(n)?dr:it.current;return s=ri(e,s),Yr(e,i),n=Yc(t,e,n,r,s,i),r=Xc(),t!==null&&!ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,dn(t,e,i)):(ge&&r&&Uc(e),e.flags|=1,lt(t,e,n,i),e.child)}function xf(t,e,n,r,i){if(mt(n)){var s=!0;il(e)}else s=!1;if(Yr(e,i),e.stateNode===null)zo(t,e),xg(e,n,r),Vu(e,n,r,i),r=!0;else if(t===null){var l=e.stateNode,u=e.memoizedProps;l.props=u;var a=l.context,h=n.contextType;typeof h=="object"&&h!==null?h=Nt(h):(h=mt(n)?dr:it.current,h=ri(e,h));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof l.getSnapshotBeforeUpdate=="function";p||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==r||a!==h)&&Cf(e,l,r,h),Tn=!1;var m=e.memoizedState;l.state=m,ul(e,r,l,i),a=e.memoizedState,u!==r||m!==a||pt.current||Tn?(typeof f=="function"&&(xu(e,n,f,r),a=e.memoizedState),(u=Tn||Af(e,n,u,r,m,a,h))?(p||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),l.props=r,l.state=a,l.context=h,r=u):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{l=e.stateNode,hg(t,e),u=e.memoizedProps,h=e.type===e.elementType?u:Mt(e.type,u),l.props=h,p=e.pendingProps,m=l.context,a=n.contextType,typeof a=="object"&&a!==null?a=Nt(a):(a=mt(n)?dr:it.current,a=ri(e,a));var S=n.getDerivedStateFromProps;(f=typeof S=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==p||m!==a)&&Cf(e,l,r,a),Tn=!1,m=e.memoizedState,l.state=m,ul(e,r,l,i);var C=e.memoizedState;u!==p||m!==C||pt.current||Tn?(typeof S=="function"&&(xu(e,n,S,r),C=e.memoizedState),(h=Tn||Af(e,n,h,r,m,C,a)||!1)?(f||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,C,a),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,C,a)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=C),l.props=r,l.state=C,l.context=a,r=h):(typeof l.componentDidUpdate!="function"||u===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Lu(t,e,n,r,s,i)}function Lu(t,e,n,r,i,s){Fg(t,e);var l=(e.flags&128)!==0;if(!r&&!l)return i&&yf(e,n,!1),dn(t,e,s);r=e.stateNode,m1.current=e;var u=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&l?(e.child=si(e,t.child,null,s),e.child=si(e,null,u,s)):lt(t,e,u,s),e.memoizedState=r.state,i&&yf(e,n,!0),e.child}function Ug(t){var e=t.stateNode;e.pendingContext?gf(t,e.pendingContext,e.pendingContext!==e.context):e.context&&gf(t,e.context,!1),qc(t,e.containerInfo)}function Vf(t,e,n,r,i){return ii(),Bc(i),e.flags|=256,lt(t,e,n,r),e.child}var Fu={dehydrated:null,treeContext:null,retryLane:0};function Uu(t){return{baseLanes:t,cachePool:null,transitions:null}}function zg(t,e,n){var r=e.pendingProps,i=ye.current,s=!1,l=(e.flags&128)!==0,u;if((u=l)||(u=t!==null&&t.memoizedState===null?!1:(i&2)!==0),u?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),he(ye,i&1),t===null)return Nu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=r.children,t=r.fallback,s?(r=e.mode,s=e.child,l={mode:"hidden",children:l},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=l):s=Bl(l,r,0,null),t=ur(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Uu(n),e.memoizedState=Fu,t):eh(e,l));if(i=t.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return g1(t,e,l,r,u,i,n);if(s){s=r.fallback,l=e.mode,i=t.child,u=i.sibling;var a={mode:"hidden",children:r.children};return!(l&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=Ln(i,a),r.subtreeFlags=i.subtreeFlags&14680064),u!==null?s=Ln(u,s):(s=ur(s,l,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,l=t.child.memoizedState,l=l===null?Uu(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=t.childLanes&~n,e.memoizedState=Fu,r}return s=t.child,t=s.sibling,r=Ln(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function eh(t,e){return e=Bl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function To(t,e,n,r){return r!==null&&Bc(r),si(e,t.child,null,n),t=eh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function g1(t,e,n,r,i,s,l){if(n)return e.flags&256?(e.flags&=-257,r=$a(Error(F(422))),To(t,e,l,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Bl({mode:"visible",children:r.children},i,0,null),s=ur(s,i,l,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&si(e,t.child,null,l),e.child.memoizedState=Uu(l),e.memoizedState=Fu,s);if(!(e.mode&1))return To(t,e,l,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var u=r.dgst;return r=u,s=Error(F(419)),r=$a(s,r,void 0),To(t,e,l,r)}if(u=(l&t.childLanes)!==0,ft||u){if(r=Be,r!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|l)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,hn(t,i),zt(r,t,i,-1))}return oh(),r=$a(Error(F(421))),To(t,e,l,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=k1.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,wt=xn(i.nextSibling),Tt=e,ge=!0,Lt=null,t!==null&&(Ct[Rt++]=on,Ct[Rt++]=ln,Ct[Rt++]=fr,on=t.id,ln=t.overflow,fr=e),e=eh(e,r.children),e.flags|=4096,e)}function Mf(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Du(t.return,e,n)}function ba(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Bg(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(lt(t,e,r.children,n),r=ye.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Mf(t,n,e);else if(t.tag===19)Mf(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(he(ye,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&cl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ba(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&cl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ba(e,!0,n,null,s);break;case"together":ba(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function zo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function dn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),mr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(F(153));if(e.child!==null){for(t=e.child,n=Ln(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ln(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function y1(t,e,n){switch(e.tag){case 3:Ug(e),ii();break;case 5:dg(e);break;case 1:mt(e.type)&&il(e);break;case 4:qc(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;he(ll,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(he(ye,ye.current&1),e.flags|=128,null):n&e.child.childLanes?zg(t,e,n):(he(ye,ye.current&1),t=dn(t,e,n),t!==null?t.sibling:null);he(ye,ye.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Bg(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),he(ye,ye.current),r)break;return null;case 22:case 23:return e.lanes=0,Lg(t,e,n)}return dn(t,e,n)}var jg,zu,$g,bg;jg=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};zu=function(){};$g=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,or(Kt.current);var s=null;switch(n){case"input":i=lu(t,i),r=lu(t,r),s=[];break;case"select":i=_e({},i,{value:void 0}),r=_e({},r,{value:void 0}),s=[];break;case"textarea":i=cu(t,i),r=cu(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=nl)}du(n,r);var l;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var u=i[h];for(l in u)u.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(ps.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var a=r[h];if(u=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&a!==u&&(a!=null||u!=null))if(h==="style")if(u){for(l in u)!u.hasOwnProperty(l)||a&&a.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in a)a.hasOwnProperty(l)&&u[l]!==a[l]&&(n||(n={}),n[l]=a[l])}else n||(s||(s=[]),s.push(h,n)),n=a;else h==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,u=u?u.__html:void 0,a!=null&&u!==a&&(s=s||[]).push(h,a)):h==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(h,""+a):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(ps.hasOwnProperty(h)?(a!=null&&h==="onScroll"&&fe("scroll",t),s||u===a||(s=[])):(s=s||[]).push(h,a))}n&&(s=s||[]).push("style",n);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};bg=function(t,e,n,r){n!==r&&(e.flags|=4)};function Hi(t,e){if(!ge)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ze(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function v1(t,e,n){var r=e.pendingProps;switch(zc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(e),null;case 1:return mt(e.type)&&rl(),Ze(e),null;case 3:return r=e.stateNode,oi(),pe(pt),pe(it),Wc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Eo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Lt!==null&&(Ku(Lt),Lt=null))),zu(t,e),Ze(e),null;case 5:Kc(e);var i=or(Cs.current);if(n=e.type,t!==null&&e.stateNode!=null)$g(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(F(166));return Ze(e),null}if(t=or(Kt.current),Eo(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Ht]=e,r[Ss]=s,t=(e.mode&1)!==0,n){case"dialog":fe("cancel",r),fe("close",r);break;case"iframe":case"object":case"embed":fe("load",r);break;case"video":case"audio":for(i=0;i<Yi.length;i++)fe(Yi[i],r);break;case"source":fe("error",r);break;case"img":case"image":case"link":fe("error",r),fe("load",r);break;case"details":fe("toggle",r);break;case"input":$d(r,s),fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},fe("invalid",r);break;case"textarea":Hd(r,s),fe("invalid",r)}du(n,s),i=null;for(var l in s)if(s.hasOwnProperty(l)){var u=s[l];l==="children"?typeof u=="string"?r.textContent!==u&&(s.suppressHydrationWarning!==!0&&_o(r.textContent,u,t),i=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&_o(r.textContent,u,t),i=["children",""+u]):ps.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&fe("scroll",r)}switch(n){case"input":co(r),bd(r,s,!0);break;case"textarea":co(r),Qd(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=nl)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ym(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),n==="select"&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[Ht]=e,t[Ss]=r,jg(t,e,!1,!1),e.stateNode=t;e:{switch(l=fu(n,r),n){case"dialog":fe("cancel",t),fe("close",t),i=r;break;case"iframe":case"object":case"embed":fe("load",t),i=r;break;case"video":case"audio":for(i=0;i<Yi.length;i++)fe(Yi[i],t);i=r;break;case"source":fe("error",t),i=r;break;case"img":case"image":case"link":fe("error",t),fe("load",t),i=r;break;case"details":fe("toggle",t),i=r;break;case"input":$d(t,r),i=lu(t,r),fe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=_e({},r,{value:void 0}),fe("invalid",t);break;case"textarea":Hd(t,r),i=cu(t,r),fe("invalid",t);break;default:i=r}du(n,i),u=i;for(s in u)if(u.hasOwnProperty(s)){var a=u[s];s==="style"?Em(t,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&vm(t,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&ms(t,a):typeof a=="number"&&ms(t,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ps.hasOwnProperty(s)?a!=null&&s==="onScroll"&&fe("scroll",t):a!=null&&Sc(t,s,a,l))}switch(n){case"input":co(t),bd(t,r,!1);break;case"textarea":co(t),Qd(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Bn(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?qr(t,!!r.multiple,s,!1):r.defaultValue!=null&&qr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=nl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ze(e),null;case 6:if(t&&e.stateNode!=null)bg(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(F(166));if(n=or(Cs.current),or(Kt.current),Eo(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ht]=e,(s=r.nodeValue!==n)&&(t=Tt,t!==null))switch(t.tag){case 3:_o(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&_o(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ht]=e,e.stateNode=r}return Ze(e),null;case 13:if(pe(ye),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ge&&wt!==null&&e.mode&1&&!(e.flags&128))lg(),ii(),e.flags|=98560,s=!1;else if(s=Eo(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(F(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(F(317));s[Ht]=e}else ii(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ze(e),s=!1}else Lt!==null&&(Ku(Lt),Lt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ye.current&1?Oe===0&&(Oe=3):oh())),e.updateQueue!==null&&(e.flags|=4),Ze(e),null);case 4:return oi(),zu(t,e),t===null&&Ts(e.stateNode.containerInfo),Ze(e),null;case 10:return bc(e.type._context),Ze(e),null;case 17:return mt(e.type)&&rl(),Ze(e),null;case 19:if(pe(ye),s=e.memoizedState,s===null)return Ze(e),null;if(r=(e.flags&128)!==0,l=s.rendering,l===null)if(r)Hi(s,!1);else{if(Oe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=cl(t),l!==null){for(e.flags|=128,Hi(s,!1),r=l.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,l=s.alternate,l===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,t=l.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return he(ye,ye.current&1|2),e.child}t=t.sibling}s.tail!==null&&Re()>ai&&(e.flags|=128,r=!0,Hi(s,!1),e.lanes=4194304)}else{if(!r)if(t=cl(l),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Hi(s,!0),s.tail===null&&s.tailMode==="hidden"&&!l.alternate&&!ge)return Ze(e),null}else 2*Re()-s.renderingStartTime>ai&&n!==1073741824&&(e.flags|=128,r=!0,Hi(s,!1),e.lanes=4194304);s.isBackwards?(l.sibling=e.child,e.child=l):(n=s.last,n!==null?n.sibling=l:e.child=l,s.last=l)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Re(),e.sibling=null,n=ye.current,he(ye,r?n&1|2:n&1),e):(Ze(e),null);case 22:case 23:return sh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Et&1073741824&&(Ze(e),e.subtreeFlags&6&&(e.flags|=8192)):Ze(e),null;case 24:return null;case 25:return null}throw Error(F(156,e.tag))}function _1(t,e){switch(zc(e),e.tag){case 1:return mt(e.type)&&rl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return oi(),pe(pt),pe(it),Wc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Kc(e),null;case 13:if(pe(ye),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(F(340));ii()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return pe(ye),null;case 4:return oi(),null;case 10:return bc(e.type._context),null;case 22:case 23:return sh(),null;case 24:return null;default:return null}}var Io=!1,nt=!1,E1=typeof WeakSet=="function"?WeakSet:Set,$=null;function br(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ie(t,e,r)}else n.current=null}function Bu(t,e,n){try{n()}catch(r){Ie(t,e,r)}}var Of=!1;function w1(t,e){if(Iu=Zo,t=Wm(),Fc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var l=0,u=-1,a=-1,h=0,f=0,p=t,m=null;t:for(;;){for(var S;p!==n||i!==0&&p.nodeType!==3||(u=l+i),p!==s||r!==0&&p.nodeType!==3||(a=l+r),p.nodeType===3&&(l+=p.nodeValue.length),(S=p.firstChild)!==null;)m=p,p=S;for(;;){if(p===t)break t;if(m===n&&++h===i&&(u=l),m===s&&++f===r&&(a=l),(S=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=S}n=u===-1||a===-1?null:{start:u,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Su={focusedElem:t,selectionRange:n},Zo=!1,$=e;$!==null;)if(e=$,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,$=t;else for(;$!==null;){e=$;try{var C=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var N=C.memoizedProps,x=C.memoizedState,A=e.stateNode,_=A.getSnapshotBeforeUpdate(e.elementType===e.type?N:Mt(e.type,N),x);A.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(D){Ie(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,$=t;break}$=e.return}return C=Of,Of=!1,C}function ls(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Bu(e,n,s)}i=i.next}while(i!==r)}}function Ul(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ju(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Hg(t){var e=t.alternate;e!==null&&(t.alternate=null,Hg(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ht],delete e[Ss],delete e[Ru],delete e[r1],delete e[i1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Qg(t){return t.tag===5||t.tag===3||t.tag===4}function Lf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Qg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $u(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=nl));else if(r!==4&&(t=t.child,t!==null))for($u(t,e,n),t=t.sibling;t!==null;)$u(t,e,n),t=t.sibling}function bu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(bu(t,e,n),t=t.sibling;t!==null;)bu(t,e,n),t=t.sibling}var $e=null,Ot=!1;function En(t,e,n){for(n=n.child;n!==null;)qg(t,e,n),n=n.sibling}function qg(t,e,n){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Nl,n)}catch{}switch(n.tag){case 5:nt||br(n,e);case 6:var r=$e,i=Ot;$e=null,En(t,e,n),$e=r,Ot=i,$e!==null&&(Ot?(t=$e,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):$e.removeChild(n.stateNode));break;case 18:$e!==null&&(Ot?(t=$e,n=n.stateNode,t.nodeType===8?La(t.parentNode,n):t.nodeType===1&&La(t,n),_s(t)):La($e,n.stateNode));break;case 4:r=$e,i=Ot,$e=n.stateNode.containerInfo,Ot=!0,En(t,e,n),$e=r,Ot=i;break;case 0:case 11:case 14:case 15:if(!nt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,l=s.destroy;s=s.tag,l!==void 0&&(s&2||s&4)&&Bu(n,e,l),i=i.next}while(i!==r)}En(t,e,n);break;case 1:if(!nt&&(br(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ie(n,e,u)}En(t,e,n);break;case 21:En(t,e,n);break;case 22:n.mode&1?(nt=(r=nt)||n.memoizedState!==null,En(t,e,n),nt=r):En(t,e,n);break;default:En(t,e,n)}}function Ff(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new E1),e.forEach(function(r){var i=N1.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Vt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,l=e,u=l;e:for(;u!==null;){switch(u.tag){case 5:$e=u.stateNode,Ot=!1;break e;case 3:$e=u.stateNode.containerInfo,Ot=!0;break e;case 4:$e=u.stateNode.containerInfo,Ot=!0;break e}u=u.return}if($e===null)throw Error(F(160));qg(s,l,i),$e=null,Ot=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(h){Ie(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Kg(e,t),e=e.sibling}function Kg(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Vt(e,t),$t(t),r&4){try{ls(3,t,t.return),Ul(3,t)}catch(N){Ie(t,t.return,N)}try{ls(5,t,t.return)}catch(N){Ie(t,t.return,N)}}break;case 1:Vt(e,t),$t(t),r&512&&n!==null&&br(n,n.return);break;case 5:if(Vt(e,t),$t(t),r&512&&n!==null&&br(n,n.return),t.flags&32){var i=t.stateNode;try{ms(i,"")}catch(N){Ie(t,t.return,N)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,l=n!==null?n.memoizedProps:s,u=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&mm(i,s),fu(u,l);var h=fu(u,s);for(l=0;l<a.length;l+=2){var f=a[l],p=a[l+1];f==="style"?Em(i,p):f==="dangerouslySetInnerHTML"?vm(i,p):f==="children"?ms(i,p):Sc(i,f,p,h)}switch(u){case"input":au(i,s);break;case"textarea":gm(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var S=s.value;S!=null?qr(i,!!s.multiple,S,!1):m!==!!s.multiple&&(s.defaultValue!=null?qr(i,!!s.multiple,s.defaultValue,!0):qr(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ss]=s}catch(N){Ie(t,t.return,N)}}break;case 6:if(Vt(e,t),$t(t),r&4){if(t.stateNode===null)throw Error(F(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(N){Ie(t,t.return,N)}}break;case 3:if(Vt(e,t),$t(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{_s(e.containerInfo)}catch(N){Ie(t,t.return,N)}break;case 4:Vt(e,t),$t(t);break;case 13:Vt(e,t),$t(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(rh=Re())),r&4&&Ff(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(nt=(h=nt)||f,Vt(e,t),nt=h):Vt(e,t),$t(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!f&&t.mode&1)for($=t,f=t.child;f!==null;){for(p=$=f;$!==null;){switch(m=$,S=m.child,m.tag){case 0:case 11:case 14:case 15:ls(4,m,m.return);break;case 1:br(m,m.return);var C=m.stateNode;if(typeof C.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,C.props=e.memoizedProps,C.state=e.memoizedState,C.componentWillUnmount()}catch(N){Ie(r,n,N)}}break;case 5:br(m,m.return);break;case 22:if(m.memoizedState!==null){zf(p);continue}}S!==null?(S.return=m,$=S):zf(p)}f=f.sibling}e:for(f=null,p=t;;){if(p.tag===5){if(f===null){f=p;try{i=p.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=p.stateNode,a=p.memoizedProps.style,l=a!=null&&a.hasOwnProperty("display")?a.display:null,u.style.display=_m("display",l))}catch(N){Ie(t,t.return,N)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=h?"":p.memoizedProps}catch(N){Ie(t,t.return,N)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Vt(e,t),$t(t),r&4&&Ff(t);break;case 21:break;default:Vt(e,t),$t(t)}}function $t(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Qg(n)){var r=n;break e}n=n.return}throw Error(F(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ms(i,""),r.flags&=-33);var s=Lf(t);bu(t,s,i);break;case 3:case 4:var l=r.stateNode.containerInfo,u=Lf(t);$u(t,u,l);break;default:throw Error(F(161))}}catch(a){Ie(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function T1(t,e,n){$=t,Wg(t)}function Wg(t,e,n){for(var r=(t.mode&1)!==0;$!==null;){var i=$,s=i.child;if(i.tag===22&&r){var l=i.memoizedState!==null||Io;if(!l){var u=i.alternate,a=u!==null&&u.memoizedState!==null||nt;u=Io;var h=nt;if(Io=l,(nt=a)&&!h)for($=i;$!==null;)l=$,a=l.child,l.tag===22&&l.memoizedState!==null?Bf(i):a!==null?(a.return=l,$=a):Bf(i);for(;s!==null;)$=s,Wg(s),s=s.sibling;$=i,Io=u,nt=h}Uf(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,$=s):Uf(t)}}function Uf(t){for(;$!==null;){var e=$;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:nt||Ul(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!nt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Mt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Tf(e,s,r);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Tf(e,l,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var f=h.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&_s(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}nt||e.flags&512&&ju(e)}catch(m){Ie(e,e.return,m)}}if(e===t){$=null;break}if(n=e.sibling,n!==null){n.return=e.return,$=n;break}$=e.return}}function zf(t){for(;$!==null;){var e=$;if(e===t){$=null;break}var n=e.sibling;if(n!==null){n.return=e.return,$=n;break}$=e.return}}function Bf(t){for(;$!==null;){var e=$;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ul(4,e)}catch(a){Ie(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){Ie(e,i,a)}}var s=e.return;try{ju(e)}catch(a){Ie(e,s,a)}break;case 5:var l=e.return;try{ju(e)}catch(a){Ie(e,l,a)}}}catch(a){Ie(e,e.return,a)}if(e===t){$=null;break}var u=e.sibling;if(u!==null){u.return=e.return,$=u;break}$=e.return}}var I1=Math.ceil,fl=mn.ReactCurrentDispatcher,th=mn.ReactCurrentOwner,kt=mn.ReactCurrentBatchConfig,ie=0,Be=null,Ne=null,He=0,Et=0,Hr=qn(0),Oe=0,Ns=null,mr=0,zl=0,nh=0,as=null,dt=null,rh=0,ai=1/0,rn=null,pl=!1,Hu=null,Mn=null,So=!1,Cn=null,ml=0,us=0,Qu=null,Bo=-1,jo=0;function ut(){return ie&6?Re():Bo!==-1?Bo:Bo=Re()}function On(t){return t.mode&1?ie&2&&He!==0?He&-He:o1.transition!==null?(jo===0&&(jo=xm()),jo):(t=ae,t!==0||(t=window.event,t=t===void 0?16:zm(t.type)),t):1}function zt(t,e,n,r){if(50<us)throw us=0,Qu=null,Error(F(185));Us(t,n,r),(!(ie&2)||t!==Be)&&(t===Be&&(!(ie&2)&&(zl|=n),Oe===4&&Sn(t,He)),gt(t,r),n===1&&ie===0&&!(e.mode&1)&&(ai=Re()+500,Ol&&Kn()))}function gt(t,e){var n=t.callbackNode;o0(t,e);var r=Jo(t,t===Be?He:0);if(r===0)n!==null&&Wd(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Wd(n),e===1)t.tag===0?s1(jf.bind(null,t)):ig(jf.bind(null,t)),t1(function(){!(ie&6)&&Kn()}),n=null;else{switch(Vm(r)){case 1:n=kc;break;case 4:n=Nm;break;case 16:n=Xo;break;case 536870912:n=Dm;break;default:n=Xo}n=ny(n,Gg.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Gg(t,e){if(Bo=-1,jo=0,ie&6)throw Error(F(327));var n=t.callbackNode;if(Xr()&&t.callbackNode!==n)return null;var r=Jo(t,t===Be?He:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=gl(t,r);else{e=r;var i=ie;ie|=2;var s=Xg();(Be!==t||He!==e)&&(rn=null,ai=Re()+500,ar(t,e));do try{C1();break}catch(u){Yg(t,u)}while(!0);$c(),fl.current=s,ie=i,Ne!==null?e=0:(Be=null,He=0,e=Oe)}if(e!==0){if(e===2&&(i=vu(t),i!==0&&(r=i,e=qu(t,i))),e===1)throw n=Ns,ar(t,0),Sn(t,r),gt(t,Re()),n;if(e===6)Sn(t,r);else{if(i=t.current.alternate,!(r&30)&&!S1(i)&&(e=gl(t,r),e===2&&(s=vu(t),s!==0&&(r=s,e=qu(t,s))),e===1))throw n=Ns,ar(t,0),Sn(t,r),gt(t,Re()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(F(345));case 2:nr(t,dt,rn);break;case 3:if(Sn(t,r),(r&130023424)===r&&(e=rh+500-Re(),10<e)){if(Jo(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ut(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Cu(nr.bind(null,t,dt,rn),e);break}nr(t,dt,rn);break;case 4:if(Sn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var l=31-Ut(r);s=1<<l,l=e[l],l>i&&(i=l),r&=~s}if(r=i,r=Re()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*I1(r/1960))-r,10<r){t.timeoutHandle=Cu(nr.bind(null,t,dt,rn),r);break}nr(t,dt,rn);break;case 5:nr(t,dt,rn);break;default:throw Error(F(329))}}}return gt(t,Re()),t.callbackNode===n?Gg.bind(null,t):null}function qu(t,e){var n=as;return t.current.memoizedState.isDehydrated&&(ar(t,e).flags|=256),t=gl(t,e),t!==2&&(e=dt,dt=n,e!==null&&Ku(e)),t}function Ku(t){dt===null?dt=t:dt.push.apply(dt,t)}function S1(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Bt(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Sn(t,e){for(e&=~nh,e&=~zl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ut(e),r=1<<n;t[n]=-1,e&=~r}}function jf(t){if(ie&6)throw Error(F(327));Xr();var e=Jo(t,0);if(!(e&1))return gt(t,Re()),null;var n=gl(t,e);if(t.tag!==0&&n===2){var r=vu(t);r!==0&&(e=r,n=qu(t,r))}if(n===1)throw n=Ns,ar(t,0),Sn(t,e),gt(t,Re()),n;if(n===6)throw Error(F(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,nr(t,dt,rn),gt(t,Re()),null}function ih(t,e){var n=ie;ie|=1;try{return t(e)}finally{ie=n,ie===0&&(ai=Re()+500,Ol&&Kn())}}function gr(t){Cn!==null&&Cn.tag===0&&!(ie&6)&&Xr();var e=ie;ie|=1;var n=kt.transition,r=ae;try{if(kt.transition=null,ae=1,t)return t()}finally{ae=r,kt.transition=n,ie=e,!(ie&6)&&Kn()}}function sh(){Et=Hr.current,pe(Hr)}function ar(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,e1(n)),Ne!==null)for(n=Ne.return;n!==null;){var r=n;switch(zc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&rl();break;case 3:oi(),pe(pt),pe(it),Wc();break;case 5:Kc(r);break;case 4:oi();break;case 13:pe(ye);break;case 19:pe(ye);break;case 10:bc(r.type._context);break;case 22:case 23:sh()}n=n.return}if(Be=t,Ne=t=Ln(t.current,null),He=Et=e,Oe=0,Ns=null,nh=zl=mr=0,dt=as=null,sr!==null){for(e=0;e<sr.length;e++)if(n=sr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var l=s.next;s.next=i,r.next=l}n.pending=r}sr=null}return t}function Yg(t,e){do{var n=Ne;try{if($c(),Fo.current=dl,hl){for(var r=ve.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}hl=!1}if(pr=0,ze=Ve=ve=null,os=!1,Rs=0,th.current=null,n===null||n.return===null){Oe=1,Ns=e,Ne=null;break}e:{var s=t,l=n.return,u=n,a=e;if(e=He,u.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var h=a,f=u,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var S=Pf(l);if(S!==null){S.flags&=-257,kf(S,l,u,s,e),S.mode&1&&Rf(s,h,e),e=S,a=h;var C=e.updateQueue;if(C===null){var N=new Set;N.add(a),e.updateQueue=N}else C.add(a);break e}else{if(!(e&1)){Rf(s,h,e),oh();break e}a=Error(F(426))}}else if(ge&&u.mode&1){var x=Pf(l);if(x!==null){!(x.flags&65536)&&(x.flags|=256),kf(x,l,u,s,e),Bc(li(a,u));break e}}s=a=li(a,u),Oe!==4&&(Oe=2),as===null?as=[s]:as.push(s),s=l;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var A=Vg(s,a,e);wf(s,A);break e;case 1:u=a;var _=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Mn===null||!Mn.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var D=Mg(s,u,e);wf(s,D);break e}}s=s.return}while(s!==null)}Zg(n)}catch(L){e=L,Ne===n&&n!==null&&(Ne=n=n.return);continue}break}while(!0)}function Xg(){var t=fl.current;return fl.current=dl,t===null?dl:t}function oh(){(Oe===0||Oe===3||Oe===2)&&(Oe=4),Be===null||!(mr&268435455)&&!(zl&268435455)||Sn(Be,He)}function gl(t,e){var n=ie;ie|=2;var r=Xg();(Be!==t||He!==e)&&(rn=null,ar(t,e));do try{A1();break}catch(i){Yg(t,i)}while(!0);if($c(),ie=n,fl.current=r,Ne!==null)throw Error(F(261));return Be=null,He=0,Oe}function A1(){for(;Ne!==null;)Jg(Ne)}function C1(){for(;Ne!==null&&!X_();)Jg(Ne)}function Jg(t){var e=ty(t.alternate,t,Et);t.memoizedProps=t.pendingProps,e===null?Zg(t):Ne=e,th.current=null}function Zg(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=_1(n,e),n!==null){n.flags&=32767,Ne=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Oe=6,Ne=null;return}}else if(n=v1(n,e,Et),n!==null){Ne=n;return}if(e=e.sibling,e!==null){Ne=e;return}Ne=e=t}while(e!==null);Oe===0&&(Oe=5)}function nr(t,e,n){var r=ae,i=kt.transition;try{kt.transition=null,ae=1,R1(t,e,n,r)}finally{kt.transition=i,ae=r}return null}function R1(t,e,n,r){do Xr();while(Cn!==null);if(ie&6)throw Error(F(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(F(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(l0(t,s),t===Be&&(Ne=Be=null,He=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||So||(So=!0,ny(Xo,function(){return Xr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=kt.transition,kt.transition=null;var l=ae;ae=1;var u=ie;ie|=4,th.current=null,w1(t,n),Kg(n,t),K0(Su),Zo=!!Iu,Su=Iu=null,t.current=n,T1(n),J_(),ie=u,ae=l,kt.transition=s}else t.current=n;if(So&&(So=!1,Cn=t,ml=i),s=t.pendingLanes,s===0&&(Mn=null),t0(n.stateNode),gt(t,Re()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(pl)throw pl=!1,t=Hu,Hu=null,t;return ml&1&&t.tag!==0&&Xr(),s=t.pendingLanes,s&1?t===Qu?us++:(us=0,Qu=t):us=0,Kn(),null}function Xr(){if(Cn!==null){var t=Vm(ml),e=kt.transition,n=ae;try{if(kt.transition=null,ae=16>t?16:t,Cn===null)var r=!1;else{if(t=Cn,Cn=null,ml=0,ie&6)throw Error(F(331));var i=ie;for(ie|=4,$=t.current;$!==null;){var s=$,l=s.child;if($.flags&16){var u=s.deletions;if(u!==null){for(var a=0;a<u.length;a++){var h=u[a];for($=h;$!==null;){var f=$;switch(f.tag){case 0:case 11:case 15:ls(8,f,s)}var p=f.child;if(p!==null)p.return=f,$=p;else for(;$!==null;){f=$;var m=f.sibling,S=f.return;if(Hg(f),f===h){$=null;break}if(m!==null){m.return=S,$=m;break}$=S}}}var C=s.alternate;if(C!==null){var N=C.child;if(N!==null){C.child=null;do{var x=N.sibling;N.sibling=null,N=x}while(N!==null)}}$=s}}if(s.subtreeFlags&2064&&l!==null)l.return=s,$=l;else e:for(;$!==null;){if(s=$,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ls(9,s,s.return)}var A=s.sibling;if(A!==null){A.return=s.return,$=A;break e}$=s.return}}var _=t.current;for($=_;$!==null;){l=$;var w=l.child;if(l.subtreeFlags&2064&&w!==null)w.return=l,$=w;else e:for(l=_;$!==null;){if(u=$,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Ul(9,u)}}catch(L){Ie(u,u.return,L)}if(u===l){$=null;break e}var D=u.sibling;if(D!==null){D.return=u.return,$=D;break e}$=u.return}}if(ie=i,Kn(),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Nl,t)}catch{}r=!0}return r}finally{ae=n,kt.transition=e}}return!1}function $f(t,e,n){e=li(n,e),e=Vg(t,e,1),t=Vn(t,e,1),e=ut(),t!==null&&(Us(t,1,e),gt(t,e))}function Ie(t,e,n){if(t.tag===3)$f(t,t,n);else for(;e!==null;){if(e.tag===3){$f(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Mn===null||!Mn.has(r))){t=li(n,t),t=Mg(e,t,1),e=Vn(e,t,1),t=ut(),e!==null&&(Us(e,1,t),gt(e,t));break}}e=e.return}}function P1(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ut(),t.pingedLanes|=t.suspendedLanes&n,Be===t&&(He&n)===n&&(Oe===4||Oe===3&&(He&130023424)===He&&500>Re()-rh?ar(t,0):nh|=n),gt(t,e)}function ey(t,e){e===0&&(t.mode&1?(e=po,po<<=1,!(po&130023424)&&(po=4194304)):e=1);var n=ut();t=hn(t,e),t!==null&&(Us(t,e,n),gt(t,n))}function k1(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ey(t,n)}function N1(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(F(314))}r!==null&&r.delete(e),ey(t,n)}var ty;ty=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||pt.current)ft=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ft=!1,y1(t,e,n);ft=!!(t.flags&131072)}else ft=!1,ge&&e.flags&1048576&&sg(e,ol,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;zo(t,e),t=e.pendingProps;var i=ri(e,it.current);Yr(e,n),i=Yc(null,e,r,t,i,n);var s=Xc();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,mt(r)?(s=!0,il(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Qc(e),i.updater=Fl,e.stateNode=i,i._reactInternals=e,Vu(e,r,t,n),e=Lu(null,e,r,!0,s,n)):(e.tag=0,ge&&s&&Uc(e),lt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(zo(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=x1(r),t=Mt(r,t),i){case 0:e=Ou(null,e,r,t,n);break e;case 1:e=xf(null,e,r,t,n);break e;case 11:e=Nf(null,e,r,t,n);break e;case 14:e=Df(null,e,r,Mt(r.type,t),n);break e}throw Error(F(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mt(r,i),Ou(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mt(r,i),xf(t,e,r,i,n);case 3:e:{if(Ug(e),t===null)throw Error(F(387));r=e.pendingProps,s=e.memoizedState,i=s.element,hg(t,e),ul(e,r,null,n);var l=e.memoizedState;if(r=l.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=li(Error(F(423)),e),e=Vf(t,e,r,n,i);break e}else if(r!==i){i=li(Error(F(424)),e),e=Vf(t,e,r,n,i);break e}else for(wt=xn(e.stateNode.containerInfo.firstChild),Tt=e,ge=!0,Lt=null,n=ug(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ii(),r===i){e=dn(t,e,n);break e}lt(t,e,r,n)}e=e.child}return e;case 5:return dg(e),t===null&&Nu(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,l=i.children,Au(r,i)?l=null:s!==null&&Au(r,s)&&(e.flags|=32),Fg(t,e),lt(t,e,l,n),e.child;case 6:return t===null&&Nu(e),null;case 13:return zg(t,e,n);case 4:return qc(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=si(e,null,r,n):lt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mt(r,i),Nf(t,e,r,i,n);case 7:return lt(t,e,e.pendingProps,n),e.child;case 8:return lt(t,e,e.pendingProps.children,n),e.child;case 12:return lt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,l=i.value,he(ll,r._currentValue),r._currentValue=l,s!==null)if(Bt(s.value,l)){if(s.children===i.children&&!pt.current){e=dn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var u=s.dependencies;if(u!==null){l=s.child;for(var a=u.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=an(-1,n&-n),a.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var f=h.pending;f===null?a.next=a:(a.next=f.next,f.next=a),h.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Du(s.return,n,e),u.lanes|=n;break}a=a.next}}else if(s.tag===10)l=s.type===e.type?null:s.child;else if(s.tag===18){if(l=s.return,l===null)throw Error(F(341));l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),Du(l,n,e),l=s.sibling}else l=s.child;if(l!==null)l.return=s;else for(l=s;l!==null;){if(l===e){l=null;break}if(s=l.sibling,s!==null){s.return=l.return,l=s;break}l=l.return}s=l}lt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Yr(e,n),i=Nt(i),r=r(i),e.flags|=1,lt(t,e,r,n),e.child;case 14:return r=e.type,i=Mt(r,e.pendingProps),i=Mt(r.type,i),Df(t,e,r,i,n);case 15:return Og(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mt(r,i),zo(t,e),e.tag=1,mt(r)?(t=!0,il(e)):t=!1,Yr(e,n),xg(e,r,i),Vu(e,r,i,n),Lu(null,e,r,!0,t,n);case 19:return Bg(t,e,n);case 22:return Lg(t,e,n)}throw Error(F(156,e.tag))};function ny(t,e){return km(t,e)}function D1(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pt(t,e,n,r){return new D1(t,e,n,r)}function lh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function x1(t){if(typeof t=="function")return lh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Cc)return 11;if(t===Rc)return 14}return 2}function Ln(t,e){var n=t.alternate;return n===null?(n=Pt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function $o(t,e,n,r,i,s){var l=2;if(r=t,typeof t=="function")lh(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case Mr:return ur(n.children,i,s,e);case Ac:l=8,i|=8;break;case ru:return t=Pt(12,n,e,i|2),t.elementType=ru,t.lanes=s,t;case iu:return t=Pt(13,n,e,i),t.elementType=iu,t.lanes=s,t;case su:return t=Pt(19,n,e,i),t.elementType=su,t.lanes=s,t;case dm:return Bl(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case cm:l=10;break e;case hm:l=9;break e;case Cc:l=11;break e;case Rc:l=14;break e;case wn:l=16,r=null;break e}throw Error(F(130,t==null?t:typeof t,""))}return e=Pt(l,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ur(t,e,n,r){return t=Pt(7,t,r,e),t.lanes=n,t}function Bl(t,e,n,r){return t=Pt(22,t,r,e),t.elementType=dm,t.lanes=n,t.stateNode={isHidden:!1},t}function Ha(t,e,n){return t=Pt(6,t,null,e),t.lanes=n,t}function Qa(t,e,n){return e=Pt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function V1(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Aa(0),this.expirationTimes=Aa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Aa(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ah(t,e,n,r,i,s,l,u,a){return t=new V1(t,e,n,u,a),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Pt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qc(s),t}function M1(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function ry(t){if(!t)return jn;t=t._reactInternals;e:{if(Tr(t)!==t||t.tag!==1)throw Error(F(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(mt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(F(171))}if(t.tag===1){var n=t.type;if(mt(n))return rg(t,n,e)}return e}function iy(t,e,n,r,i,s,l,u,a){return t=ah(n,r,!0,t,i,s,l,u,a),t.context=ry(null),n=t.current,r=ut(),i=On(n),s=an(r,i),s.callback=e??null,Vn(n,s,i),t.current.lanes=i,Us(t,i,r),gt(t,r),t}function jl(t,e,n,r){var i=e.current,s=ut(),l=On(i);return n=ry(n),e.context===null?e.context=n:e.pendingContext=n,e=an(s,l),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Vn(i,e,l),t!==null&&(zt(t,i,l,s),Lo(t,i,l)),l}function yl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function bf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function uh(t,e){bf(t,e),(t=t.alternate)&&bf(t,e)}function O1(){return null}var sy=typeof reportError=="function"?reportError:function(t){console.error(t)};function ch(t){this._internalRoot=t}$l.prototype.render=ch.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(F(409));jl(t,e,null,null)};$l.prototype.unmount=ch.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;gr(function(){jl(null,t,null,null)}),e[cn]=null}};function $l(t){this._internalRoot=t}$l.prototype.unstable_scheduleHydration=function(t){if(t){var e=Lm();t={blockedOn:null,target:t,priority:e};for(var n=0;n<In.length&&e!==0&&e<In[n].priority;n++);In.splice(n,0,t),n===0&&Um(t)}};function hh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function bl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Hf(){}function L1(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var h=yl(l);s.call(h)}}var l=iy(e,r,t,0,null,!1,!1,"",Hf);return t._reactRootContainer=l,t[cn]=l.current,Ts(t.nodeType===8?t.parentNode:t),gr(),l}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var u=r;r=function(){var h=yl(a);u.call(h)}}var a=ah(t,0,!1,null,null,!1,!1,"",Hf);return t._reactRootContainer=a,t[cn]=a.current,Ts(t.nodeType===8?t.parentNode:t),gr(function(){jl(e,a,n,r)}),a}function Hl(t,e,n,r,i){var s=n._reactRootContainer;if(s){var l=s;if(typeof i=="function"){var u=i;i=function(){var a=yl(l);u.call(a)}}jl(e,l,t,i)}else l=L1(n,e,t,i,r);return yl(l)}Mm=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Gi(e.pendingLanes);n!==0&&(Nc(e,n|1),gt(e,Re()),!(ie&6)&&(ai=Re()+500,Kn()))}break;case 13:gr(function(){var r=hn(t,1);if(r!==null){var i=ut();zt(r,t,1,i)}}),uh(t,1)}};Dc=function(t){if(t.tag===13){var e=hn(t,134217728);if(e!==null){var n=ut();zt(e,t,134217728,n)}uh(t,134217728)}};Om=function(t){if(t.tag===13){var e=On(t),n=hn(t,e);if(n!==null){var r=ut();zt(n,t,e,r)}uh(t,e)}};Lm=function(){return ae};Fm=function(t,e){var n=ae;try{return ae=t,e()}finally{ae=n}};mu=function(t,e,n){switch(e){case"input":if(au(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ml(r);if(!i)throw Error(F(90));pm(r),au(r,i)}}}break;case"textarea":gm(t,n);break;case"select":e=n.value,e!=null&&qr(t,!!n.multiple,e,!1)}};Im=ih;Sm=gr;var F1={usingClientEntryPoint:!1,Events:[Bs,Ur,Ml,wm,Tm,ih]},Qi={findFiberByHostInstance:ir,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},U1={bundleType:Qi.bundleType,version:Qi.version,rendererPackageName:Qi.rendererPackageName,rendererConfig:Qi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Rm(t),t===null?null:t.stateNode},findFiberByHostInstance:Qi.findFiberByHostInstance||O1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ao=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ao.isDisabled&&Ao.supportsFiber)try{Nl=Ao.inject(U1),qt=Ao}catch{}}St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F1;St.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hh(e))throw Error(F(200));return M1(t,e,null,n)};St.createRoot=function(t,e){if(!hh(t))throw Error(F(299));var n=!1,r="",i=sy;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ah(t,1,!1,null,null,n,!1,r,i),t[cn]=e.current,Ts(t.nodeType===8?t.parentNode:t),new ch(e)};St.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(F(188)):(t=Object.keys(t).join(","),Error(F(268,t)));return t=Rm(e),t=t===null?null:t.stateNode,t};St.flushSync=function(t){return gr(t)};St.hydrate=function(t,e,n){if(!bl(e))throw Error(F(200));return Hl(null,t,e,!0,n)};St.hydrateRoot=function(t,e,n){if(!hh(t))throw Error(F(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",l=sy;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=iy(e,null,t,1,n??null,i,!1,s,l),t[cn]=e.current,Ts(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new $l(e)};St.render=function(t,e,n){if(!bl(e))throw Error(F(200));return Hl(null,t,e,!1,n)};St.unmountComponentAtNode=function(t){if(!bl(t))throw Error(F(40));return t._reactRootContainer?(gr(function(){Hl(null,null,t,!1,function(){t._reactRootContainer=null,t[cn]=null})}),!0):!1};St.unstable_batchedUpdates=ih;St.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!bl(n))throw Error(F(200));if(t==null||t._reactInternals===void 0)throw Error(F(38));return Hl(t,e,n,!1,r)};St.version="18.3.1-next-f1338f8080-20240426";function oy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(oy)}catch(t){console.error(t)}}oy(),om.exports=St;var z1=om.exports,ly,Qf=z1;ly=Qf.createRoot,Qf.hydrateRoot;function qf({name:t,image:e,winCondition:n,link:r}){return j.jsxs("a",{className:"game-container",href:r,target:"_blank",children:[j.jsx("p",{children:n}),j.jsx("img",{src:e,alt:"Gameplay",width:"365",height:"150"}),j.jsx("h1",{children:t})]})}const B1="/assets/logo-BSAUhKxS.png";var j1=Object.defineProperty,vl=Object.getOwnPropertySymbols,ay=Object.prototype.hasOwnProperty,uy=Object.prototype.propertyIsEnumerable,Kf=(t,e,n)=>e in t?j1(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Wu=(t,e)=>{for(var n in e||(e={}))ay.call(e,n)&&Kf(t,n,e[n]);if(vl)for(var n of vl(e))uy.call(e,n)&&Kf(t,n,e[n]);return t},Gu=(t,e)=>{var n={};for(var r in t)ay.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&vl)for(var r of vl(t))e.indexOf(r)<0&&uy.call(t,r)&&(n[r]=t[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var yr;(t=>{const e=class J{constructor(a,h,f,p){if(this.version=a,this.errorCorrectionLevel=h,this.modules=[],this.isFunction=[],a<J.MIN_VERSION||a>J.MAX_VERSION)throw new RangeError("Version value out of range");if(p<-1||p>7)throw new RangeError("Mask value out of range");this.size=a*4+17;let m=[];for(let C=0;C<this.size;C++)m.push(!1);for(let C=0;C<this.size;C++)this.modules.push(m.slice()),this.isFunction.push(m.slice());this.drawFunctionPatterns();const S=this.addEccAndInterleave(f);if(this.drawCodewords(S),p==-1){let C=1e9;for(let N=0;N<8;N++){this.applyMask(N),this.drawFormatBits(N);const x=this.getPenaltyScore();x<C&&(p=N,C=x),this.applyMask(N)}}i(0<=p&&p<=7),this.mask=p,this.applyMask(p),this.drawFormatBits(p),this.isFunction=[]}static encodeText(a,h){const f=t.QrSegment.makeSegments(a);return J.encodeSegments(f,h)}static encodeBinary(a,h){const f=t.QrSegment.makeBytes(a);return J.encodeSegments([f],h)}static encodeSegments(a,h,f=1,p=40,m=-1,S=!0){if(!(J.MIN_VERSION<=f&&f<=p&&p<=J.MAX_VERSION)||m<-1||m>7)throw new RangeError("Invalid value");let C,N;for(C=f;;C++){const w=J.getNumDataCodewords(C,h)*8,D=l.getTotalBits(a,C);if(D<=w){N=D;break}if(C>=p)throw new RangeError("Data too long")}for(const w of[J.Ecc.MEDIUM,J.Ecc.QUARTILE,J.Ecc.HIGH])S&&N<=J.getNumDataCodewords(C,w)*8&&(h=w);let x=[];for(const w of a){n(w.mode.modeBits,4,x),n(w.numChars,w.mode.numCharCountBits(C),x);for(const D of w.getData())x.push(D)}i(x.length==N);const A=J.getNumDataCodewords(C,h)*8;i(x.length<=A),n(0,Math.min(4,A-x.length),x),n(0,(8-x.length%8)%8,x),i(x.length%8==0);for(let w=236;x.length<A;w^=253)n(w,8,x);let _=[];for(;_.length*8<x.length;)_.push(0);return x.forEach((w,D)=>_[D>>>3]|=w<<7-(D&7)),new J(C,h,_,m)}getModule(a,h){return 0<=a&&a<this.size&&0<=h&&h<this.size&&this.modules[h][a]}getModules(){return this.modules}drawFunctionPatterns(){for(let f=0;f<this.size;f++)this.setFunctionModule(6,f,f%2==0),this.setFunctionModule(f,6,f%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const a=this.getAlignmentPatternPositions(),h=a.length;for(let f=0;f<h;f++)for(let p=0;p<h;p++)f==0&&p==0||f==0&&p==h-1||f==h-1&&p==0||this.drawAlignmentPattern(a[f],a[p]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(a){const h=this.errorCorrectionLevel.formatBits<<3|a;let f=h;for(let m=0;m<10;m++)f=f<<1^(f>>>9)*1335;const p=(h<<10|f)^21522;i(p>>>15==0);for(let m=0;m<=5;m++)this.setFunctionModule(8,m,r(p,m));this.setFunctionModule(8,7,r(p,6)),this.setFunctionModule(8,8,r(p,7)),this.setFunctionModule(7,8,r(p,8));for(let m=9;m<15;m++)this.setFunctionModule(14-m,8,r(p,m));for(let m=0;m<8;m++)this.setFunctionModule(this.size-1-m,8,r(p,m));for(let m=8;m<15;m++)this.setFunctionModule(8,this.size-15+m,r(p,m));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let a=this.version;for(let f=0;f<12;f++)a=a<<1^(a>>>11)*7973;const h=this.version<<12|a;i(h>>>18==0);for(let f=0;f<18;f++){const p=r(h,f),m=this.size-11+f%3,S=Math.floor(f/3);this.setFunctionModule(m,S,p),this.setFunctionModule(S,m,p)}}drawFinderPattern(a,h){for(let f=-4;f<=4;f++)for(let p=-4;p<=4;p++){const m=Math.max(Math.abs(p),Math.abs(f)),S=a+p,C=h+f;0<=S&&S<this.size&&0<=C&&C<this.size&&this.setFunctionModule(S,C,m!=2&&m!=4)}}drawAlignmentPattern(a,h){for(let f=-2;f<=2;f++)for(let p=-2;p<=2;p++)this.setFunctionModule(a+p,h+f,Math.max(Math.abs(p),Math.abs(f))!=1)}setFunctionModule(a,h,f){this.modules[h][a]=f,this.isFunction[h][a]=!0}addEccAndInterleave(a){const h=this.version,f=this.errorCorrectionLevel;if(a.length!=J.getNumDataCodewords(h,f))throw new RangeError("Invalid argument");const p=J.NUM_ERROR_CORRECTION_BLOCKS[f.ordinal][h],m=J.ECC_CODEWORDS_PER_BLOCK[f.ordinal][h],S=Math.floor(J.getNumRawDataModules(h)/8),C=p-S%p,N=Math.floor(S/p);let x=[];const A=J.reedSolomonComputeDivisor(m);for(let w=0,D=0;w<p;w++){let L=a.slice(D,D+N-m+(w<C?0:1));D+=L.length;const U=J.reedSolomonComputeRemainder(L,A);w<C&&L.push(0),x.push(L.concat(U))}let _=[];for(let w=0;w<x[0].length;w++)x.forEach((D,L)=>{(w!=N-m||L>=C)&&_.push(D[w])});return i(_.length==S),_}drawCodewords(a){if(a.length!=Math.floor(J.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let h=0;for(let f=this.size-1;f>=1;f-=2){f==6&&(f=5);for(let p=0;p<this.size;p++)for(let m=0;m<2;m++){const S=f-m,N=(f+1&2)==0?this.size-1-p:p;!this.isFunction[N][S]&&h<a.length*8&&(this.modules[N][S]=r(a[h>>>3],7-(h&7)),h++)}}i(h==a.length*8)}applyMask(a){if(a<0||a>7)throw new RangeError("Mask value out of range");for(let h=0;h<this.size;h++)for(let f=0;f<this.size;f++){let p;switch(a){case 0:p=(f+h)%2==0;break;case 1:p=h%2==0;break;case 2:p=f%3==0;break;case 3:p=(f+h)%3==0;break;case 4:p=(Math.floor(f/3)+Math.floor(h/2))%2==0;break;case 5:p=f*h%2+f*h%3==0;break;case 6:p=(f*h%2+f*h%3)%2==0;break;case 7:p=((f+h)%2+f*h%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[h][f]&&p&&(this.modules[h][f]=!this.modules[h][f])}}getPenaltyScore(){let a=0;for(let m=0;m<this.size;m++){let S=!1,C=0,N=[0,0,0,0,0,0,0];for(let x=0;x<this.size;x++)this.modules[m][x]==S?(C++,C==5?a+=J.PENALTY_N1:C>5&&a++):(this.finderPenaltyAddHistory(C,N),S||(a+=this.finderPenaltyCountPatterns(N)*J.PENALTY_N3),S=this.modules[m][x],C=1);a+=this.finderPenaltyTerminateAndCount(S,C,N)*J.PENALTY_N3}for(let m=0;m<this.size;m++){let S=!1,C=0,N=[0,0,0,0,0,0,0];for(let x=0;x<this.size;x++)this.modules[x][m]==S?(C++,C==5?a+=J.PENALTY_N1:C>5&&a++):(this.finderPenaltyAddHistory(C,N),S||(a+=this.finderPenaltyCountPatterns(N)*J.PENALTY_N3),S=this.modules[x][m],C=1);a+=this.finderPenaltyTerminateAndCount(S,C,N)*J.PENALTY_N3}for(let m=0;m<this.size-1;m++)for(let S=0;S<this.size-1;S++){const C=this.modules[m][S];C==this.modules[m][S+1]&&C==this.modules[m+1][S]&&C==this.modules[m+1][S+1]&&(a+=J.PENALTY_N2)}let h=0;for(const m of this.modules)h=m.reduce((S,C)=>S+(C?1:0),h);const f=this.size*this.size,p=Math.ceil(Math.abs(h*20-f*10)/f)-1;return i(0<=p&&p<=9),a+=p*J.PENALTY_N4,i(0<=a&&a<=2568888),a}getAlignmentPatternPositions(){if(this.version==1)return[];{const a=Math.floor(this.version/7)+2,h=this.version==32?26:Math.ceil((this.version*4+4)/(a*2-2))*2;let f=[6];for(let p=this.size-7;f.length<a;p-=h)f.splice(1,0,p);return f}}static getNumRawDataModules(a){if(a<J.MIN_VERSION||a>J.MAX_VERSION)throw new RangeError("Version number out of range");let h=(16*a+128)*a+64;if(a>=2){const f=Math.floor(a/7)+2;h-=(25*f-10)*f-55,a>=7&&(h-=36)}return i(208<=h&&h<=29648),h}static getNumDataCodewords(a,h){return Math.floor(J.getNumRawDataModules(a)/8)-J.ECC_CODEWORDS_PER_BLOCK[h.ordinal][a]*J.NUM_ERROR_CORRECTION_BLOCKS[h.ordinal][a]}static reedSolomonComputeDivisor(a){if(a<1||a>255)throw new RangeError("Degree out of range");let h=[];for(let p=0;p<a-1;p++)h.push(0);h.push(1);let f=1;for(let p=0;p<a;p++){for(let m=0;m<h.length;m++)h[m]=J.reedSolomonMultiply(h[m],f),m+1<h.length&&(h[m]^=h[m+1]);f=J.reedSolomonMultiply(f,2)}return h}static reedSolomonComputeRemainder(a,h){let f=h.map(p=>0);for(const p of a){const m=p^f.shift();f.push(0),h.forEach((S,C)=>f[C]^=J.reedSolomonMultiply(S,m))}return f}static reedSolomonMultiply(a,h){if(a>>>8||h>>>8)throw new RangeError("Byte out of range");let f=0;for(let p=7;p>=0;p--)f=f<<1^(f>>>7)*285,f^=(h>>>p&1)*a;return i(f>>>8==0),f}finderPenaltyCountPatterns(a){const h=a[1];i(h<=this.size*3);const f=h>0&&a[2]==h&&a[3]==h*3&&a[4]==h&&a[5]==h;return(f&&a[0]>=h*4&&a[6]>=h?1:0)+(f&&a[6]>=h*4&&a[0]>=h?1:0)}finderPenaltyTerminateAndCount(a,h,f){return a&&(this.finderPenaltyAddHistory(h,f),h=0),h+=this.size,this.finderPenaltyAddHistory(h,f),this.finderPenaltyCountPatterns(f)}finderPenaltyAddHistory(a,h){h[0]==0&&(a+=this.size),h.pop(),h.unshift(a)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function n(u,a,h){if(a<0||a>31||u>>>a)throw new RangeError("Value out of range");for(let f=a-1;f>=0;f--)h.push(u>>>f&1)}function r(u,a){return(u>>>a&1)!=0}function i(u){if(!u)throw new Error("Assertion error")}const s=class Te{constructor(a,h,f){if(this.mode=a,this.numChars=h,this.bitData=f,h<0)throw new RangeError("Invalid argument");this.bitData=f.slice()}static makeBytes(a){let h=[];for(const f of a)n(f,8,h);return new Te(Te.Mode.BYTE,a.length,h)}static makeNumeric(a){if(!Te.isNumeric(a))throw new RangeError("String contains non-numeric characters");let h=[];for(let f=0;f<a.length;){const p=Math.min(a.length-f,3);n(parseInt(a.substring(f,f+p),10),p*3+1,h),f+=p}return new Te(Te.Mode.NUMERIC,a.length,h)}static makeAlphanumeric(a){if(!Te.isAlphanumeric(a))throw new RangeError("String contains unencodable characters in alphanumeric mode");let h=[],f;for(f=0;f+2<=a.length;f+=2){let p=Te.ALPHANUMERIC_CHARSET.indexOf(a.charAt(f))*45;p+=Te.ALPHANUMERIC_CHARSET.indexOf(a.charAt(f+1)),n(p,11,h)}return f<a.length&&n(Te.ALPHANUMERIC_CHARSET.indexOf(a.charAt(f)),6,h),new Te(Te.Mode.ALPHANUMERIC,a.length,h)}static makeSegments(a){return a==""?[]:Te.isNumeric(a)?[Te.makeNumeric(a)]:Te.isAlphanumeric(a)?[Te.makeAlphanumeric(a)]:[Te.makeBytes(Te.toUtf8ByteArray(a))]}static makeEci(a){let h=[];if(a<0)throw new RangeError("ECI assignment value out of range");if(a<128)n(a,8,h);else if(a<16384)n(2,2,h),n(a,14,h);else if(a<1e6)n(6,3,h),n(a,21,h);else throw new RangeError("ECI assignment value out of range");return new Te(Te.Mode.ECI,0,h)}static isNumeric(a){return Te.NUMERIC_REGEX.test(a)}static isAlphanumeric(a){return Te.ALPHANUMERIC_REGEX.test(a)}getData(){return this.bitData.slice()}static getTotalBits(a,h){let f=0;for(const p of a){const m=p.mode.numCharCountBits(h);if(p.numChars>=1<<m)return 1/0;f+=4+m+p.bitData.length}return f}static toUtf8ByteArray(a){a=encodeURI(a);let h=[];for(let f=0;f<a.length;f++)a.charAt(f)!="%"?h.push(a.charCodeAt(f)):(h.push(parseInt(a.substring(f+1,f+3),16)),f+=2);return h}};s.NUMERIC_REGEX=/^[0-9]*$/,s.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,s.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let l=s;t.QrSegment=s})(yr||(yr={}));(t=>{(e=>{const n=class{constructor(i,s){this.ordinal=i,this.formatBits=s}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),e.Ecc=n})(t.QrCode||(t.QrCode={}))})(yr||(yr={}));(t=>{(e=>{const n=class{constructor(i,s){this.modeBits=i,this.numBitsCharCount=s}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),e.Mode=n})(t.QrSegment||(t.QrSegment={}))})(yr||(yr={}));var Qr=yr;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var $1={L:Qr.QrCode.Ecc.LOW,M:Qr.QrCode.Ecc.MEDIUM,Q:Qr.QrCode.Ecc.QUARTILE,H:Qr.QrCode.Ecc.HIGH},cy=128,hy="L",dy="#FFFFFF",fy="#000000",py=!1,my=1,b1=4,H1=0,Q1=.1;function gy(t,e=0){const n=[];return t.forEach(function(r,i){let s=null;r.forEach(function(l,u){if(!l&&s!==null){n.push(`M${s+e} ${i+e}h${u-s}v1H${s+e}z`),s=null;return}if(u===r.length-1){if(!l)return;s===null?n.push(`M${u+e},${i+e} h1v1H${u+e}z`):n.push(`M${s+e},${i+e} h${u+1-s}v1H${s+e}z`);return}l&&s===null&&(s=u)})}),n.join("")}function yy(t,e){return t.slice().map((n,r)=>r<e.y||r>=e.y+e.h?n:n.map((i,s)=>s<e.x||s>=e.x+e.w?i:!1))}function q1(t,e,n,r){if(r==null)return null;const i=t.length+n*2,s=Math.floor(e*Q1),l=i/e,u=(r.width||s)*l,a=(r.height||s)*l,h=r.x==null?t.length/2-u/2:r.x*l,f=r.y==null?t.length/2-a/2:r.y*l,p=r.opacity==null?1:r.opacity;let m=null;if(r.excavate){let C=Math.floor(h),N=Math.floor(f),x=Math.ceil(u+h-C),A=Math.ceil(a+f-N);m={x:C,y:N,w:x,h:A}}const S=r.crossOrigin;return{x:h,y:f,h:a,w:u,excavation:m,opacity:p,crossOrigin:S}}function K1(t,e){return e!=null?Math.max(Math.floor(e),0):t?b1:H1}function vy({value:t,level:e,minVersion:n,includeMargin:r,marginSize:i,imageSettings:s,size:l,boostLevel:u}){let a=xe.useMemo(()=>{const C=(Array.isArray(t)?t:[t]).reduce((N,x)=>(N.push(...Qr.QrSegment.makeSegments(x)),N),[]);return Qr.QrCode.encodeSegments(C,$1[e],n,void 0,void 0,u)},[t,e,n,u]);const{cells:h,margin:f,numCells:p,calculatedImageSettings:m}=xe.useMemo(()=>{let S=a.getModules();const C=K1(r,i),N=S.length+C*2,x=q1(S,l,C,s);return{cells:S,margin:C,numCells:N,calculatedImageSettings:x}},[a,l,s,r,i]);return{qrcode:a,margin:f,cells:h,numCells:p,calculatedImageSettings:m}}var W1=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),_y=xe.forwardRef(function(e,n){const r=e,{value:i,size:s=cy,level:l=hy,bgColor:u=dy,fgColor:a=fy,includeMargin:h=py,minVersion:f=my,boostLevel:p,marginSize:m,imageSettings:S}=r,N=Gu(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:x}=N,A=Gu(N,["style"]),_=S==null?void 0:S.src,w=xe.useRef(null),D=xe.useRef(null),L=xe.useCallback(ue=>{w.current=ue,typeof n=="function"?n(ue):n&&(n.current=ue)},[n]),[U,E]=xe.useState(!1),{margin:y,cells:v,numCells:I,calculatedImageSettings:R}=vy({value:i,level:l,minVersion:f,boostLevel:p,includeMargin:h,marginSize:m,imageSettings:S,size:s});xe.useEffect(()=>{if(w.current!=null){const ue=w.current,De=ue.getContext("2d");if(!De)return;let jt=v;const Le=D.current,M=R!=null&&Le!==null&&Le.complete&&Le.naturalHeight!==0&&Le.naturalWidth!==0;M&&R.excavation!=null&&(jt=yy(v,R.excavation));const b=window.devicePixelRatio||1;ue.height=ue.width=s*b;const Q=s/I*b;De.scale(Q,Q),De.fillStyle=u,De.fillRect(0,0,I,I),De.fillStyle=a,W1?De.fill(new Path2D(gy(jt,y))):v.forEach(function(X,Y){X.forEach(function(le,Fe){le&&De.fillRect(Fe+y,Y+y,1,1)})}),R&&(De.globalAlpha=R.opacity),M&&De.drawImage(Le,R.x+y,R.y+y,R.w,R.h)}}),xe.useEffect(()=>{E(!1)},[_]);const P=Wu({height:s,width:s},x);let T=null;return _!=null&&(T=xe.createElement("img",{src:_,key:_,style:{display:"none"},onLoad:()=>{E(!0)},ref:D,crossOrigin:R==null?void 0:R.crossOrigin})),xe.createElement(xe.Fragment,null,xe.createElement("canvas",Wu({style:P,height:s,width:s,ref:L,role:"img"},A)),T)});_y.displayName="QRCodeCanvas";var G1=xe.forwardRef(function(e,n){const r=e,{value:i,size:s=cy,level:l=hy,bgColor:u=dy,fgColor:a=fy,includeMargin:h=py,minVersion:f=my,boostLevel:p,title:m,marginSize:S,imageSettings:C}=r,N=Gu(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:x,cells:A,numCells:_,calculatedImageSettings:w}=vy({value:i,level:l,minVersion:f,boostLevel:p,includeMargin:h,marginSize:S,imageSettings:C,size:s});let D=A,L=null;C!=null&&w!=null&&(w.excavation!=null&&(D=yy(A,w.excavation)),L=xe.createElement("image",{href:C.src,height:w.h,width:w.w,x:w.x+x,y:w.y+x,preserveAspectRatio:"none",opacity:w.opacity,crossOrigin:w.crossOrigin}));const U=gy(D,x);return xe.createElement("svg",Wu({height:s,width:s,viewBox:`0 0 ${_} ${_}`,ref:n,role:"img"},N),!!m&&xe.createElement("title",null,m),xe.createElement("path",{fill:u,d:`M0,0 h${_}v${_}H0z`,shapeRendering:"crispEdges"}),xe.createElement("path",{fill:a,d:U,shapeRendering:"crispEdges"}),L)});G1.displayName="QRCodeSVG";var Wf={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Y1=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],l=t[n++],u=t[n++],a=((i&7)<<18|(s&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(a&1023))}else{const s=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},wy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],l=i+1<t.length,u=l?t[i+1]:0,a=i+2<t.length,h=a?t[i+2]:0,f=s>>2,p=(s&3)<<4|u>>4;let m=(u&15)<<2|h>>6,S=h&63;a||(S=64,l||(m=64)),r.push(n[f],n[p],n[m],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ey(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Y1(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||u==null||h==null||p==null)throw new X1;const m=s<<2|u>>4;if(r.push(m),h!==64){const S=u<<4&240|h>>2;if(r.push(S),p!==64){const C=h<<6&192|p;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class X1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const J1=function(t){const e=Ey(t);return wy.encodeByteArray(e,!0)},_l=function(t){return J1(t).replace(/\./g,"")},Z1=function(t){try{return wy.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=()=>eE().__FIREBASE_DEFAULTS__,nE=()=>{if(typeof process>"u"||typeof Wf>"u")return;const t=Wf.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},rE=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Z1(t[1]);return e&&JSON.parse(e)},dh=()=>{try{return tE()||nE()||rE()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},iE=t=>{var e,n;return(n=(e=dh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Ty=t=>{const e=iE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Iy=()=>{var t;return(t=dh())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[_l(JSON.stringify(n)),_l(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lE(){var t;const e=(t=dh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aE(){return!lE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uE(){try{return typeof indexedDB=="object"}catch{return!1}}function cE(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="FirebaseError";class Ir extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=hE,Object.setPrototypeOf(this,Ir.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ay.prototype.create)}}class Ay{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?dE(s,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new Ir(i,u,r)}}function dE(t,e){return t.replace(fE,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const fE=/\{\$([^}]+)}/g;function Yu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],l=e[i];if(Gf(s)&&Gf(l)){if(!Yu(s,l))return!1}else if(s!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Gf(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(t){return t&&t._delegate?t._delegate:t}class ui{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new sE;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gE(e))try{this.getOrInitializeService({instanceIdentifier:rr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=rr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=rr){return this.instances.has(e)}getOptions(e=rr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&l.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const l=this.instances.get(i);return l&&e(l,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:mE(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=rr){return this.component?this.component.multipleInstances?e:rr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mE(t){return t===rr?void 0:t}function gE(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new pE(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ne||(ne={}));const vE={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},_E=ne.INFO,EE={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},wE=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=EE[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cy{constructor(e){this.name=e,this._logLevel=_E,this._logHandler=wE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...e),this._logHandler(this,ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...e),this._logHandler(this,ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...e),this._logHandler(this,ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...e),this._logHandler(this,ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...e),this._logHandler(this,ne.ERROR,...e)}}const TE=(t,e)=>e.some(n=>t instanceof n);let Yf,Xf;function IE(){return Yf||(Yf=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SE(){return Xf||(Xf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ry=new WeakMap,Xu=new WeakMap,Py=new WeakMap,qa=new WeakMap,ph=new WeakMap;function AE(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{n(Fn(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&Ry.set(n,t)}).catch(()=>{}),ph.set(e,t),e}function CE(t){if(Xu.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});Xu.set(t,e)}let Ju={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Xu.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Py.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function RE(t){Ju=t(Ju)}function PE(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ka(this),e,...n);return Py.set(r,e.sort?e.sort():[e]),Fn(r)}:SE().includes(t)?function(...e){return t.apply(Ka(this),e),Fn(Ry.get(this))}:function(...e){return Fn(t.apply(Ka(this),e))}}function kE(t){return typeof t=="function"?PE(t):(t instanceof IDBTransaction&&CE(t),TE(t,IE())?new Proxy(t,Ju):t)}function Fn(t){if(t instanceof IDBRequest)return AE(t);if(qa.has(t))return qa.get(t);const e=kE(t);return e!==t&&(qa.set(t,e),ph.set(e,t)),e}const Ka=t=>ph.get(t);function NE(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(t,e),u=Fn(l);return r&&l.addEventListener("upgradeneeded",a=>{r(Fn(l.result),a.oldVersion,a.newVersion,Fn(l.transaction),a)}),n&&l.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),u.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const DE=["get","getKey","getAll","getAllKeys","count"],xE=["put","add","delete","clear"],Wa=new Map;function Jf(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Wa.get(e))return Wa.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=xE.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||DE.includes(n)))return;const s=async function(l,...u){const a=this.transaction(l,i?"readwrite":"readonly");let h=a.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[n](...u),i&&a.done]))[0]};return Wa.set(e,s),s}RE(t=>({...t,get:(e,n,r)=>Jf(e,n)||t.get(e,n,r),has:(e,n)=>!!Jf(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ME(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ME(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zu="@firebase/app",Zf="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn=new Cy("@firebase/app"),OE="@firebase/app-compat",LE="@firebase/analytics-compat",FE="@firebase/analytics",UE="@firebase/app-check-compat",zE="@firebase/app-check",BE="@firebase/auth",jE="@firebase/auth-compat",$E="@firebase/database",bE="@firebase/data-connect",HE="@firebase/database-compat",QE="@firebase/functions",qE="@firebase/functions-compat",KE="@firebase/installations",WE="@firebase/installations-compat",GE="@firebase/messaging",YE="@firebase/messaging-compat",XE="@firebase/performance",JE="@firebase/performance-compat",ZE="@firebase/remote-config",ew="@firebase/remote-config-compat",tw="@firebase/storage",nw="@firebase/storage-compat",rw="@firebase/firestore",iw="@firebase/vertexai-preview",sw="@firebase/firestore-compat",ow="firebase",lw="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec="[DEFAULT]",aw={[Zu]:"fire-core",[OE]:"fire-core-compat",[FE]:"fire-analytics",[LE]:"fire-analytics-compat",[zE]:"fire-app-check",[UE]:"fire-app-check-compat",[BE]:"fire-auth",[jE]:"fire-auth-compat",[$E]:"fire-rtdb",[bE]:"fire-data-connect",[HE]:"fire-rtdb-compat",[QE]:"fire-fn",[qE]:"fire-fn-compat",[KE]:"fire-iid",[WE]:"fire-iid-compat",[GE]:"fire-fcm",[YE]:"fire-fcm-compat",[XE]:"fire-perf",[JE]:"fire-perf-compat",[ZE]:"fire-rc",[ew]:"fire-rc-compat",[tw]:"fire-gcs",[nw]:"fire-gcs-compat",[rw]:"fire-fst",[sw]:"fire-fst-compat",[iw]:"fire-vertex","fire-js":"fire-js",[ow]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El=new Map,uw=new Map,tc=new Map;function ep(t,e){try{t.container.addComponent(e)}catch(n){fn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ds(t){const e=t.name;if(tc.has(e))return fn.debug(`There were multiple attempts to register component ${e}.`),!1;tc.set(e,t);for(const n of El.values())ep(n,t);for(const n of uw.values())ep(n,t);return!0}function ky(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Un=new Ay("app","Firebase",cw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ui("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Un.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny=lw;function Dy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ec,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Un.create("bad-app-name",{appName:String(i)});if(n||(n=Iy()),!n)throw Un.create("no-options");const s=El.get(i);if(s){if(Yu(n,s.options)&&Yu(r,s.config))return s;throw Un.create("duplicate-app",{appName:i})}const l=new yE(i);for(const a of tc.values())l.addComponent(a);const u=new hw(n,r,l);return El.set(i,u),u}function xy(t=ec){const e=El.get(t);if(!e&&t===ec&&Iy())return Dy();if(!e)throw Un.create("no-app",{appName:t});return e}function zn(t,e,n){var r;let i=(r=aw[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),l=e.match(/\s|\//);if(s||l){const u=[`Unable to register library "${i}" with version "${e}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fn.warn(u.join(" "));return}Ds(new ui(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw="firebase-heartbeat-database",fw=1,xs="firebase-heartbeat-store";let Ga=null;function Vy(){return Ga||(Ga=NE(dw,fw,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(xs)}catch(n){console.warn(n)}}}}).catch(t=>{throw Un.create("idb-open",{originalErrorMessage:t.message})})),Ga}async function pw(t){try{const n=(await Vy()).transaction(xs),r=await n.objectStore(xs).get(My(t));return await n.done,r}catch(e){if(e instanceof Ir)fn.warn(e.message);else{const n=Un.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fn.warn(n.message)}}}async function tp(t,e){try{const r=(await Vy()).transaction(xs,"readwrite");await r.objectStore(xs).put(e,My(t)),await r.done}catch(n){if(n instanceof Ir)fn.warn(n.message);else{const r=Un.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});fn.warn(r.message)}}}function My(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw=1024,gw=30*24*60*60*1e3;class yw{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _w(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=np();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const u=new Date(l.date).valueOf();return Date.now()-u<=gw}),this._storage.overwrite(this._heartbeatsCache))}catch(r){fn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=np(),{heartbeatsToSend:r,unsentEntries:i}=vw(this._heartbeatsCache.heartbeats),s=_l(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return fn.warn(n),""}}}function np(){return new Date().toISOString().substring(0,10)}function vw(t,e=mw){const n=[];let r=t.slice();for(const i of t){const s=n.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),rp(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),rp(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class _w{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uE()?cE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await pw(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return tp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return tp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function rp(t){return _l(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(t){Ds(new ui("platform-logger",e=>new VE(e),"PRIVATE")),Ds(new ui("heartbeat",e=>new yw(e),"PRIVATE")),zn(Zu,Zf,t),zn(Zu,Zf,"esm2017"),zn("fire-js","")}Ew("");var ww="firebase",Tw="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zn(ww,Tw,"app");var ip=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cr,Oy;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,y){function v(){}v.prototype=y.prototype,E.D=y.prototype,E.prototype=new v,E.prototype.constructor=E,E.C=function(I,R,P){for(var T=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)T[ue-2]=arguments[ue];return y.prototype[R].apply(I,T)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,y,v){v||(v=0);var I=Array(16);if(typeof y=="string")for(var R=0;16>R;++R)I[R]=y.charCodeAt(v++)|y.charCodeAt(v++)<<8|y.charCodeAt(v++)<<16|y.charCodeAt(v++)<<24;else for(R=0;16>R;++R)I[R]=y[v++]|y[v++]<<8|y[v++]<<16|y[v++]<<24;y=E.g[0],v=E.g[1],R=E.g[2];var P=E.g[3],T=y+(P^v&(R^P))+I[0]+3614090360&4294967295;y=v+(T<<7&4294967295|T>>>25),T=P+(R^y&(v^R))+I[1]+3905402710&4294967295,P=y+(T<<12&4294967295|T>>>20),T=R+(v^P&(y^v))+I[2]+606105819&4294967295,R=P+(T<<17&4294967295|T>>>15),T=v+(y^R&(P^y))+I[3]+3250441966&4294967295,v=R+(T<<22&4294967295|T>>>10),T=y+(P^v&(R^P))+I[4]+4118548399&4294967295,y=v+(T<<7&4294967295|T>>>25),T=P+(R^y&(v^R))+I[5]+1200080426&4294967295,P=y+(T<<12&4294967295|T>>>20),T=R+(v^P&(y^v))+I[6]+2821735955&4294967295,R=P+(T<<17&4294967295|T>>>15),T=v+(y^R&(P^y))+I[7]+4249261313&4294967295,v=R+(T<<22&4294967295|T>>>10),T=y+(P^v&(R^P))+I[8]+1770035416&4294967295,y=v+(T<<7&4294967295|T>>>25),T=P+(R^y&(v^R))+I[9]+2336552879&4294967295,P=y+(T<<12&4294967295|T>>>20),T=R+(v^P&(y^v))+I[10]+4294925233&4294967295,R=P+(T<<17&4294967295|T>>>15),T=v+(y^R&(P^y))+I[11]+2304563134&4294967295,v=R+(T<<22&4294967295|T>>>10),T=y+(P^v&(R^P))+I[12]+1804603682&4294967295,y=v+(T<<7&4294967295|T>>>25),T=P+(R^y&(v^R))+I[13]+4254626195&4294967295,P=y+(T<<12&4294967295|T>>>20),T=R+(v^P&(y^v))+I[14]+2792965006&4294967295,R=P+(T<<17&4294967295|T>>>15),T=v+(y^R&(P^y))+I[15]+1236535329&4294967295,v=R+(T<<22&4294967295|T>>>10),T=y+(R^P&(v^R))+I[1]+4129170786&4294967295,y=v+(T<<5&4294967295|T>>>27),T=P+(v^R&(y^v))+I[6]+3225465664&4294967295,P=y+(T<<9&4294967295|T>>>23),T=R+(y^v&(P^y))+I[11]+643717713&4294967295,R=P+(T<<14&4294967295|T>>>18),T=v+(P^y&(R^P))+I[0]+3921069994&4294967295,v=R+(T<<20&4294967295|T>>>12),T=y+(R^P&(v^R))+I[5]+3593408605&4294967295,y=v+(T<<5&4294967295|T>>>27),T=P+(v^R&(y^v))+I[10]+38016083&4294967295,P=y+(T<<9&4294967295|T>>>23),T=R+(y^v&(P^y))+I[15]+3634488961&4294967295,R=P+(T<<14&4294967295|T>>>18),T=v+(P^y&(R^P))+I[4]+3889429448&4294967295,v=R+(T<<20&4294967295|T>>>12),T=y+(R^P&(v^R))+I[9]+568446438&4294967295,y=v+(T<<5&4294967295|T>>>27),T=P+(v^R&(y^v))+I[14]+3275163606&4294967295,P=y+(T<<9&4294967295|T>>>23),T=R+(y^v&(P^y))+I[3]+4107603335&4294967295,R=P+(T<<14&4294967295|T>>>18),T=v+(P^y&(R^P))+I[8]+1163531501&4294967295,v=R+(T<<20&4294967295|T>>>12),T=y+(R^P&(v^R))+I[13]+2850285829&4294967295,y=v+(T<<5&4294967295|T>>>27),T=P+(v^R&(y^v))+I[2]+4243563512&4294967295,P=y+(T<<9&4294967295|T>>>23),T=R+(y^v&(P^y))+I[7]+1735328473&4294967295,R=P+(T<<14&4294967295|T>>>18),T=v+(P^y&(R^P))+I[12]+2368359562&4294967295,v=R+(T<<20&4294967295|T>>>12),T=y+(v^R^P)+I[5]+4294588738&4294967295,y=v+(T<<4&4294967295|T>>>28),T=P+(y^v^R)+I[8]+2272392833&4294967295,P=y+(T<<11&4294967295|T>>>21),T=R+(P^y^v)+I[11]+1839030562&4294967295,R=P+(T<<16&4294967295|T>>>16),T=v+(R^P^y)+I[14]+4259657740&4294967295,v=R+(T<<23&4294967295|T>>>9),T=y+(v^R^P)+I[1]+2763975236&4294967295,y=v+(T<<4&4294967295|T>>>28),T=P+(y^v^R)+I[4]+1272893353&4294967295,P=y+(T<<11&4294967295|T>>>21),T=R+(P^y^v)+I[7]+4139469664&4294967295,R=P+(T<<16&4294967295|T>>>16),T=v+(R^P^y)+I[10]+3200236656&4294967295,v=R+(T<<23&4294967295|T>>>9),T=y+(v^R^P)+I[13]+681279174&4294967295,y=v+(T<<4&4294967295|T>>>28),T=P+(y^v^R)+I[0]+3936430074&4294967295,P=y+(T<<11&4294967295|T>>>21),T=R+(P^y^v)+I[3]+3572445317&4294967295,R=P+(T<<16&4294967295|T>>>16),T=v+(R^P^y)+I[6]+76029189&4294967295,v=R+(T<<23&4294967295|T>>>9),T=y+(v^R^P)+I[9]+3654602809&4294967295,y=v+(T<<4&4294967295|T>>>28),T=P+(y^v^R)+I[12]+3873151461&4294967295,P=y+(T<<11&4294967295|T>>>21),T=R+(P^y^v)+I[15]+530742520&4294967295,R=P+(T<<16&4294967295|T>>>16),T=v+(R^P^y)+I[2]+3299628645&4294967295,v=R+(T<<23&4294967295|T>>>9),T=y+(R^(v|~P))+I[0]+4096336452&4294967295,y=v+(T<<6&4294967295|T>>>26),T=P+(v^(y|~R))+I[7]+1126891415&4294967295,P=y+(T<<10&4294967295|T>>>22),T=R+(y^(P|~v))+I[14]+2878612391&4294967295,R=P+(T<<15&4294967295|T>>>17),T=v+(P^(R|~y))+I[5]+4237533241&4294967295,v=R+(T<<21&4294967295|T>>>11),T=y+(R^(v|~P))+I[12]+1700485571&4294967295,y=v+(T<<6&4294967295|T>>>26),T=P+(v^(y|~R))+I[3]+2399980690&4294967295,P=y+(T<<10&4294967295|T>>>22),T=R+(y^(P|~v))+I[10]+4293915773&4294967295,R=P+(T<<15&4294967295|T>>>17),T=v+(P^(R|~y))+I[1]+2240044497&4294967295,v=R+(T<<21&4294967295|T>>>11),T=y+(R^(v|~P))+I[8]+1873313359&4294967295,y=v+(T<<6&4294967295|T>>>26),T=P+(v^(y|~R))+I[15]+4264355552&4294967295,P=y+(T<<10&4294967295|T>>>22),T=R+(y^(P|~v))+I[6]+2734768916&4294967295,R=P+(T<<15&4294967295|T>>>17),T=v+(P^(R|~y))+I[13]+1309151649&4294967295,v=R+(T<<21&4294967295|T>>>11),T=y+(R^(v|~P))+I[4]+4149444226&4294967295,y=v+(T<<6&4294967295|T>>>26),T=P+(v^(y|~R))+I[11]+3174756917&4294967295,P=y+(T<<10&4294967295|T>>>22),T=R+(y^(P|~v))+I[2]+718787259&4294967295,R=P+(T<<15&4294967295|T>>>17),T=v+(P^(R|~y))+I[9]+3951481745&4294967295,E.g[0]=E.g[0]+y&4294967295,E.g[1]=E.g[1]+(R+(T<<21&4294967295|T>>>11))&4294967295,E.g[2]=E.g[2]+R&4294967295,E.g[3]=E.g[3]+P&4294967295}r.prototype.u=function(E,y){y===void 0&&(y=E.length);for(var v=y-this.blockSize,I=this.B,R=this.h,P=0;P<y;){if(R==0)for(;P<=v;)i(this,E,P),P+=this.blockSize;if(typeof E=="string"){for(;P<y;)if(I[R++]=E.charCodeAt(P++),R==this.blockSize){i(this,I),R=0;break}}else for(;P<y;)if(I[R++]=E[P++],R==this.blockSize){i(this,I),R=0;break}}this.h=R,this.o+=y},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var y=1;y<E.length-8;++y)E[y]=0;var v=8*this.o;for(y=E.length-8;y<E.length;++y)E[y]=v&255,v/=256;for(this.u(E),E=Array(16),y=v=0;4>y;++y)for(var I=0;32>I;I+=8)E[v++]=this.g[y]>>>I&255;return E};function s(E,y){var v=u;return Object.prototype.hasOwnProperty.call(v,E)?v[E]:v[E]=y(E)}function l(E,y){this.h=y;for(var v=[],I=!0,R=E.length-1;0<=R;R--){var P=E[R]|0;I&&P==y||(v[R]=P,I=!1)}this.g=v}var u={};function a(E){return-128<=E&&128>E?s(E,function(y){return new l([y|0],0>y?-1:0)}):new l([E|0],0>E?-1:0)}function h(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return x(h(-E));for(var y=[],v=1,I=0;E>=v;I++)y[I]=E/v|0,v*=4294967296;return new l(y,0)}function f(E,y){if(E.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(E.charAt(0)=="-")return x(f(E.substring(1),y));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var v=h(Math.pow(y,8)),I=p,R=0;R<E.length;R+=8){var P=Math.min(8,E.length-R),T=parseInt(E.substring(R,R+P),y);8>P?(P=h(Math.pow(y,P)),I=I.j(P).add(h(T))):(I=I.j(v),I=I.add(h(T)))}return I}var p=a(0),m=a(1),S=a(16777216);t=l.prototype,t.m=function(){if(N(this))return-x(this).m();for(var E=0,y=1,v=0;v<this.g.length;v++){var I=this.i(v);E+=(0<=I?I:4294967296+I)*y,y*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(C(this))return"0";if(N(this))return"-"+x(this).toString(E);for(var y=h(Math.pow(E,6)),v=this,I="";;){var R=D(v,y).g;v=A(v,R.j(y));var P=((0<v.g.length?v.g[0]:v.h)>>>0).toString(E);if(v=R,C(v))return P+I;for(;6>P.length;)P="0"+P;I=P+I}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function C(E){if(E.h!=0)return!1;for(var y=0;y<E.g.length;y++)if(E.g[y]!=0)return!1;return!0}function N(E){return E.h==-1}t.l=function(E){return E=A(this,E),N(E)?-1:C(E)?0:1};function x(E){for(var y=E.g.length,v=[],I=0;I<y;I++)v[I]=~E.g[I];return new l(v,~E.h).add(m)}t.abs=function(){return N(this)?x(this):this},t.add=function(E){for(var y=Math.max(this.g.length,E.g.length),v=[],I=0,R=0;R<=y;R++){var P=I+(this.i(R)&65535)+(E.i(R)&65535),T=(P>>>16)+(this.i(R)>>>16)+(E.i(R)>>>16);I=T>>>16,P&=65535,T&=65535,v[R]=T<<16|P}return new l(v,v[v.length-1]&-2147483648?-1:0)};function A(E,y){return E.add(x(y))}t.j=function(E){if(C(this)||C(E))return p;if(N(this))return N(E)?x(this).j(x(E)):x(x(this).j(E));if(N(E))return x(this.j(x(E)));if(0>this.l(S)&&0>E.l(S))return h(this.m()*E.m());for(var y=this.g.length+E.g.length,v=[],I=0;I<2*y;I++)v[I]=0;for(I=0;I<this.g.length;I++)for(var R=0;R<E.g.length;R++){var P=this.i(I)>>>16,T=this.i(I)&65535,ue=E.i(R)>>>16,De=E.i(R)&65535;v[2*I+2*R]+=T*De,_(v,2*I+2*R),v[2*I+2*R+1]+=P*De,_(v,2*I+2*R+1),v[2*I+2*R+1]+=T*ue,_(v,2*I+2*R+1),v[2*I+2*R+2]+=P*ue,_(v,2*I+2*R+2)}for(I=0;I<y;I++)v[I]=v[2*I+1]<<16|v[2*I];for(I=y;I<2*y;I++)v[I]=0;return new l(v,0)};function _(E,y){for(;(E[y]&65535)!=E[y];)E[y+1]+=E[y]>>>16,E[y]&=65535,y++}function w(E,y){this.g=E,this.h=y}function D(E,y){if(C(y))throw Error("division by zero");if(C(E))return new w(p,p);if(N(E))return y=D(x(E),y),new w(x(y.g),x(y.h));if(N(y))return y=D(E,x(y)),new w(x(y.g),y.h);if(30<E.g.length){if(N(E)||N(y))throw Error("slowDivide_ only works with positive integers.");for(var v=m,I=y;0>=I.l(E);)v=L(v),I=L(I);var R=U(v,1),P=U(I,1);for(I=U(I,2),v=U(v,2);!C(I);){var T=P.add(I);0>=T.l(E)&&(R=R.add(v),P=T),I=U(I,1),v=U(v,1)}return y=A(E,R.j(y)),new w(R,y)}for(R=p;0<=E.l(y);){for(v=Math.max(1,Math.floor(E.m()/y.m())),I=Math.ceil(Math.log(v)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),P=h(v),T=P.j(y);N(T)||0<T.l(E);)v-=I,P=h(v),T=P.j(y);C(P)&&(P=m),R=R.add(P),E=A(E,T)}return new w(R,E)}t.A=function(E){return D(this,E).h},t.and=function(E){for(var y=Math.max(this.g.length,E.g.length),v=[],I=0;I<y;I++)v[I]=this.i(I)&E.i(I);return new l(v,this.h&E.h)},t.or=function(E){for(var y=Math.max(this.g.length,E.g.length),v=[],I=0;I<y;I++)v[I]=this.i(I)|E.i(I);return new l(v,this.h|E.h)},t.xor=function(E){for(var y=Math.max(this.g.length,E.g.length),v=[],I=0;I<y;I++)v[I]=this.i(I)^E.i(I);return new l(v,this.h^E.h)};function L(E){for(var y=E.g.length+1,v=[],I=0;I<y;I++)v[I]=E.i(I)<<1|E.i(I-1)>>>31;return new l(v,E.h)}function U(E,y){var v=y>>5;y%=32;for(var I=E.g.length-v,R=[],P=0;P<I;P++)R[P]=0<y?E.i(P+v)>>>y|E.i(P+v+1)<<32-y:E.i(P+v);return new l(R,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Oy=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=f,cr=l}).apply(typeof ip<"u"?ip:typeof self<"u"?self:typeof window<"u"?window:{});var Co=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ly,Xi,Fy,bo,nc,Uy,zy,By;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,c,d){return o==Array.prototype||o==Object.prototype||(o[c]=d.value),o};function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Co=="object"&&Co];for(var c=0;c<o.length;++c){var d=o[c];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var r=n(this);function i(o,c){if(c)e:{var d=r;o=o.split(".");for(var g=0;g<o.length-1;g++){var k=o[g];if(!(k in d))break e;d=d[k]}o=o[o.length-1],g=d[o],c=c(g),c!=g&&c!=null&&e(d,o,{configurable:!0,writable:!0,value:c})}}function s(o,c){o instanceof String&&(o+="");var d=0,g=!1,k={next:function(){if(!g&&d<o.length){var V=d++;return{value:c(V,o[V]),done:!1}}return g=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}i("Array.prototype.values",function(o){return o||function(){return s(this,function(c,d){return d})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function a(o){var c=typeof o;return c=c!="object"?c:o?Array.isArray(o)?"array":c:"null",c=="array"||c=="object"&&typeof o.length=="number"}function h(o){var c=typeof o;return c=="object"&&o!=null||c=="function"}function f(o,c,d){return o.call.apply(o.bind,arguments)}function p(o,c,d){if(!o)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,g),o.apply(c,k)}}return function(){return o.apply(c,arguments)}}function m(o,c,d){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,m.apply(null,arguments)}function S(o,c){var d=Array.prototype.slice.call(arguments,1);return function(){var g=d.slice();return g.push.apply(g,arguments),o.apply(this,g)}}function C(o,c){function d(){}d.prototype=c.prototype,o.aa=c.prototype,o.prototype=new d,o.prototype.constructor=o,o.Qb=function(g,k,V){for(var z=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)z[ce-2]=arguments[ce];return c.prototype[k].apply(g,z)}}function N(o){const c=o.length;if(0<c){const d=Array(c);for(let g=0;g<c;g++)d[g]=o[g];return d}return[]}function x(o,c){for(let d=1;d<arguments.length;d++){const g=arguments[d];if(a(g)){const k=o.length||0,V=g.length||0;o.length=k+V;for(let z=0;z<V;z++)o[k+z]=g[z]}else o.push(g)}}class A{constructor(c,d){this.i=c,this.j=d,this.h=0,this.g=null}get(){let c;return 0<this.h?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function _(o){return/^[\s\xa0]*$/.test(o)}function w(){var o=u.navigator;return o&&(o=o.userAgent)?o:""}function D(o){return D[" "](o),o}D[" "]=function(){};var L=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function U(o,c,d){for(const g in o)c.call(d,o[g],g,o)}function E(o,c){for(const d in o)c.call(void 0,o[d],d,o)}function y(o){const c={};for(const d in o)c[d]=o[d];return c}const v="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(o,c){let d,g;for(let k=1;k<arguments.length;k++){g=arguments[k];for(d in g)o[d]=g[d];for(let V=0;V<v.length;V++)d=v[V],Object.prototype.hasOwnProperty.call(g,d)&&(o[d]=g[d])}}function R(o){var c=1;o=o.split(":");const d=[];for(;0<c&&o.length;)d.push(o.shift()),c--;return o.length&&d.push(o.join(":")),d}function P(o){u.setTimeout(()=>{throw o},0)}function T(){var o=b;let c=null;return o.g&&(c=o.g,o.g=o.g.next,o.g||(o.h=null),c.next=null),c}class ue{constructor(){this.h=this.g=null}add(c,d){const g=De.get();g.set(c,d),this.h?this.h.next=g:this.g=g,this.h=g}}var De=new A(()=>new jt,o=>o.reset());class jt{constructor(){this.next=this.g=this.h=null}set(c,d){this.h=c,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let Le,M=!1,b=new ue,Q=()=>{const o=u.Promise.resolve(void 0);Le=()=>{o.then(X)}};var X=()=>{for(var o;o=T();){try{o.h.call(o.g)}catch(d){P(d)}var c=De;c.j(o),100>c.h&&(c.h++,o.next=c.g,c.g=o)}M=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(o,c){this.type=o,this.g=this.target=c,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var Fe=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var o=!1,c=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const d=()=>{};u.addEventListener("test",d,c),u.removeEventListener("test",d,c)}catch{}return o}();function vt(o,c){if(le.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var d=this.type=o.type,g=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=c,c=o.relatedTarget){if(L){e:{try{D(c.nodeName);var k=!0;break e}catch{}k=!1}k||(c=null)}}else d=="mouseover"?c=o.fromElement:d=="mouseout"&&(c=o.toElement);this.relatedTarget=c,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:We[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&vt.aa.h.call(this)}}C(vt,le);var We={2:"touch",3:"pen",4:"mouse"};vt.prototype.h=function(){vt.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Ee="closure_listenable_"+(1e6*Math.random()|0),Wn=0;function Ti(o,c,d,g,k){this.listener=o,this.proxy=null,this.src=c,this.type=d,this.capture=!!g,this.ha=k,this.key=++Wn,this.da=this.fa=!1}function Gn(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function gn(o){this.src=o,this.g={},this.h=0}gn.prototype.add=function(o,c,d,g,k){var V=o.toString();o=this.g[V],o||(o=this.g[V]=[],this.h++);var z=en(o,c,g,k);return-1<z?(c=o[z],d||(c.fa=!1)):(c=new Ti(c,this.src,V,!!g,k),c.fa=d,o.push(c)),c};function Zt(o,c){var d=c.type;if(d in o.g){var g=o.g[d],k=Array.prototype.indexOf.call(g,c,void 0),V;(V=0<=k)&&Array.prototype.splice.call(g,k,1),V&&(Gn(c),o.g[d].length==0&&(delete o.g[d],o.h--))}}function en(o,c,d,g){for(var k=0;k<o.length;++k){var V=o[k];if(!V.da&&V.listener==c&&V.capture==!!d&&V.ha==g)return k}return-1}var Ii="closure_lm_"+(1e6*Math.random()|0),Si={};function Yn(o,c,d,g,k){if(Array.isArray(c)){for(var V=0;V<c.length;V++)Yn(o,c[V],d,g,k);return null}return d=Bh(d),o&&o[Ee]?o.K(c,d,h(g)?!!g.capture:!!g,k):Uv(o,c,d,!1,g,k)}function Uv(o,c,d,g,k,V){if(!c)throw Error("Invalid event type");var z=h(k)?!!k.capture:!!k,ce=na(o);if(ce||(o[Ii]=ce=new gn(o)),d=ce.add(c,d,g,z,V),d.proxy)return d;if(g=zv(),d.proxy=g,g.src=o,g.listener=d,o.addEventListener)Fe||(k=z),k===void 0&&(k=!1),o.addEventListener(c.toString(),g,k);else if(o.attachEvent)o.attachEvent(zh(c.toString()),g);else if(o.addListener&&o.removeListener)o.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return d}function zv(){function o(d){return c.call(o.src,o.listener,d)}const c=Bv;return o}function Uh(o,c,d,g,k){if(Array.isArray(c))for(var V=0;V<c.length;V++)Uh(o,c[V],d,g,k);else g=h(g)?!!g.capture:!!g,d=Bh(d),o&&o[Ee]?(o=o.i,c=String(c).toString(),c in o.g&&(V=o.g[c],d=en(V,d,g,k),-1<d&&(Gn(V[d]),Array.prototype.splice.call(V,d,1),V.length==0&&(delete o.g[c],o.h--)))):o&&(o=na(o))&&(c=o.g[c.toString()],o=-1,c&&(o=en(c,d,g,k)),(d=-1<o?c[o]:null)&&ta(d))}function ta(o){if(typeof o!="number"&&o&&!o.da){var c=o.src;if(c&&c[Ee])Zt(c.i,o);else{var d=o.type,g=o.proxy;c.removeEventListener?c.removeEventListener(d,g,o.capture):c.detachEvent?c.detachEvent(zh(d),g):c.addListener&&c.removeListener&&c.removeListener(g),(d=na(c))?(Zt(d,o),d.h==0&&(d.src=null,c[Ii]=null)):Gn(o)}}}function zh(o){return o in Si?Si[o]:Si[o]="on"+o}function Bv(o,c){if(o.da)o=!0;else{c=new vt(c,this);var d=o.listener,g=o.ha||o.src;o.fa&&ta(o),o=d.call(g,c)}return o}function na(o){return o=o[Ii],o instanceof gn?o:null}var ra="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bh(o){return typeof o=="function"?o:(o[ra]||(o[ra]=function(c){return o.handleEvent(c)}),o[ra])}function Ge(){Y.call(this),this.i=new gn(this),this.M=this,this.F=null}C(Ge,Y),Ge.prototype[Ee]=!0,Ge.prototype.removeEventListener=function(o,c,d,g){Uh(this,o,c,d,g)};function st(o,c){var d,g=o.F;if(g)for(d=[];g;g=g.F)d.push(g);if(o=o.M,g=c.type||c,typeof c=="string")c=new le(c,o);else if(c instanceof le)c.target=c.target||o;else{var k=c;c=new le(g,o),I(c,k)}if(k=!0,d)for(var V=d.length-1;0<=V;V--){var z=c.g=d[V];k=qs(z,g,!0,c)&&k}if(z=c.g=o,k=qs(z,g,!0,c)&&k,k=qs(z,g,!1,c)&&k,d)for(V=0;V<d.length;V++)z=c.g=d[V],k=qs(z,g,!1,c)&&k}Ge.prototype.N=function(){if(Ge.aa.N.call(this),this.i){var o=this.i,c;for(c in o.g){for(var d=o.g[c],g=0;g<d.length;g++)Gn(d[g]);delete o.g[c],o.h--}}this.F=null},Ge.prototype.K=function(o,c,d,g){return this.i.add(String(o),c,!1,d,g)},Ge.prototype.L=function(o,c,d,g){return this.i.add(String(o),c,!0,d,g)};function qs(o,c,d,g){if(c=o.i.g[String(c)],!c)return!0;c=c.concat();for(var k=!0,V=0;V<c.length;++V){var z=c[V];if(z&&!z.da&&z.capture==d){var ce=z.listener,je=z.ha||z.src;z.fa&&Zt(o.i,z),k=ce.call(je,g)!==!1&&k}}return k&&!g.defaultPrevented}function jh(o,c,d){if(typeof o=="function")d&&(o=m(o,d));else if(o&&typeof o.handleEvent=="function")o=m(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(c)?-1:u.setTimeout(o,c||0)}function $h(o){o.g=jh(()=>{o.g=null,o.i&&(o.i=!1,$h(o))},o.l);const c=o.h;o.h=null,o.m.apply(null,c)}class jv extends Y{constructor(c,d){super(),this.m=c,this.l=d,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:$h(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ai(o){Y.call(this),this.h=o,this.g={}}C(Ai,Y);var bh=[];function Hh(o){U(o.g,function(c,d){this.g.hasOwnProperty(d)&&ta(c)},o),o.g={}}Ai.prototype.N=function(){Ai.aa.N.call(this),Hh(this)},Ai.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ia=u.JSON.stringify,$v=u.JSON.parse,bv=class{stringify(o){return u.JSON.stringify(o,void 0)}parse(o){return u.JSON.parse(o,void 0)}};function sa(){}sa.prototype.h=null;function Qh(o){return o.h||(o.h=o.i())}function qh(){}var Ci={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function oa(){le.call(this,"d")}C(oa,le);function la(){le.call(this,"c")}C(la,le);var Xn={},Kh=null;function Ks(){return Kh=Kh||new Ge}Xn.La="serverreachability";function Wh(o){le.call(this,Xn.La,o)}C(Wh,le);function Ri(o){const c=Ks();st(c,new Wh(c))}Xn.STAT_EVENT="statevent";function Gh(o,c){le.call(this,Xn.STAT_EVENT,o),this.stat=c}C(Gh,le);function ot(o){const c=Ks();st(c,new Gh(c,o))}Xn.Ma="timingevent";function Yh(o,c){le.call(this,Xn.Ma,o),this.size=c}C(Yh,le);function Pi(o,c){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){o()},c)}function ki(){this.g=!0}ki.prototype.xa=function(){this.g=!1};function Hv(o,c,d,g,k,V){o.info(function(){if(o.g)if(V)for(var z="",ce=V.split("&"),je=0;je<ce.length;je++){var se=ce[je].split("=");if(1<se.length){var Ye=se[0];se=se[1];var Xe=Ye.split("_");z=2<=Xe.length&&Xe[1]=="type"?z+(Ye+"="+se+"&"):z+(Ye+"=redacted&")}}else z=null;else z=V;return"XMLHTTP REQ ("+g+") [attempt "+k+"]: "+c+`
`+d+`
`+z})}function Qv(o,c,d,g,k,V,z){o.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+k+"]: "+c+`
`+d+`
`+V+" "+z})}function Ar(o,c,d,g){o.info(function(){return"XMLHTTP TEXT ("+c+"): "+Kv(o,d)+(g?" "+g:"")})}function qv(o,c){o.info(function(){return"TIMEOUT: "+c})}ki.prototype.info=function(){};function Kv(o,c){if(!o.g)return c;if(!c)return null;try{var d=JSON.parse(c);if(d){for(o=0;o<d.length;o++)if(Array.isArray(d[o])){var g=d[o];if(!(2>g.length)){var k=g[1];if(Array.isArray(k)&&!(1>k.length)){var V=k[0];if(V!="noop"&&V!="stop"&&V!="close")for(var z=1;z<k.length;z++)k[z]=""}}}}return ia(d)}catch{return c}}var Ws={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Xh={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},aa;function Gs(){}C(Gs,sa),Gs.prototype.g=function(){return new XMLHttpRequest},Gs.prototype.i=function(){return{}},aa=new Gs;function yn(o,c,d,g){this.j=o,this.i=c,this.l=d,this.R=g||1,this.U=new Ai(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Jh}function Jh(){this.i=null,this.g="",this.h=!1}var Zh={},ua={};function ca(o,c,d){o.L=1,o.v=Zs(tn(c)),o.m=d,o.P=!0,ed(o,null)}function ed(o,c){o.F=Date.now(),Ys(o),o.A=tn(o.v);var d=o.A,g=o.R;Array.isArray(g)||(g=[String(g)]),pd(d.i,"t",g),o.C=0,d=o.j.J,o.h=new Jh,o.g=xd(o.j,d?c:null,!o.m),0<o.O&&(o.M=new jv(m(o.Y,o,o.g),o.O)),c=o.U,d=o.g,g=o.ca;var k="readystatechange";Array.isArray(k)||(k&&(bh[0]=k.toString()),k=bh);for(var V=0;V<k.length;V++){var z=Yn(d,k[V],g||c.handleEvent,!1,c.h||c);if(!z)break;c.g[z.key]=z}c=o.H?y(o.H):{},o.m?(o.u||(o.u="POST"),c["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,c)):(o.u="GET",o.g.ea(o.A,o.u,null,c)),Ri(),Hv(o.i,o.u,o.A,o.l,o.R,o.m)}yn.prototype.ca=function(o){o=o.target;const c=this.M;c&&nn(o)==3?c.j():this.Y(o)},yn.prototype.Y=function(o){try{if(o==this.g)e:{const Xe=nn(this.g);var c=this.g.Ba();const Pr=this.g.Z();if(!(3>Xe)&&(Xe!=3||this.g&&(this.h.h||this.g.oa()||wd(this.g)))){this.J||Xe!=4||c==7||(c==8||0>=Pr?Ri(3):Ri(2)),ha(this);var d=this.g.Z();this.X=d;t:if(td(this)){var g=wd(this.g);o="";var k=g.length,V=nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Jn(this),Ni(this);var z="";break t}this.h.i=new u.TextDecoder}for(c=0;c<k;c++)this.h.h=!0,o+=this.h.i.decode(g[c],{stream:!(V&&c==k-1)});g.length=0,this.h.g+=o,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=d==200,Qv(this.i,this.u,this.A,this.l,this.R,Xe,d),this.o){if(this.T&&!this.K){t:{if(this.g){var ce,je=this.g;if((ce=je.g?je.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(ce)){var se=ce;break t}}se=null}if(d=se)Ar(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,da(this,d);else{this.o=!1,this.s=3,ot(12),Jn(this),Ni(this);break e}}if(this.P){d=!0;let xt;for(;!this.J&&this.C<z.length;)if(xt=Wv(this,z),xt==ua){Xe==4&&(this.s=4,ot(14),d=!1),Ar(this.i,this.l,null,"[Incomplete Response]");break}else if(xt==Zh){this.s=4,ot(15),Ar(this.i,this.l,z,"[Invalid Chunk]"),d=!1;break}else Ar(this.i,this.l,xt,null),da(this,xt);if(td(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xe!=4||z.length!=0||this.h.h||(this.s=1,ot(16),d=!1),this.o=this.o&&d,!d)Ar(this.i,this.l,z,"[Invalid Chunked Response]"),Jn(this),Ni(this);else if(0<z.length&&!this.W){this.W=!0;var Ye=this.j;Ye.g==this&&Ye.ba&&!Ye.M&&(Ye.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),va(Ye),Ye.M=!0,ot(11))}}else Ar(this.i,this.l,z,null),da(this,z);Xe==4&&Jn(this),this.o&&!this.J&&(Xe==4?Pd(this.j,this):(this.o=!1,Ys(this)))}else h_(this.g),d==400&&0<z.indexOf("Unknown SID")?(this.s=3,ot(12)):(this.s=0,ot(13)),Jn(this),Ni(this)}}}catch{}finally{}};function td(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function Wv(o,c){var d=o.C,g=c.indexOf(`
`,d);return g==-1?ua:(d=Number(c.substring(d,g)),isNaN(d)?Zh:(g+=1,g+d>c.length?ua:(c=c.slice(g,g+d),o.C=g+d,c)))}yn.prototype.cancel=function(){this.J=!0,Jn(this)};function Ys(o){o.S=Date.now()+o.I,nd(o,o.I)}function nd(o,c){if(o.B!=null)throw Error("WatchDog timer not null");o.B=Pi(m(o.ba,o),c)}function ha(o){o.B&&(u.clearTimeout(o.B),o.B=null)}yn.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(qv(this.i,this.A),this.L!=2&&(Ri(),ot(17)),Jn(this),this.s=2,Ni(this)):nd(this,this.S-o)};function Ni(o){o.j.G==0||o.J||Pd(o.j,o)}function Jn(o){ha(o);var c=o.M;c&&typeof c.ma=="function"&&c.ma(),o.M=null,Hh(o.U),o.g&&(c=o.g,o.g=null,c.abort(),c.ma())}function da(o,c){try{var d=o.j;if(d.G!=0&&(d.g==o||fa(d.h,o))){if(!o.K&&fa(d.h,o)&&d.G==3){try{var g=d.Da.g.parse(c)}catch{g=null}if(Array.isArray(g)&&g.length==3){var k=g;if(k[0]==0){e:if(!d.u){if(d.g)if(d.g.F+3e3<o.F)so(d),ro(d);else break e;ya(d),ot(18)}}else d.za=k[1],0<d.za-d.T&&37500>k[2]&&d.F&&d.v==0&&!d.C&&(d.C=Pi(m(d.Za,d),6e3));if(1>=sd(d.h)&&d.ca){try{d.ca()}catch{}d.ca=void 0}}else er(d,11)}else if((o.K||d.g==o)&&so(d),!_(c))for(k=d.Da.g.parse(c),c=0;c<k.length;c++){let se=k[c];if(d.T=se[0],se=se[1],d.G==2)if(se[0]=="c"){d.K=se[1],d.ia=se[2];const Ye=se[3];Ye!=null&&(d.la=Ye,d.j.info("VER="+d.la));const Xe=se[4];Xe!=null&&(d.Aa=Xe,d.j.info("SVER="+d.Aa));const Pr=se[5];Pr!=null&&typeof Pr=="number"&&0<Pr&&(g=1.5*Pr,d.L=g,d.j.info("backChannelRequestTimeoutMs_="+g)),g=d;const xt=o.g;if(xt){const lo=xt.g?xt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(lo){var V=g.h;V.g||lo.indexOf("spdy")==-1&&lo.indexOf("quic")==-1&&lo.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(pa(V,V.h),V.h=null))}if(g.D){const _a=xt.g?xt.g.getResponseHeader("X-HTTP-Session-Id"):null;_a&&(g.ya=_a,de(g.I,g.D,_a))}}d.G=3,d.l&&d.l.ua(),d.ba&&(d.R=Date.now()-o.F,d.j.info("Handshake RTT: "+d.R+"ms")),g=d;var z=o;if(g.qa=Dd(g,g.J?g.ia:null,g.W),z.K){od(g.h,z);var ce=z,je=g.L;je&&(ce.I=je),ce.B&&(ha(ce),Ys(ce)),g.g=z}else Cd(g);0<d.i.length&&io(d)}else se[0]!="stop"&&se[0]!="close"||er(d,7);else d.G==3&&(se[0]=="stop"||se[0]=="close"?se[0]=="stop"?er(d,7):ga(d):se[0]!="noop"&&d.l&&d.l.ta(se),d.v=0)}}Ri(4)}catch{}}var Gv=class{constructor(o,c){this.g=o,this.map=c}};function rd(o){this.l=o||10,u.PerformanceNavigationTiming?(o=u.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function id(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function sd(o){return o.h?1:o.g?o.g.size:0}function fa(o,c){return o.h?o.h==c:o.g?o.g.has(c):!1}function pa(o,c){o.g?o.g.add(c):o.h=c}function od(o,c){o.h&&o.h==c?o.h=null:o.g&&o.g.has(c)&&o.g.delete(c)}rd.prototype.cancel=function(){if(this.i=ld(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function ld(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let c=o.i;for(const d of o.g.values())c=c.concat(d.D);return c}return N(o.i)}function Yv(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(a(o)){for(var c=[],d=o.length,g=0;g<d;g++)c.push(o[g]);return c}c=[],d=0;for(g in o)c[d++]=o[g];return c}function Xv(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(a(o)||typeof o=="string"){var c=[];o=o.length;for(var d=0;d<o;d++)c.push(d);return c}c=[],d=0;for(const g in o)c[d++]=g;return c}}}function ad(o,c){if(o.forEach&&typeof o.forEach=="function")o.forEach(c,void 0);else if(a(o)||typeof o=="string")Array.prototype.forEach.call(o,c,void 0);else for(var d=Xv(o),g=Yv(o),k=g.length,V=0;V<k;V++)c.call(void 0,g[V],d&&d[V],o)}var ud=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jv(o,c){if(o){o=o.split("&");for(var d=0;d<o.length;d++){var g=o[d].indexOf("="),k=null;if(0<=g){var V=o[d].substring(0,g);k=o[d].substring(g+1)}else V=o[d];c(V,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function Zn(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof Zn){this.h=o.h,Xs(this,o.j),this.o=o.o,this.g=o.g,Js(this,o.s),this.l=o.l;var c=o.i,d=new Vi;d.i=c.i,c.g&&(d.g=new Map(c.g),d.h=c.h),cd(this,d),this.m=o.m}else o&&(c=String(o).match(ud))?(this.h=!1,Xs(this,c[1]||"",!0),this.o=Di(c[2]||""),this.g=Di(c[3]||"",!0),Js(this,c[4]),this.l=Di(c[5]||"",!0),cd(this,c[6]||"",!0),this.m=Di(c[7]||"")):(this.h=!1,this.i=new Vi(null,this.h))}Zn.prototype.toString=function(){var o=[],c=this.j;c&&o.push(xi(c,hd,!0),":");var d=this.g;return(d||c=="file")&&(o.push("//"),(c=this.o)&&o.push(xi(c,hd,!0),"@"),o.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.s,d!=null&&o.push(":",String(d))),(d=this.l)&&(this.g&&d.charAt(0)!="/"&&o.push("/"),o.push(xi(d,d.charAt(0)=="/"?t_:e_,!0))),(d=this.i.toString())&&o.push("?",d),(d=this.m)&&o.push("#",xi(d,r_)),o.join("")};function tn(o){return new Zn(o)}function Xs(o,c,d){o.j=d?Di(c,!0):c,o.j&&(o.j=o.j.replace(/:$/,""))}function Js(o,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);o.s=c}else o.s=null}function cd(o,c,d){c instanceof Vi?(o.i=c,i_(o.i,o.h)):(d||(c=xi(c,n_)),o.i=new Vi(c,o.h))}function de(o,c,d){o.i.set(c,d)}function Zs(o){return de(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Di(o,c){return o?c?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function xi(o,c,d){return typeof o=="string"?(o=encodeURI(o).replace(c,Zv),d&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function Zv(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var hd=/[#\/\?@]/g,e_=/[#\?:]/g,t_=/[#\?]/g,n_=/[#\?@]/g,r_=/#/g;function Vi(o,c){this.h=this.g=null,this.i=o||null,this.j=!!c}function vn(o){o.g||(o.g=new Map,o.h=0,o.i&&Jv(o.i,function(c,d){o.add(decodeURIComponent(c.replace(/\+/g," ")),d)}))}t=Vi.prototype,t.add=function(o,c){vn(this),this.i=null,o=Cr(this,o);var d=this.g.get(o);return d||this.g.set(o,d=[]),d.push(c),this.h+=1,this};function dd(o,c){vn(o),c=Cr(o,c),o.g.has(c)&&(o.i=null,o.h-=o.g.get(c).length,o.g.delete(c))}function fd(o,c){return vn(o),c=Cr(o,c),o.g.has(c)}t.forEach=function(o,c){vn(this),this.g.forEach(function(d,g){d.forEach(function(k){o.call(c,k,g,this)},this)},this)},t.na=function(){vn(this);const o=Array.from(this.g.values()),c=Array.from(this.g.keys()),d=[];for(let g=0;g<c.length;g++){const k=o[g];for(let V=0;V<k.length;V++)d.push(c[g])}return d},t.V=function(o){vn(this);let c=[];if(typeof o=="string")fd(this,o)&&(c=c.concat(this.g.get(Cr(this,o))));else{o=Array.from(this.g.values());for(let d=0;d<o.length;d++)c=c.concat(o[d])}return c},t.set=function(o,c){return vn(this),this.i=null,o=Cr(this,o),fd(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[c]),this.h+=1,this},t.get=function(o,c){return o?(o=this.V(o),0<o.length?String(o[0]):c):c};function pd(o,c,d){dd(o,c),0<d.length&&(o.i=null,o.g.set(Cr(o,c),N(d)),o.h+=d.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],c=Array.from(this.g.keys());for(var d=0;d<c.length;d++){var g=c[d];const V=encodeURIComponent(String(g)),z=this.V(g);for(g=0;g<z.length;g++){var k=V;z[g]!==""&&(k+="="+encodeURIComponent(String(z[g]))),o.push(k)}}return this.i=o.join("&")};function Cr(o,c){return c=String(c),o.j&&(c=c.toLowerCase()),c}function i_(o,c){c&&!o.j&&(vn(o),o.i=null,o.g.forEach(function(d,g){var k=g.toLowerCase();g!=k&&(dd(this,g),pd(this,k,d))},o)),o.j=c}function s_(o,c){const d=new ki;if(u.Image){const g=new Image;g.onload=S(_n,d,"TestLoadImage: loaded",!0,c,g),g.onerror=S(_n,d,"TestLoadImage: error",!1,c,g),g.onabort=S(_n,d,"TestLoadImage: abort",!1,c,g),g.ontimeout=S(_n,d,"TestLoadImage: timeout",!1,c,g),u.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=o}else c(!1)}function o_(o,c){const d=new ki,g=new AbortController,k=setTimeout(()=>{g.abort(),_n(d,"TestPingServer: timeout",!1,c)},1e4);fetch(o,{signal:g.signal}).then(V=>{clearTimeout(k),V.ok?_n(d,"TestPingServer: ok",!0,c):_n(d,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(k),_n(d,"TestPingServer: error",!1,c)})}function _n(o,c,d,g,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),g(d)}catch{}}function l_(){this.g=new bv}function a_(o,c,d){const g=d||"";try{ad(o,function(k,V){let z=k;h(k)&&(z=ia(k)),c.push(g+V+"="+encodeURIComponent(z))})}catch(k){throw c.push(g+"type="+encodeURIComponent("_badmap")),k}}function eo(o){this.l=o.Ub||null,this.j=o.eb||!1}C(eo,sa),eo.prototype.g=function(){return new to(this.l,this.j)},eo.prototype.i=function(o){return function(){return o}}({});function to(o,c){Ge.call(this),this.D=o,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(to,Ge),t=to.prototype,t.open=function(o,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=c,this.readyState=1,Oi(this)},t.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const c={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(c.body=o),(this.D||u).fetch(new Request(this.A,c)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Mi(this)),this.readyState=0},t.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Oi(this)),this.g&&(this.readyState=3,Oi(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;md(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function md(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}t.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var c=o.value?o.value:new Uint8Array(0);(c=this.v.decode(c,{stream:!o.done}))&&(this.response=this.responseText+=c)}o.done?Mi(this):Oi(this),this.readyState==3&&md(this)}},t.Ra=function(o){this.g&&(this.response=this.responseText=o,Mi(this))},t.Qa=function(o){this.g&&(this.response=o,Mi(this))},t.ga=function(){this.g&&Mi(this)};function Mi(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Oi(o)}t.setRequestHeader=function(o,c){this.u.append(o,c)},t.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],c=this.h.entries();for(var d=c.next();!d.done;)d=d.value,o.push(d[0]+": "+d[1]),d=c.next();return o.join(`\r
`)};function Oi(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(to.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function gd(o){let c="";return U(o,function(d,g){c+=g,c+=":",c+=d,c+=`\r
`}),c}function ma(o,c,d){e:{for(g in d){var g=!1;break e}g=!0}g||(d=gd(d),typeof o=="string"?d!=null&&encodeURIComponent(String(d)):de(o,c,d))}function we(o){Ge.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(we,Ge);var u_=/^https?$/i,c_=["POST","PUT"];t=we.prototype,t.Ha=function(o){this.J=o},t.ea=function(o,c,d,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);c=c?c.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():aa.g(),this.v=this.o?Qh(this.o):Qh(aa),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(c,String(o),!0),this.B=!1}catch(V){yd(this,V);return}if(o=d||"",d=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var k in g)d.set(k,g[k]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(const V of g.keys())d.set(V,g.get(V));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(d.keys()).find(V=>V.toLowerCase()=="content-type"),k=u.FormData&&o instanceof u.FormData,!(0<=Array.prototype.indexOf.call(c_,c,void 0))||g||k||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,z]of d)this.g.setRequestHeader(V,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ed(this),this.u=!0,this.g.send(o),this.u=!1}catch(V){yd(this,V)}};function yd(o,c){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=c,o.m=5,vd(o),no(o)}function vd(o){o.A||(o.A=!0,st(o,"complete"),st(o,"error"))}t.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,st(this,"complete"),st(this,"abort"),no(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),no(this,!0)),we.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?_d(this):this.bb())},t.bb=function(){_d(this)};function _d(o){if(o.h&&typeof l<"u"&&(!o.v[1]||nn(o)!=4||o.Z()!=2)){if(o.u&&nn(o)==4)jh(o.Ea,0,o);else if(st(o,"readystatechange"),nn(o)==4){o.h=!1;try{const z=o.Z();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var d;if(!(d=c)){var g;if(g=z===0){var k=String(o.D).match(ud)[1]||null;!k&&u.self&&u.self.location&&(k=u.self.location.protocol.slice(0,-1)),g=!u_.test(k?k.toLowerCase():"")}d=g}if(d)st(o,"complete"),st(o,"success");else{o.m=6;try{var V=2<nn(o)?o.g.statusText:""}catch{V=""}o.l=V+" ["+o.Z()+"]",vd(o)}}finally{no(o)}}}}function no(o,c){if(o.g){Ed(o);const d=o.g,g=o.v[0]?()=>{}:null;o.g=null,o.v=null,c||st(o,"ready");try{d.onreadystatechange=g}catch{}}}function Ed(o){o.I&&(u.clearTimeout(o.I),o.I=null)}t.isActive=function(){return!!this.g};function nn(o){return o.g?o.g.readyState:0}t.Z=function(){try{return 2<nn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(o){if(this.g){var c=this.g.responseText;return o&&c.indexOf(o)==0&&(c=c.substring(o.length)),$v(c)}};function wd(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function h_(o){const c={};o=(o.g&&2<=nn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<o.length;g++){if(_(o[g]))continue;var d=R(o[g]);const k=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();const V=c[k]||[];c[k]=V,V.push(d)}E(c,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Li(o,c,d){return d&&d.internalChannelParams&&d.internalChannelParams[o]||c}function Td(o){this.Aa=0,this.i=[],this.j=new ki,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Li("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Li("baseRetryDelayMs",5e3,o),this.cb=Li("retryDelaySeedMs",1e4,o),this.Wa=Li("forwardChannelMaxRetries",2,o),this.wa=Li("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new rd(o&&o.concurrentRequestLimit),this.Da=new l_,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Td.prototype,t.la=8,t.G=1,t.connect=function(o,c,d,g){ot(0),this.W=o,this.H=c||{},d&&g!==void 0&&(this.H.OSID=d,this.H.OAID=g),this.F=this.X,this.I=Dd(this,null,this.W),io(this)};function ga(o){if(Id(o),o.G==3){var c=o.U++,d=tn(o.I);if(de(d,"SID",o.K),de(d,"RID",c),de(d,"TYPE","terminate"),Fi(o,d),c=new yn(o,o.j,c),c.L=2,c.v=Zs(tn(d)),d=!1,u.navigator&&u.navigator.sendBeacon)try{d=u.navigator.sendBeacon(c.v.toString(),"")}catch{}!d&&u.Image&&(new Image().src=c.v,d=!0),d||(c.g=xd(c.j,null),c.g.ea(c.v)),c.F=Date.now(),Ys(c)}Nd(o)}function ro(o){o.g&&(va(o),o.g.cancel(),o.g=null)}function Id(o){ro(o),o.u&&(u.clearTimeout(o.u),o.u=null),so(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&u.clearTimeout(o.s),o.s=null)}function io(o){if(!id(o.h)&&!o.s){o.s=!0;var c=o.Ga;Le||Q(),M||(Le(),M=!0),b.add(c,o),o.B=0}}function d_(o,c){return sd(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=c.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=Pi(m(o.Ga,o,c),kd(o,o.B)),o.B++,!0)}t.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const k=new yn(this,this.j,o);let V=this.o;if(this.S&&(V?(V=y(V),I(V,this.S)):V=this.S),this.m!==null||this.O||(k.H=V,V=null),this.P)e:{for(var c=0,d=0;d<this.i.length;d++){t:{var g=this.i[d];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(c+=g,4096<c){c=d;break e}if(c===4096||d===this.i.length-1){c=d+1;break e}}c=1e3}else c=1e3;c=Ad(this,k,c),d=tn(this.I),de(d,"RID",o),de(d,"CVER",22),this.D&&de(d,"X-HTTP-Session-Id",this.D),Fi(this,d),V&&(this.O?c="headers="+encodeURIComponent(String(gd(V)))+"&"+c:this.m&&ma(d,this.m,V)),pa(this.h,k),this.Ua&&de(d,"TYPE","init"),this.P?(de(d,"$req",c),de(d,"SID","null"),k.T=!0,ca(k,d,null)):ca(k,d,c),this.G=2}}else this.G==3&&(o?Sd(this,o):this.i.length==0||id(this.h)||Sd(this))};function Sd(o,c){var d;c?d=c.l:d=o.U++;const g=tn(o.I);de(g,"SID",o.K),de(g,"RID",d),de(g,"AID",o.T),Fi(o,g),o.m&&o.o&&ma(g,o.m,o.o),d=new yn(o,o.j,d,o.B+1),o.m===null&&(d.H=o.o),c&&(o.i=c.D.concat(o.i)),c=Ad(o,d,1e3),d.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),pa(o.h,d),ca(d,g,c)}function Fi(o,c){o.H&&U(o.H,function(d,g){de(c,g,d)}),o.l&&ad({},function(d,g){de(c,g,d)})}function Ad(o,c,d){d=Math.min(o.i.length,d);var g=o.l?m(o.l.Na,o.l,o):null;e:{var k=o.i;let V=-1;for(;;){const z=["count="+d];V==-1?0<d?(V=k[0].g,z.push("ofs="+V)):V=0:z.push("ofs="+V);let ce=!0;for(let je=0;je<d;je++){let se=k[je].g;const Ye=k[je].map;if(se-=V,0>se)V=Math.max(0,k[je].g-100),ce=!1;else try{a_(Ye,z,"req"+se+"_")}catch{g&&g(Ye)}}if(ce){g=z.join("&");break e}}}return o=o.i.splice(0,d),c.D=o,g}function Cd(o){if(!o.g&&!o.u){o.Y=1;var c=o.Fa;Le||Q(),M||(Le(),M=!0),b.add(c,o),o.v=0}}function ya(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=Pi(m(o.Fa,o),kd(o,o.v)),o.v++,!0)}t.Fa=function(){if(this.u=null,Rd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=Pi(m(this.ab,this),o)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ot(10),ro(this),Rd(this))};function va(o){o.A!=null&&(u.clearTimeout(o.A),o.A=null)}function Rd(o){o.g=new yn(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var c=tn(o.qa);de(c,"RID","rpc"),de(c,"SID",o.K),de(c,"AID",o.T),de(c,"CI",o.F?"0":"1"),!o.F&&o.ja&&de(c,"TO",o.ja),de(c,"TYPE","xmlhttp"),Fi(o,c),o.m&&o.o&&ma(c,o.m,o.o),o.L&&(o.g.I=o.L);var d=o.g;o=o.ia,d.L=1,d.v=Zs(tn(c)),d.m=null,d.P=!0,ed(d,o)}t.Za=function(){this.C!=null&&(this.C=null,ro(this),ya(this),ot(19))};function so(o){o.C!=null&&(u.clearTimeout(o.C),o.C=null)}function Pd(o,c){var d=null;if(o.g==c){so(o),va(o),o.g=null;var g=2}else if(fa(o.h,c))d=c.D,od(o.h,c),g=1;else return;if(o.G!=0){if(c.o)if(g==1){d=c.m?c.m.length:0,c=Date.now()-c.F;var k=o.B;g=Ks(),st(g,new Yh(g,d)),io(o)}else Cd(o);else if(k=c.s,k==3||k==0&&0<c.X||!(g==1&&d_(o,c)||g==2&&ya(o)))switch(d&&0<d.length&&(c=o.h,c.i=c.i.concat(d)),k){case 1:er(o,5);break;case 4:er(o,10);break;case 3:er(o,6);break;default:er(o,2)}}}function kd(o,c){let d=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(d*=2),d*c}function er(o,c){if(o.j.info("Error code "+c),c==2){var d=m(o.fb,o),g=o.Xa;const k=!g;g=new Zn(g||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Xs(g,"https"),Zs(g),k?s_(g.toString(),d):o_(g.toString(),d)}else ot(2);o.G=0,o.l&&o.l.sa(c),Nd(o),Id(o)}t.fb=function(o){o?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function Nd(o){if(o.G=0,o.ka=[],o.l){const c=ld(o.h);(c.length!=0||o.i.length!=0)&&(x(o.ka,c),x(o.ka,o.i),o.h.i.length=0,N(o.i),o.i.length=0),o.l.ra()}}function Dd(o,c,d){var g=d instanceof Zn?tn(d):new Zn(d);if(g.g!="")c&&(g.g=c+"."+g.g),Js(g,g.s);else{var k=u.location;g=k.protocol,c=c?c+"."+k.hostname:k.hostname,k=+k.port;var V=new Zn(null);g&&Xs(V,g),c&&(V.g=c),k&&Js(V,k),d&&(V.l=d),g=V}return d=o.D,c=o.ya,d&&c&&de(g,d,c),de(g,"VER",o.la),Fi(o,g),g}function xd(o,c,d){if(c&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return c=o.Ca&&!o.pa?new we(new eo({eb:d})):new we(o.pa),c.Ha(o.J),c}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vd(){}t=Vd.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function oo(){}oo.prototype.g=function(o,c){return new _t(o,c)};function _t(o,c){Ge.call(this),this.g=new Td(c),this.l=o,this.h=c&&c.messageUrlParams||null,o=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(o?o["X-WebChannel-Content-Type"]=c.messageContentType:o={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.va&&(o?o["X-WebChannel-Client-Profile"]=c.va:o={"X-WebChannel-Client-Profile":c.va}),this.g.S=o,(o=c&&c.Sb)&&!_(o)&&(this.g.m=o),this.v=c&&c.supportsCrossDomainXhr||!1,this.u=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!_(c)&&(this.g.D=c,o=this.h,o!==null&&c in o&&(o=this.h,c in o&&delete o[c])),this.j=new Rr(this)}C(_t,Ge),_t.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_t.prototype.close=function(){ga(this.g)},_t.prototype.o=function(o){var c=this.g;if(typeof o=="string"){var d={};d.__data__=o,o=d}else this.u&&(d={},d.__data__=ia(o),o=d);c.i.push(new Gv(c.Ya++,o)),c.G==3&&io(c)},_t.prototype.N=function(){this.g.l=null,delete this.j,ga(this.g),delete this.g,_t.aa.N.call(this)};function Md(o){oa.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var c=o.__sm__;if(c){e:{for(const d in c){o=d;break e}o=void 0}(this.i=o)&&(o=this.i,c=c!==null&&o in c?c[o]:void 0),this.data=c}else this.data=o}C(Md,oa);function Od(){la.call(this),this.status=1}C(Od,la);function Rr(o){this.g=o}C(Rr,Vd),Rr.prototype.ua=function(){st(this.g,"a")},Rr.prototype.ta=function(o){st(this.g,new Md(o))},Rr.prototype.sa=function(o){st(this.g,new Od)},Rr.prototype.ra=function(){st(this.g,"b")},oo.prototype.createWebChannel=oo.prototype.g,_t.prototype.send=_t.prototype.o,_t.prototype.open=_t.prototype.m,_t.prototype.close=_t.prototype.close,By=function(){return new oo},zy=function(){return Ks()},Uy=Xn,nc={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ws.NO_ERROR=0,Ws.TIMEOUT=8,Ws.HTTP_ERROR=6,bo=Ws,Xh.COMPLETE="complete",Fy=Xh,qh.EventType=Ci,Ci.OPEN="a",Ci.CLOSE="b",Ci.ERROR="c",Ci.MESSAGE="d",Ge.prototype.listen=Ge.prototype.K,Xi=qh,we.prototype.listenOnce=we.prototype.L,we.prototype.getLastError=we.prototype.Ka,we.prototype.getLastErrorCode=we.prototype.Ba,we.prototype.getStatus=we.prototype.Z,we.prototype.getResponseJson=we.prototype.Oa,we.prototype.getResponseText=we.prototype.oa,we.prototype.send=we.prototype.ea,we.prototype.setWithCredentials=we.prototype.Ha,Ly=we}).apply(typeof Co<"u"?Co:typeof self<"u"?self:typeof window<"u"?window:{});const sp="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tt.UNAUTHENTICATED=new tt(null),tt.GOOGLE_CREDENTIALS=new tt("google-credentials-uid"),tt.FIRST_PARTY=new tt("first-party-uid"),tt.MOCK_USER=new tt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _i="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr=new Cy("@firebase/firestore");function qi(){return vr.logLevel}function H(t,...e){if(vr.logLevel<=ne.DEBUG){const n=e.map(mh);vr.debug(`Firestore (${_i}): ${t}`,...n)}}function pn(t,...e){if(vr.logLevel<=ne.ERROR){const n=e.map(mh);vr.error(`Firestore (${_i}): ${t}`,...n)}}function ci(t,...e){if(vr.logLevel<=ne.WARN){const n=e.map(mh);vr.warn(`Firestore (${_i}): ${t}`,...n)}}function mh(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G(t="Unexpected state"){const e=`FIRESTORE (${_i}) INTERNAL ASSERTION FAILED: `+t;throw pn(e),new Error(e)}function Ae(t,e){t||G()}function te(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends Ir{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Iw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(tt.UNAUTHENTICATED))}shutdown(){}}class Sw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Aw{constructor(e){this.t=e,this.currentUser=tt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ae(this.o===void 0);let r=this.i;const i=a=>this.i!==r?(r=this.i,n(a)):Promise.resolve();let s=new Jr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Jr,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const a=s;e.enqueueRetryable(async()=>{await a.promise,await i(this.currentUser)})},u=a=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=a,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(a=>u(a)),setTimeout(()=>{if(!this.auth){const a=this.t.getImmediate({optional:!0});a?u(a):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Jr)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string"),new jy(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string"),new tt(e)}}class Cw{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=tt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Rw{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Cw(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(tt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Pw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kw{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ae(this.o===void 0);const r=s=>{s.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.R;return this.R=s.token,H("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ae(typeof n.token=="string"),this.R=n.token,new Pw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Nw(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function oe(t,e){return t<e?-1:t>e?1:0}function hi(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new q(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new q(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new yt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?oe(this.nanoseconds,e.nanoseconds):oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.timestamp=e}static fromTimestamp(e){return new W(e)}static min(){return new W(new yt(0,0))}static max(){return new W(new yt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,n,r){n===void 0?n=0:n>e.length&&G(),r===void 0?r=e.length-n:r>e.length-n&&G(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Vs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Vs?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),l=n.get(i);if(s<l)return-1;if(s>l)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Se extends Vs{construct(e,n,r){return new Se(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new q(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Se(n)}static emptyPath(){return new Se([])}}const xw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class at extends Vs{construct(e,n,r){return new at(e,n,r)}static isValidIdentifier(e){return xw.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),at.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new at(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new q(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new q(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const a=e[i+1];if(a!=="\\"&&a!=="."&&a!=="`")throw new q(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=a,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(s(),i++)}if(s(),l)throw new q(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new at(n)}static emptyPath(){return new at([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.path=e}static fromPath(e){return new K(Se.fromString(e))}static fromName(e){return new K(Se.fromString(e).popFirst(5))}static empty(){return new K(Se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Se.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Se.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new K(new Se(e.slice()))}}function Vw(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=W.fromTimestamp(r===1e9?new yt(n+1,0):new yt(n,r));return new $n(i,K.empty(),e)}function Mw(t){return new $n(t.readTime,t.key,-1)}class $n{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new $n(W.min(),K.empty(),-1)}static max(){return new $n(W.max(),K.empty(),-1)}}function Ow(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=K.comparator(t.documentKey,e.documentKey),n!==0?n:oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Fw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gh(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==Lw)throw t;H("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&G(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new O((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof O?n:O.resolve(n)}catch(n){return O.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):O.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):O.reject(n)}static resolve(e){return new O((n,r)=>{n(e)})}static reject(e){return new O((n,r)=>{r(e)})}static waitFor(e){return new O((n,r)=>{let i=0,s=0,l=!1;e.forEach(u=>{++i,u.next(()=>{++s,l&&s===i&&n()},a=>r(a))}),l=!0,s===i&&n()})}static or(e){let n=O.resolve(!1);for(const r of e)n=n.next(i=>i?O.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new O((r,i)=>{const s=e.length,l=new Array(s);let u=0;for(let a=0;a<s;a++){const h=a;n(e[h]).next(f=>{l[h]=f,++u,u===s&&r(l)},f=>i(f))}})}static doWhile(e,n){return new O((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Uw(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $s(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}yh.oe=-1;function Ql(t){return t==null}function rc(t){return t===0&&1/t==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ql(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function zw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e,n){this.comparator=e,this.root=n||be.EMPTY}insert(e,n){return new Pe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,be.BLACK,null,null))}remove(e){return new Pe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,be.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ro(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ro(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ro(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ro(this.root,e,this.comparator,!0)}}class Ro{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class be{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??be.RED,this.left=i??be.EMPTY,this.right=s??be.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new be(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return be.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return be.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,be.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw G();const e=this.left.check();if(e!==this.right.check())throw G();return e+(this.isRed()?0:1)}}be.EMPTY=null,be.RED=!0,be.BLACK=!1;be.EMPTY=new class{constructor(){this.size=0}get key(){throw G()}get value(){throw G()}get color(){throw G()}get left(){throw G()}get right(){throw G()}copy(e,n,r,i,s){return this}insert(e,n,r){return new be(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.comparator=e,this.data=new Pe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new lp(this.data.getIterator())}getIteratorFrom(e){return new lp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Qe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Qe(this.comparator);return n.data=e,n}}class lp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.fields=e,e.sort(at.comparator)}static empty(){return new Rn([])}unionWith(e){let n=new Qe(at.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return hi(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new $y("Invalid base64 string: "+s):s}}(e);return new Ke(n)}static fromUint8Array(e){const n=function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s}(e);return new Ke(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const Bw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bn(t){if(Ae(!!t),typeof t=="string"){let e=0;const n=Bw.exec(t);if(Ae(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ce(t.seconds),nanos:Ce(t.nanos)}}function Ce(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function _r(t){return typeof t=="string"?Ke.fromBase64String(t):Ke.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function _h(t){const e=t.mapValue.fields.__previous_value__;return vh(e)?_h(e):e}function Ms(t){const e=bn(t.mapValue.fields.__local_write_time__.timestampValue);return new yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e,n,r,i,s,l,u,a,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=a,this.useFetchStreams=h}}class Os{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Os("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Os&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Er(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?vh(t)?4:bw(t)?9007199254740991:$w(t)?10:11:G()}function Gt(t,e){if(t===e)return!0;const n=Er(t);if(n!==Er(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ms(t).isEqual(Ms(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const l=bn(i.timestampValue),u=bn(s.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return _r(i.bytesValue).isEqual(_r(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ce(i.geoPointValue.latitude)===Ce(s.geoPointValue.latitude)&&Ce(i.geoPointValue.longitude)===Ce(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ce(i.integerValue)===Ce(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const l=Ce(i.doubleValue),u=Ce(s.doubleValue);return l===u?rc(l)===rc(u):isNaN(l)&&isNaN(u)}return!1}(t,e);case 9:return hi(t.arrayValue.values||[],e.arrayValue.values||[],Gt);case 10:case 11:return function(i,s){const l=i.mapValue.fields||{},u=s.mapValue.fields||{};if(op(l)!==op(u))return!1;for(const a in l)if(l.hasOwnProperty(a)&&(u[a]===void 0||!Gt(l[a],u[a])))return!1;return!0}(t,e);default:return G()}}function Ls(t,e){return(t.values||[]).find(n=>Gt(n,e))!==void 0}function di(t,e){if(t===e)return 0;const n=Er(t),r=Er(e);if(n!==r)return oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return oe(t.booleanValue,e.booleanValue);case 2:return function(s,l){const u=Ce(s.integerValue||s.doubleValue),a=Ce(l.integerValue||l.doubleValue);return u<a?-1:u>a?1:u===a?0:isNaN(u)?isNaN(a)?0:-1:1}(t,e);case 3:return ap(t.timestampValue,e.timestampValue);case 4:return ap(Ms(t),Ms(e));case 5:return oe(t.stringValue,e.stringValue);case 6:return function(s,l){const u=_r(s),a=_r(l);return u.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(s,l){const u=s.split("/"),a=l.split("/");for(let h=0;h<u.length&&h<a.length;h++){const f=oe(u[h],a[h]);if(f!==0)return f}return oe(u.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,l){const u=oe(Ce(s.latitude),Ce(l.latitude));return u!==0?u:oe(Ce(s.longitude),Ce(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return up(t.arrayValue,e.arrayValue);case 10:return function(s,l){var u,a,h,f;const p=s.fields||{},m=l.fields||{},S=(u=p.value)===null||u===void 0?void 0:u.arrayValue,C=(a=m.value)===null||a===void 0?void 0:a.arrayValue,N=oe(((h=S==null?void 0:S.values)===null||h===void 0?void 0:h.length)||0,((f=C==null?void 0:C.values)===null||f===void 0?void 0:f.length)||0);return N!==0?N:up(S,C)}(t.mapValue,e.mapValue);case 11:return function(s,l){if(s===Po.mapValue&&l===Po.mapValue)return 0;if(s===Po.mapValue)return 1;if(l===Po.mapValue)return-1;const u=s.fields||{},a=Object.keys(u),h=l.fields||{},f=Object.keys(h);a.sort(),f.sort();for(let p=0;p<a.length&&p<f.length;++p){const m=oe(a[p],f[p]);if(m!==0)return m;const S=di(u[a[p]],h[f[p]]);if(S!==0)return S}return oe(a.length,f.length)}(t.mapValue,e.mapValue);default:throw G()}}function ap(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return oe(t,e);const n=bn(t),r=bn(e),i=oe(n.seconds,r.seconds);return i!==0?i:oe(n.nanos,r.nanos)}function up(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=di(n[i],r[i]);if(s)return s}return oe(n.length,r.length)}function fi(t){return ic(t)}function ic(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=bn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return _r(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return K.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=ic(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const l of r)s?s=!1:i+=",",i+=`${l}:${ic(n.fields[l])}`;return i+"}"}(t.mapValue):G()}function sc(t){return!!t&&"integerValue"in t}function Eh(t){return!!t&&"arrayValue"in t}function cp(t){return!!t&&"nullValue"in t}function hp(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ya(t){return!!t&&"mapValue"in t}function $w(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function cs(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ql(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=cs(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=cs(t.arrayValue.values[n]);return e}return Object.assign({},t)}function bw(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.value=e}static empty(){return new Qt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ya(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=cs(n)}setAll(e){let n=at.emptyPath(),r={},i=[];e.forEach((l,u)=>{if(!n.isImmediateParentOf(u)){const a=this.getFieldsMap(n);this.applyChanges(a,r,i),r={},i=[],n=u.popLast()}l?r[u.lastSegment()]=cs(l):i.push(u.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Ya(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gt(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ya(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ql(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Qt(cs(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,n,r,i,s,l,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=l,this.documentState=u}static newInvalidDocument(e){return new rt(e,0,W.min(),W.min(),W.min(),Qt.empty(),0)}static newFoundDocument(e,n,r,i){return new rt(e,1,n,W.min(),r,i,0)}static newNoDocument(e,n){return new rt(e,2,n,W.min(),W.min(),Qt.empty(),0)}static newUnknownDocument(e,n){return new rt(e,3,n,W.min(),W.min(),Qt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(W.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=W.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,n){this.position=e,this.inclusive=n}}function dp(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],l=t.position[i];if(s.field.isKeyField()?r=K.comparator(K.fromName(l.referenceValue),n.key):r=di(l,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function fp(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Gt(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,n="asc"){this.field=e,this.dir=n}}function Hw(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{}class Me extends by{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new qw(e,n,r):n==="array-contains"?new Gw(e,r):n==="in"?new Yw(e,r):n==="not-in"?new Xw(e,r):n==="array-contains-any"?new Jw(e,r):new Me(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Kw(e,r):new Ww(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(di(n,this.value)):n!==null&&Er(this.value)===Er(n)&&this.matchesComparison(di(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return G()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yt extends by{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Yt(e,n)}matches(e){return Hy(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Hy(t){return t.op==="and"}function Qy(t){return Qw(t)&&Hy(t)}function Qw(t){for(const e of t.filters)if(e instanceof Yt)return!1;return!0}function oc(t){if(t instanceof Me)return t.field.canonicalString()+t.op.toString()+fi(t.value);if(Qy(t))return t.filters.map(e=>oc(e)).join(",");{const e=t.filters.map(n=>oc(n)).join(",");return`${t.op}(${e})`}}function qy(t,e){return t instanceof Me?function(r,i){return i instanceof Me&&r.op===i.op&&r.field.isEqual(i.field)&&Gt(r.value,i.value)}(t,e):t instanceof Yt?function(r,i){return i instanceof Yt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,l,u)=>s&&qy(l,i.filters[u]),!0):!1}(t,e):void G()}function Ky(t){return t instanceof Me?function(n){return`${n.field.canonicalString()} ${n.op} ${fi(n.value)}`}(t):t instanceof Yt?function(n){return n.op.toString()+" {"+n.getFilters().map(Ky).join(" ,")+"}"}(t):"Filter"}class qw extends Me{constructor(e,n,r){super(e,n,r),this.key=K.fromName(r.referenceValue)}matches(e){const n=K.comparator(e.key,this.key);return this.matchesComparison(n)}}class Kw extends Me{constructor(e,n){super(e,"in",n),this.keys=Wy("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Ww extends Me{constructor(e,n){super(e,"not-in",n),this.keys=Wy("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Wy(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>K.fromName(r.referenceValue))}class Gw extends Me{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Eh(n)&&Ls(n.arrayValue,this.value)}}class Yw extends Me{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ls(this.value.arrayValue,n)}}class Xw extends Me{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ls(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ls(this.value.arrayValue,n)}}class Jw extends Me{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Eh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ls(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(e,n=null,r=[],i=[],s=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=l,this.endAt=u,this.ue=null}}function pp(t,e=null,n=[],r=[],i=null,s=null,l=null){return new Zw(t,e,n,r,i,s,l)}function wh(t){const e=te(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>oc(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Ql(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>fi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>fi(r)).join(",")),e.ue=n}return e.ue}function Th(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Hw(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!qy(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!fp(t.startAt,e.startAt)&&fp(t.endAt,e.endAt)}function lc(t){return K.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,n=null,r=[],i=[],s=null,l="F",u=null,a=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=u,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function eT(t,e,n,r,i,s,l,u){return new Kl(t,e,n,r,i,s,l,u)}function Ih(t){return new Kl(t)}function mp(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function tT(t){return t.collectionGroup!==null}function hs(t){const e=te(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Qe(at.comparator);return l.filters.forEach(a=>{a.getFlattenedFilters().forEach(h=>{h.isInequality()&&(u=u.add(h.field))})}),u})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Tl(s,r))}),n.has(at.keyField().canonicalString())||e.ce.push(new Tl(at.keyField(),r))}return e.ce}function Wt(t){const e=te(t);return e.le||(e.le=nT(e,hs(t))),e.le}function nT(t,e){if(t.limitType==="F")return pp(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Tl(i.field,s)});const n=t.endAt?new wl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new wl(t.startAt.position,t.startAt.inclusive):null;return pp(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ac(t,e,n){return new Kl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Wl(t,e){return Th(Wt(t),Wt(e))&&t.limitType===e.limitType}function Gy(t){return`${wh(Wt(t))}|lt:${t.limitType}`}function Nr(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Ky(i)).join(", ")}]`),Ql(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>fi(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>fi(i)).join(",")),`Target(${r})`}(Wt(t))}; limitType=${t.limitType})`}function Gl(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):K.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of hs(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(l,u,a){const h=dp(l,u,a);return l.inclusive?h<=0:h<0}(r.startAt,hs(r),i)||r.endAt&&!function(l,u,a){const h=dp(l,u,a);return l.inclusive?h>=0:h>0}(r.endAt,hs(r),i))}(t,e)}function rT(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Yy(t){return(e,n)=>{let r=!1;for(const i of hs(t)){const s=iT(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function iT(t,e,n){const r=t.field.isKeyField()?K.comparator(e.key,n.key):function(s,l,u){const a=l.data.field(s),h=u.data.field(s);return a!==null&&h!==null?di(a,h):G()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return G()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ql(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return zw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=new Pe(K.comparator);function Hn(){return sT}const Xy=new Pe(K.comparator);function Ji(...t){let e=Xy;for(const n of t)e=e.insert(n.key,n);return e}function oT(t){let e=Xy;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function lr(){return ds()}function Jy(){return ds()}function ds(){return new Ei(t=>t.toString(),(t,e)=>t.isEqual(e))}const lT=new Qe(K.comparator);function re(...t){let e=lT;for(const n of t)e=e.add(n);return e}const aT=new Qe(oe);function uT(){return aT}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rc(e)?"-0":e}}function hT(t){return{integerValue:""+t}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(){this._=void 0}}function dT(t,e,n){return t instanceof uc?function(i,s){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&vh(s)&&(s=_h(s)),s&&(l.fields.__previous_value__=s),{mapValue:l}}(n,e):t instanceof Il?Zy(t,e):t instanceof Sl?ev(t,e):function(i,s){const l=pT(i,s),u=gp(l)+gp(i.Pe);return sc(l)&&sc(i.Pe)?hT(u):cT(i.serializer,u)}(t,e)}function fT(t,e,n){return t instanceof Il?Zy(t,e):t instanceof Sl?ev(t,e):n}function pT(t,e){return t instanceof cc?function(r){return sc(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class uc extends Yl{}class Il extends Yl{constructor(e){super(),this.elements=e}}function Zy(t,e){const n=tv(e);for(const r of t.elements)n.some(i=>Gt(i,r))||n.push(r);return{arrayValue:{values:n}}}class Sl extends Yl{constructor(e){super(),this.elements=e}}function ev(t,e){let n=tv(e);for(const r of t.elements)n=n.filter(i=>!Gt(i,r));return{arrayValue:{values:n}}}class cc extends Yl{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function gp(t){return Ce(t.integerValue||t.doubleValue)}function tv(t){return Eh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function mT(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Il&&i instanceof Il||r instanceof Sl&&i instanceof Sl?hi(r.elements,i.elements,Gt):r instanceof cc&&i instanceof cc?Gt(r.Pe,i.Pe):r instanceof uc&&i instanceof uc}(t.transform,e.transform)}class hr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new hr}static exists(e){return new hr(void 0,e)}static updateTime(e){return new hr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ho(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Sh{}function nv(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new yT(t.key,hr.none()):new Ah(t.key,t.data,hr.none());{const n=t.data,r=Qt.empty();let i=new Qe(at.comparator);for(let s of e.fields)if(!i.has(s)){let l=n.field(s);l===null&&s.length>1&&(s=s.popLast(),l=n.field(s)),l===null?r.delete(s):r.set(s,l),i=i.add(s)}return new Xl(t.key,r,new Rn(i.toArray()),hr.none())}}function gT(t,e,n){t instanceof Ah?function(i,s,l){const u=i.value.clone(),a=vp(i.fieldTransforms,s,l.transformResults);u.setAll(a),s.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(t,e,n):t instanceof Xl?function(i,s,l){if(!Ho(i.precondition,s))return void s.convertToUnknownDocument(l.version);const u=vp(i.fieldTransforms,s,l.transformResults),a=s.data;a.setAll(rv(i)),a.setAll(u),s.convertToFoundDocument(l.version,a).setHasCommittedMutations()}(t,e,n):function(i,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function fs(t,e,n,r){return t instanceof Ah?function(s,l,u,a){if(!Ho(s.precondition,l))return u;const h=s.value.clone(),f=_p(s.fieldTransforms,a,l);return h.setAll(f),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof Xl?function(s,l,u,a){if(!Ho(s.precondition,l))return u;const h=_p(s.fieldTransforms,a,l),f=l.data;return f.setAll(rv(s)),f.setAll(h),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,l,u){return Ho(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(t,e,n)}function yp(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&hi(r,i,(s,l)=>mT(s,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ah extends Sh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Xl extends Sh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function rv(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function vp(t,e,n){const r=new Map;Ae(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],l=s.transform,u=e.data.field(s.field);r.set(s.field,fT(l,u,n[i]))}return r}function _p(t,e,n){const r=new Map;for(const i of t){const s=i.transform,l=n.data.field(i.field);r.set(i.field,dT(s,l,e))}return r}class yT extends Sh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&gT(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=fs(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=fs(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Jy();return this.mutations.forEach(i=>{const s=e.get(i.key),l=s.overlayedDocument;let u=this.applyToLocalView(l,s.mutatedFields);u=n.has(i.key)?null:u;const a=nv(l,u);a!==null&&r.set(i.key,a),l.isValidDocument()||l.convertToNoDocument(W.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),re())}isEqual(e){return this.batchId===e.batchId&&hi(this.mutations,e.mutations,(n,r)=>yp(n,r))&&hi(this.baseMutations,e.baseMutations,(n,r)=>yp(n,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke,ee;function iv(t){if(t===void 0)return pn("GRPC error has no .code"),B.UNKNOWN;switch(t){case ke.OK:return B.OK;case ke.CANCELLED:return B.CANCELLED;case ke.UNKNOWN:return B.UNKNOWN;case ke.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case ke.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case ke.INTERNAL:return B.INTERNAL;case ke.UNAVAILABLE:return B.UNAVAILABLE;case ke.UNAUTHENTICATED:return B.UNAUTHENTICATED;case ke.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case ke.NOT_FOUND:return B.NOT_FOUND;case ke.ALREADY_EXISTS:return B.ALREADY_EXISTS;case ke.PERMISSION_DENIED:return B.PERMISSION_DENIED;case ke.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case ke.ABORTED:return B.ABORTED;case ke.OUT_OF_RANGE:return B.OUT_OF_RANGE;case ke.UNIMPLEMENTED:return B.UNIMPLEMENTED;case ke.DATA_LOSS:return B.DATA_LOSS;default:return G()}}(ee=ke||(ke={}))[ee.OK=0]="OK",ee[ee.CANCELLED=1]="CANCELLED",ee[ee.UNKNOWN=2]="UNKNOWN",ee[ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ee[ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ee[ee.NOT_FOUND=5]="NOT_FOUND",ee[ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",ee[ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",ee[ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",ee[ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ee[ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ee[ee.ABORTED=10]="ABORTED",ee[ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",ee[ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",ee[ee.INTERNAL=13]="INTERNAL",ee[ee.UNAVAILABLE=14]="UNAVAILABLE",ee[ee.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT=new cr([4294967295,4294967295],0);function Ep(t){const e=wT().encode(t),n=new Oy;return n.update(e),new Uint8Array(n.digest())}function wp(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new cr([n,r],0),new cr([i,s],0)]}class Ch{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Zi(`Invalid padding: ${n}`);if(r<0)throw new Zi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Zi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Zi(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=cr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(cr.fromNumber(r)));return i.compare(TT)===1&&(i=new cr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Ep(e),[r,i]=wp(n);for(let s=0;s<this.hashCount;s++){const l=this.Ee(r,i,s);if(!this.de(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new Ch(s,i,n);return r.forEach(u=>l.insert(u)),l}insert(e){if(this.Ie===0)return;const n=Ep(e),[r,i]=wp(n);for(let s=0;s<this.hashCount;s++){const l=this.Ee(r,i,s);this.Ae(l)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Zi extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,bs.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Jl(W.min(),i,new Pe(oe),Hn(),re())}}class bs{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new bs(r,n,re(),re(),re())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class sv{constructor(e,n){this.targetId=e,this.me=n}}class ov{constructor(e,n,r=Ke.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Tp{constructor(){this.fe=0,this.ge=Sp(),this.pe=Ke.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=re(),n=re(),r=re();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:G()}}),new bs(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Sp()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ae(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class IT{constructor(e){this.Le=e,this.Be=new Map,this.ke=Hn(),this.qe=Ip(),this.Qe=new Pe(oe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:G()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(lc(s))if(r===0){const l=new K(s.path);this.Ue(n,l,rt.newNoDocument(l,W.min()))}else Ae(r===1);else{const l=this.Ye(n);if(l!==r){const u=this.Ze(e),a=u?this.Xe(u,e,l):1;if(a!==0){this.je(n);const h=a===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,h)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let l,u;try{l=_r(r).toUint8Array()}catch(a){if(a instanceof $y)return ci("Decoding the base64 bloom filter in existence filter failed ("+a.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw a}try{u=new Ch(l,i,s)}catch(a){return ci(a instanceof Zi?"BloomFilter error: ":"Applying bloom filter failed: ",a),null}return u.Ie===0?null:u}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const l=this.Le.tt(),u=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,l)=>{const u=this.Je(l);if(u){if(s.current&&lc(u.target)){const a=new K(u.target.path);this.ke.get(a)!==null||this.it(l,a)||this.Ue(l,a,rt.newNoDocument(a,e))}s.be&&(n.set(l,s.ve()),s.Ce())}});let r=re();this.qe.forEach((s,l)=>{let u=!0;l.forEachWhile(a=>{const h=this.Je(a);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(s))}),this.ke.forEach((s,l)=>l.setReadTime(e));const i=new Jl(e,n,this.Qe,this.ke,r);return this.ke=Hn(),this.qe=Ip(),this.Qe=new Pe(oe),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Tp,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Qe(oe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||H("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Tp),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Ip(){return new Pe(K.comparator)}function Sp(){return new Pe(K.comparator)}const ST={asc:"ASCENDING",desc:"DESCENDING"},AT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CT={and:"AND",or:"OR"};class RT{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function hc(t,e){return t.useProto3Json||Ql(e)?e:{value:e}}function PT(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Zr(t){return Ae(!!t),W.fromTimestamp(function(n){const r=bn(n);return new yt(r.seconds,r.nanos)}(t))}function NT(t,e){return dc(t,e).canonicalString()}function dc(t,e){const n=function(i){return new Se(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function lv(t){const e=Se.fromString(t);return Ae(dv(e)),e}function Xa(t,e){const n=lv(e);if(n.get(1)!==t.databaseId.projectId)throw new q(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new q(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new K(uv(n))}function av(t,e){return NT(t.databaseId,e)}function DT(t){const e=lv(t);return e.length===4?Se.emptyPath():uv(e)}function Ap(t){return new Se(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function uv(t){return Ae(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function xT(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:G()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(h,f){return h.useProto3Json?(Ae(f===void 0||typeof f=="string"),Ke.fromBase64String(f||"")):(Ae(f===void 0||f instanceof Buffer||f instanceof Uint8Array),Ke.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(h){const f=h.code===void 0?B.UNKNOWN:iv(h.code);return new q(f,h.message||"")}(l);n=new ov(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Xa(t,r.document.name),s=Zr(r.document.updateTime),l=r.document.createTime?Zr(r.document.createTime):W.min(),u=new Qt({mapValue:{fields:r.document.fields}}),a=rt.newFoundDocument(i,s,l,u),h=r.targetIds||[],f=r.removedTargetIds||[];n=new Qo(h,f,a.key,a)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Xa(t,r.document),s=r.readTime?Zr(r.readTime):W.min(),l=rt.newNoDocument(i,s),u=r.removedTargetIds||[];n=new Qo([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Xa(t,r.document),s=r.removedTargetIds||[];n=new Qo([],s,i,null)}else{if(!("filter"in e))return G();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,l=new ET(i,s),u=r.targetId;n=new sv(u,l)}}return n}function VT(t,e){return{documents:[av(t,e.path)]}}function MT(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=av(t,i);const s=function(h){if(h.length!==0)return hv(Yt.create(h,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const l=function(h){if(h.length!==0)return h.map(f=>function(m){return{field:Dr(m.field),direction:FT(m.dir)}}(f))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=hc(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{_t:n,parent:i}}function OT(t){let e=DT(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ae(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(p){const m=cv(p);return m instanceof Yt&&Qy(m)?m.getFilters():[m]}(n.where));let l=[];n.orderBy&&(l=function(p){return p.map(m=>function(C){return new Tl(xr(C.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(m))}(n.orderBy));let u=null;n.limit&&(u=function(p){let m;return m=typeof p=="object"?p.value:p,Ql(m)?null:m}(n.limit));let a=null;n.startAt&&(a=function(p){const m=!!p.before,S=p.values||[];return new wl(S,m)}(n.startAt));let h=null;return n.endAt&&(h=function(p){const m=!p.before,S=p.values||[];return new wl(S,m)}(n.endAt)),eT(e,i,l,s,u,"F",a,h)}function LT(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return G()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function cv(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=xr(n.unaryFilter.field);return Me.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=xr(n.unaryFilter.field);return Me.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=xr(n.unaryFilter.field);return Me.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=xr(n.unaryFilter.field);return Me.create(l,"!=",{nullValue:"NULL_VALUE"});default:return G()}}(t):t.fieldFilter!==void 0?function(n){return Me.create(xr(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return G()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Yt.create(n.compositeFilter.filters.map(r=>cv(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return G()}}(n.compositeFilter.op))}(t):G()}function FT(t){return ST[t]}function UT(t){return AT[t]}function zT(t){return CT[t]}function Dr(t){return{fieldPath:t.canonicalString()}}function xr(t){return at.fromServerFormat(t.fieldPath)}function hv(t){return t instanceof Me?function(n){if(n.op==="=="){if(hp(n.value))return{unaryFilter:{field:Dr(n.field),op:"IS_NAN"}};if(cp(n.value))return{unaryFilter:{field:Dr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(hp(n.value))return{unaryFilter:{field:Dr(n.field),op:"IS_NOT_NAN"}};if(cp(n.value))return{unaryFilter:{field:Dr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Dr(n.field),op:UT(n.op),value:n.value}}}(t):t instanceof Yt?function(n){const r=n.getFilters().map(i=>hv(i));return r.length===1?r[0]:{compositeFilter:{op:zT(n.op),filters:r}}}(t):G()}function dv(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e,n,r,i,s=W.min(),l=W.min(),u=Ke.EMPTY_BYTE_STRING,a=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=a}withSequenceNumber(e){return new Pn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Pn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Pn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Pn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e){this.ct=e}}function jT(t){const e=OT({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ac(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(){this.un=new bT}addToCollectionParentIndex(e,n){return this.un.add(n),O.resolve()}getCollectionParents(e,n){return O.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return O.resolve()}deleteFieldIndex(e,n){return O.resolve()}deleteAllFieldIndexes(e){return O.resolve()}createTargetIndexes(e,n){return O.resolve()}getDocumentsMatchingTarget(e,n){return O.resolve(null)}getIndexType(e,n){return O.resolve(0)}getFieldIndexes(e,n){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,n){return O.resolve($n.min())}getMinOffsetFromCollectionGroup(e,n){return O.resolve($n.min())}updateCollectionGroup(e,n,r){return O.resolve()}updateIndexEntries(e,n){return O.resolve()}}class bT{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Qe(Se.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Qe(Se.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new pi(0)}static kn(){return new pi(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(){this.changes=new Ei(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,rt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?O.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&fs(r.mutation,i,Rn.empty(),yt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,re()).next(()=>r))}getLocalViewOfDocuments(e,n,r=re()){const i=lr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let l=Ji();return s.forEach((u,a)=>{l=l.insert(u,a.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=lr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,re()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((l,u)=>{n.set(l,u)})})}computeViews(e,n,r,i){let s=Hn();const l=ds(),u=function(){return ds()}();return n.forEach((a,h)=>{const f=r.get(h.key);i.has(h.key)&&(f===void 0||f.mutation instanceof Xl)?s=s.insert(h.key,h):f!==void 0?(l.set(h.key,f.mutation.getFieldMask()),fs(f.mutation,h,f.mutation.getFieldMask(),yt.now())):l.set(h.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,s).next(a=>(a.forEach((h,f)=>l.set(h,f)),n.forEach((h,f)=>{var p;return u.set(h,new QT(f,(p=l.get(h))!==null&&p!==void 0?p:null))}),u))}recalculateAndSaveOverlays(e,n){const r=ds();let i=new Pe((l,u)=>l-u),s=re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const u of l)u.keys().forEach(a=>{const h=n.get(a);if(h===null)return;let f=r.get(a)||Rn.empty();f=u.applyToLocalView(h,f),r.set(a,f);const p=(i.get(u.batchId)||re()).add(a);i=i.insert(u.batchId,p)})}).next(()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const a=u.getNext(),h=a.key,f=a.value,p=Jy();f.forEach(m=>{if(!s.has(m)){const S=nv(n.get(m),r.get(m));S!==null&&p.set(m,S),s=s.add(m)}}),l.push(this.documentOverlayCache.saveOverlays(e,h,p))}return O.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(l){return K.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):tT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const l=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):O.resolve(lr());let u=-1,a=s;return l.next(h=>O.forEach(h,(f,p)=>(u<p.largestBatchId&&(u=p.largestBatchId),s.get(f)?O.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{a=a.insert(f,m)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,a,h,re())).next(f=>({batchId:u,changes:oT(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new K(n)).next(r=>{let i=Ji();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let l=Ji();return this.indexManager.getCollectionParents(e,s).next(u=>O.forEach(u,a=>{const h=function(p,m){return new Kl(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,a.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(f=>{f.forEach((p,m)=>{l=l.insert(p,m)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(l=>{s.forEach((a,h)=>{const f=h.getKey();l.get(f)===null&&(l=l.insert(f,rt.newInvalidDocument(f)))});let u=Ji();return l.forEach((a,h)=>{const f=s.get(a);f!==void 0&&fs(f.mutation,h,Rn.empty(),yt.now()),Gl(n,h)&&(u=u.insert(a,h))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return O.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Zr(i.createTime)}}(n)),O.resolve()}getNamedQuery(e,n){return O.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:jT(i.bundledQuery),readTime:Zr(i.readTime)}}(n)),O.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(){this.overlays=new Pe(K.comparator),this.Ir=new Map}getOverlay(e,n){return O.resolve(this.overlays.get(n))}getOverlays(e,n){const r=lr();return O.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),O.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),O.resolve()}getOverlaysForCollection(e,n,r){const i=lr(),s=n.length+1,l=new K(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const a=u.getNext().value,h=a.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&a.largestBatchId>r&&i.set(a.getKey(),a)}return O.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Pe((h,f)=>h-f);const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let f=s.get(h.largestBatchId);f===null&&(f=lr(),s=s.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}const u=lr(),a=s.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((h,f)=>u.set(h,f)),!(u.size()>=i)););return O.resolve(u)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new _T(n,r));let s=this.Ir.get(n);s===void 0&&(s=re(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(e){return O.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,O.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(){this.Tr=new Qe(Ue.Er),this.dr=new Qe(Ue.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Ue(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ue(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new K(new Se([])),r=new Ue(n,e),i=new Ue(n,e+1),s=[];return this.dr.forEachInRange([r,i],l=>{this.Vr(l),s.push(l.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new K(new Se([])),r=new Ue(n,e),i=new Ue(n,e+1);let s=re();return this.dr.forEachInRange([r,i],l=>{s=s.add(l.key)}),s}containsKey(e){const n=new Ue(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ue{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return K.comparator(e.key,n.key)||oe(e.wr,n.wr)}static Ar(e,n){return oe(e.wr,n.wr)||K.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Qe(Ue.Er)}checkEmpty(e){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new vT(s,n,r,i);this.mutationQueue.push(l);for(const u of i)this.br=this.br.add(new Ue(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return O.resolve(l)}lookupMutationBatch(e,n){return O.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return O.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ue(n,0),i=new Ue(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],l=>{const u=this.Dr(l.wr);s.push(u)}),O.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Qe(oe);return n.forEach(i=>{const s=new Ue(i,0),l=new Ue(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,l],u=>{r=r.add(u.wr)})}),O.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;K.isDocumentKey(s)||(s=s.child(""));const l=new Ue(new K(s),0);let u=new Qe(oe);return this.br.forEachWhile(a=>{const h=a.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(u=u.add(a.wr)),!0)},l),O.resolve(this.Cr(u))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ae(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return O.forEach(n.mutations,i=>{const s=new Ue(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Ue(n,0),i=this.br.firstAfterOrEqual(r);return O.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,O.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e){this.Mr=e,this.docs=function(){return new Pe(K.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,l=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return O.resolve(r?r.document.mutableCopy():rt.newInvalidDocument(n))}getEntries(e,n){let r=Hn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():rt.newInvalidDocument(i))}),O.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Hn();const l=n.path,u=new K(l.child("")),a=this.docs.getIteratorFrom(u);for(;a.hasNext();){const{key:h,value:{document:f}}=a.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||Ow(Mw(f),r)<=0||(i.has(f.key)||Gl(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return O.resolve(s)}getAllFromCollectionGroup(e,n,r,i){G()}Or(e,n){return O.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new JT(this)}getSize(e){return O.resolve(this.size)}}class JT extends HT{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),O.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e){this.persistence=e,this.Nr=new Ei(n=>wh(n),Th),this.lastRemoteSnapshotVersion=W.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Rh,this.targetCount=0,this.kr=pi.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),O.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new pi(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,O.resolve()}updateTargetData(e,n){return this.Kn(n),O.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((l,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.Nr.delete(l),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),O.waitFor(s).next(()=>i)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return O.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),O.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(l=>{s.push(i.markPotentiallyOrphaned(e,l))}),O.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),O.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return O.resolve(r)}containsKey(e,n){return O.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e,n){this.qr={},this.overlays={},this.Qr=new yh(0),this.Kr=!1,this.Kr=!0,this.$r=new GT,this.referenceDelegate=e(this),this.Ur=new ZT(this),this.indexManager=new $T,this.remoteDocumentCache=function(i){return new XT(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new BT(n),this.Gr=new KT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new WT,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new YT(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){H("MemoryPersistence","Starting transaction:",e);const i=new tI(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return O.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class tI extends Fw{constructor(e){super(),this.currentSequenceNumber=e}}class Ph{constructor(e){this.persistence=e,this.Jr=new Rh,this.Yr=null}static Zr(e){return new Ph(e)}get Xr(){if(this.Yr)return this.Yr;throw G()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),O.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),O.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.Xr,r=>{const i=K.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,W.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return O.or([()=>O.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=re(),i=re();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new kh(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return aE()?8:Uw(oE())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(l=>{s.result=l}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(l=>{s.result=l})}).next(()=>{if(s.result)return;const l=new nI;return this.Xi(e,n,l).next(u=>{if(s.result=u,this.zi)return this.es(e,n,l,u.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(qi()<=ne.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",Nr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),O.resolve()):(qi()<=ne.DEBUG&&H("QueryEngine","Query:",Nr(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(qi()<=ne.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",Nr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wt(n))):O.resolve())}Yi(e,n){if(mp(n))return O.resolve(null);let r=Wt(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ac(n,null,"F"),r=Wt(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const l=re(...s);return this.Ji.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,r).next(a=>{const h=this.ts(n,u);return this.ns(n,h,l,a.readTime)?this.Yi(e,ac(n,null,"F")):this.rs(e,h,n,a)}))})))}Zi(e,n,r,i){return mp(n)||i.isEqual(W.min())?O.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const l=this.ts(n,s);return this.ns(n,l,r,i)?O.resolve(null):(qi()<=ne.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Nr(n)),this.rs(e,l,n,Vw(i,-1)).next(u=>u))})}ts(e,n){let r=new Qe(Yy(e));return n.forEach((i,s)=>{Gl(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return qi()<=ne.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",Nr(n)),this.Ji.getDocumentsMatchingQuery(e,n,$n.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(l=>{s=s.insert(l.key,l)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Pe(oe),this._s=new Ei(s=>wh(s),Th),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qT(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function sI(t,e,n,r){return new iI(t,e,n,r)}async function fv(t,e){const n=te(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const l=[],u=[];let a=re();for(const h of i){l.push(h.batchId);for(const f of h.mutations)a=a.add(f.key)}for(const h of s){u.push(h.batchId);for(const f of h.mutations)a=a.add(f.key)}return n.localDocuments.getDocuments(r,a).next(h=>({hs:h,removedBatchIds:l,addedBatchIds:u}))})})}function pv(t){const e=te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function oI(t,e){const n=te(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const l=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const u=[];e.targetChanges.forEach((f,p)=>{const m=i.get(p);if(!m)return;u.push(n.Ur.removeMatchingKeys(s,f.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(s,f.addedDocuments,p)));let S=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?S=S.withResumeToken(Ke.EMPTY_BYTE_STRING,W.min()).withLastLimboFreeSnapshotVersion(W.min()):f.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(f.resumeToken,r)),i=i.insert(p,S),function(N,x,A){return N.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0}(m,S,f)&&u.push(n.Ur.updateTargetData(s,S))});let a=Hn(),h=re();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),u.push(lI(s,l,e.documentUpdates).next(f=>{a=f.Ps,h=f.Is})),!r.isEqual(W.min())){const f=n.Ur.getLastRemoteSnapshotVersion(s).next(p=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));u.push(f)}return O.waitFor(u).next(()=>l.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,a,h)).next(()=>a)}).then(s=>(n.os=i,s))}function lI(t,e,n){let r=re(),i=re();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let l=Hn();return n.forEach((u,a)=>{const h=s.get(u);a.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(u)),a.isNoDocument()&&a.version.isEqual(W.min())?(e.removeEntry(u,a.readTime),l=l.insert(u,a)):!h.isValidDocument()||a.version.compareTo(h.version)>0||a.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(a),l=l.insert(u,a)):H("LocalStore","Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",a.version)}),{Ps:l,Is:i}})}function aI(t,e){const n=te(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,O.resolve(i)):n.Ur.allocateTargetId(r).next(l=>(i=new Pn(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function fc(t,e,n){const r=te(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!$s(l))throw l;H("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function Cp(t,e,n){const r=te(t);let i=W.min(),s=re();return r.persistence.runTransaction("Execute query","readwrite",l=>function(a,h,f){const p=te(a),m=p._s.get(f);return m!==void 0?O.resolve(p.os.get(m)):p.Ur.getTargetData(h,f)}(r,l,Wt(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(l,u.targetId).next(a=>{s=a})}).next(()=>r.ss.getDocumentsMatchingQuery(l,e,n?i:W.min(),n?s:re())).next(u=>(uI(r,rT(e),u),{documents:u,Ts:s})))}function uI(t,e,n){let r=t.us.get(e)||W.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class Rp{constructor(){this.activeTargetIds=uT()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cI{constructor(){this.so=new Rp,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Rp,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){H("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){H("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ko=null;function Ja(){return ko===null?ko=function(){return 268435456+Math.round(2147483648*Math.random())}():ko++,"0x"+ko.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const et="WebChannelConnection";class pI extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,l){const u=Ja(),a=this.xo(n,r.toUriEncodedString());H("RestConnection",`Sending RPC '${n}' ${u}:`,a,i);const h={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(h,s,l),this.No(n,a,h,i).then(f=>(H("RestConnection",`Received RPC '${n}' ${u}: `,f),f),f=>{throw ci("RestConnection",`RPC '${n}' ${u} failed with error: `,f,"url: ",a,"request:",i),f})}Lo(n,r,i,s,l,u){return this.Mo(n,r,i,s,l)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_i}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,l)=>n[l]=s),i&&i.headers.forEach((s,l)=>n[l]=s)}xo(n,r){const i=dI[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Ja();return new Promise((l,u)=>{const a=new Ly;a.setWithCredentials(!0),a.listenOnce(Fy.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case bo.NO_ERROR:const f=a.getResponseJson();H(et,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),l(f);break;case bo.TIMEOUT:H(et,`RPC '${e}' ${s} timed out`),u(new q(B.DEADLINE_EXCEEDED,"Request time out"));break;case bo.HTTP_ERROR:const p=a.getStatus();if(H(et,`RPC '${e}' ${s} failed with status:`,p,"response text:",a.getResponseText()),p>0){let m=a.getResponseJson();Array.isArray(m)&&(m=m[0]);const S=m==null?void 0:m.error;if(S&&S.status&&S.message){const C=function(x){const A=x.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(A)>=0?A:B.UNKNOWN}(S.status);u(new q(C,S.message))}else u(new q(B.UNKNOWN,"Server responded with status "+a.getStatus()))}else u(new q(B.UNAVAILABLE,"Connection failed."));break;default:G()}}finally{H(et,`RPC '${e}' ${s} completed.`)}});const h=JSON.stringify(i);H(et,`RPC '${e}' ${s} sending request:`,i),a.send(n,"POST",h,r,15)})}Bo(e,n,r){const i=Ja(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=By(),u=zy(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(a.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Oo(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const f=s.join("");H(et,`Creating RPC '${e}' stream ${i}: ${f}`,a);const p=l.createWebChannel(f,a);let m=!1,S=!1;const C=new fI({Io:x=>{S?H(et,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(m||(H(et,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),H(et,`RPC '${e}' stream ${i} sending:`,x),p.send(x))},To:()=>p.close()}),N=(x,A,_)=>{x.listen(A,w=>{try{_(w)}catch(D){setTimeout(()=>{throw D},0)}})};return N(p,Xi.EventType.OPEN,()=>{S||(H(et,`RPC '${e}' stream ${i} transport opened.`),C.yo())}),N(p,Xi.EventType.CLOSE,()=>{S||(S=!0,H(et,`RPC '${e}' stream ${i} transport closed`),C.So())}),N(p,Xi.EventType.ERROR,x=>{S||(S=!0,ci(et,`RPC '${e}' stream ${i} transport errored:`,x),C.So(new q(B.UNAVAILABLE,"The operation could not be completed")))}),N(p,Xi.EventType.MESSAGE,x=>{var A;if(!S){const _=x.data[0];Ae(!!_);const w=_,D=w.error||((A=w[0])===null||A===void 0?void 0:A.error);if(D){H(et,`RPC '${e}' stream ${i} received error:`,D);const L=D.status;let U=function(v){const I=ke[v];if(I!==void 0)return iv(I)}(L),E=D.message;U===void 0&&(U=B.INTERNAL,E="Unknown error status: "+L+" with message "+D.message),S=!0,C.So(new q(U,E)),p.close()}else H(et,`RPC '${e}' stream ${i} received:`,_),C.bo(_)}}),N(u,Uy.STAT_EVENT,x=>{x.stat===nc.PROXY?H(et,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===nc.NOPROXY&&H(et,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.wo()},0),C}}function Za(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv(t){return new RT(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&H("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e,n,r,i,s,l,u,a){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=a,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new gv(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(pn(n.toString()),pn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new q(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return H("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(H("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gI extends mI{constructor(e,n,r,i,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=xT(this.serializer,e),r=function(s){if(!("targetChange"in s))return W.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?W.min():l.readTime?Zr(l.readTime):W.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Ap(this.serializer),n.addTarget=function(s,l){let u;const a=l.target;if(u=lc(a)?{documents:VT(s,a)}:{query:MT(s,a)._t},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=kT(s,l.resumeToken);const h=hc(s,l.expectedCount);h!==null&&(u.expectedCount=h)}else if(l.snapshotVersion.compareTo(W.min())>0){u.readTime=PT(s,l.snapshotVersion.toTimestamp());const h=hc(s,l.expectedCount);h!==null&&(u.expectedCount=h)}return u}(this.serializer,e);const r=LT(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Ap(this.serializer),n.removeTarget=e,this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new q(B.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.Mo(e,dc(n,r),i,s,l)).catch(s=>{throw s.name==="FirebaseError"?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new q(B.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Lo(e,dc(n,r),i,l,u,s)).catch(l=>{throw l.name==="FirebaseError"?(l.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new q(B.UNKNOWN,l.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class vI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(pn(n),this.D_=!1):H("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(l=>{r.enqueueAndForget(async()=>{Qs(this)&&(H("RemoteStore","Restarting streams for network reachability change."),await async function(a){const h=te(a);h.L_.add(4),await Hs(h),h.q_.set("Unknown"),h.L_.delete(4),await Zl(h)}(this))})}),this.q_=new vI(r,i)}}async function Zl(t){if(Qs(t))for(const e of t.B_)await e(!0)}async function Hs(t){for(const e of t.B_)await e(!1)}function yv(t,e){const n=te(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Vh(n)?xh(n):wi(n).r_()&&Dh(n,e))}function Nh(t,e){const n=te(t),r=wi(n);n.N_.delete(e),r.r_()&&vv(n,e),n.N_.size===0&&(r.r_()?r.o_():Qs(n)&&n.q_.set("Unknown"))}function Dh(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(W.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wi(t).A_(e)}function vv(t,e){t.Q_.xe(e),wi(t).R_(e)}function xh(t){t.Q_=new IT({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),wi(t).start(),t.q_.v_()}function Vh(t){return Qs(t)&&!wi(t).n_()&&t.N_.size>0}function Qs(t){return te(t).L_.size===0}function _v(t){t.Q_=void 0}async function EI(t){t.q_.set("Online")}async function wI(t){t.N_.forEach((e,n)=>{Dh(t,e)})}async function TI(t,e){_v(t),Vh(t)?(t.q_.M_(e),xh(t)):t.q_.set("Unknown")}async function II(t,e,n){if(t.q_.set("Online"),e instanceof ov&&e.state===2&&e.cause)try{await async function(i,s){const l=s.cause;for(const u of s.targetIds)i.N_.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.N_.delete(u),i.Q_.removeTarget(u))}(t,e)}catch(r){H("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await kp(t,r)}else if(e instanceof Qo?t.Q_.Ke(e):e instanceof sv?t.Q_.He(e):t.Q_.We(e),!n.isEqual(W.min()))try{const r=await pv(t.localStore);n.compareTo(r)>=0&&await function(s,l){const u=s.Q_.rt(l);return u.targetChanges.forEach((a,h)=>{if(a.resumeToken.approximateByteSize()>0){const f=s.N_.get(h);f&&s.N_.set(h,f.withResumeToken(a.resumeToken,l))}}),u.targetMismatches.forEach((a,h)=>{const f=s.N_.get(a);if(!f)return;s.N_.set(a,f.withResumeToken(Ke.EMPTY_BYTE_STRING,f.snapshotVersion)),vv(s,a);const p=new Pn(f.target,a,h,f.sequenceNumber);Dh(s,p)}),s.remoteSyncer.applyRemoteEvent(u)}(t,n)}catch(r){H("RemoteStore","Failed to raise snapshot:",r),await kp(t,r)}}async function kp(t,e,n){if(!$s(e))throw e;t.L_.add(1),await Hs(t),t.q_.set("Offline"),n||(n=()=>pv(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{H("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Zl(t)})}async function Np(t,e){const n=te(t);n.asyncQueue.verifyOperationInProgress(),H("RemoteStore","RemoteStore received new credentials");const r=Qs(n);n.L_.add(3),await Hs(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Zl(n)}async function SI(t,e){const n=te(t);e?(n.L_.delete(2),await Zl(n)):e||(n.L_.add(2),await Hs(n),n.q_.set("Unknown"))}function wi(t){return t.K_||(t.K_=function(n,r,i){const s=te(n);return s.w_(),new gI(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:EI.bind(null,t),Ro:wI.bind(null,t),mo:TI.bind(null,t),d_:II.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Vh(t)?xh(t):t.q_.set("Unknown")):(await t.K_.stop(),_v(t))})),t.K_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const l=Date.now()+r,u=new Mh(e,n,l,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ev(t,e){if(pn("AsyncQueue",`${e}: ${t}`),$s(t))return new q(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e){this.comparator=e?(n,r)=>e(n,r)||K.comparator(n.key,r.key):(n,r)=>K.comparator(n.key,r.key),this.keyedMap=Ji(),this.sortedSet=new Pe(this.comparator)}static emptySet(e){return new ei(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ei)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ei;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(){this.W_=new Pe(K.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):G():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class mi{constructor(e,n,r,i,s,l,u,a,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=a,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,s){const l=[];return n.forEach(u=>{l.push({type:0,doc:u})}),new mi(e,n,ei.emptySet(n),l,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class CI{constructor(){this.queries=xp(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=te(n),s=i.queries;i.queries=xp(),s.forEach((l,u)=>{for(const a of u.j_)a.onError(r)})})(this,new q(B.ABORTED,"Firestore shutting down"))}}function xp(){return new Ei(t=>Gy(t),Wl)}async function RI(t,e){const n=te(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new AI,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const u=Ev(l,`Initialization of query '${Nr(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&Oh(n)}async function PI(t,e){const n=te(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const l=s.j_.indexOf(e);l>=0&&(s.j_.splice(l,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function kI(t,e){const n=te(t);let r=!1;for(const i of e){const s=i.query,l=n.queries.get(s);if(l){for(const u of l.j_)u.X_(i)&&(r=!0);l.z_=i}}r&&Oh(n)}function NI(t,e,n){const r=te(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function Oh(t){t.Y_.forEach(e=>{e.next()})}var pc,Vp;(Vp=pc||(pc={})).ea="default",Vp.Cache="cache";class DI{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new mi(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=mi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==pc.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e){this.key=e}}class Tv{constructor(e){this.key=e}}class xI{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=re(),this.mutatedKeys=re(),this.Aa=Yy(e),this.Ra=new ei(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Dp,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,l=i,u=!1;const a=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{const m=i.get(f),S=Gl(this.query,p)?p:null,C=!!m&&this.mutatedKeys.has(m.key),N=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let x=!1;m&&S?m.data.isEqual(S.data)?C!==N&&(r.track({type:3,doc:S}),x=!0):this.ga(m,S)||(r.track({type:2,doc:S}),x=!0,(a&&this.Aa(S,a)>0||h&&this.Aa(S,h)<0)&&(u=!0)):!m&&S?(r.track({type:0,doc:S}),x=!0):m&&!S&&(r.track({type:1,doc:m}),x=!0,(a||h)&&(u=!0)),x&&(S?(l=l.add(S),s=N?s.add(f):s.delete(f)):(l=l.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const f=this.query.limitType==="F"?l.last():l.first();l=l.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{Ra:l,fa:r,ns:u,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const l=e.fa.G_();l.sort((f,p)=>function(S,C){const N=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return G()}};return N(S)-N(C)}(f.type,p.type)||this.Aa(f.doc,p.doc)),this.pa(r),i=i!=null&&i;const u=n&&!i?this.ya():[],a=this.da.size===0&&this.current&&!i?1:0,h=a!==this.Ea;return this.Ea=a,l.length!==0||h?{snapshot:new mi(this.query,e.Ra,s,l,e.mutatedKeys,a===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:u}:{wa:u}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Dp,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=re(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Tv(r))}),this.da.forEach(r=>{e.has(r)||n.push(new wv(r))}),n}ba(e){this.Ta=e.Ts,this.da=re();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return mi.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class VI{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class MI{constructor(e){this.key=e,this.va=!1}}class OI{constructor(e,n,r,i,s,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Ca={},this.Fa=new Ei(u=>Gy(u),Wl),this.Ma=new Map,this.xa=new Set,this.Oa=new Pe(K.comparator),this.Na=new Map,this.La=new Rh,this.Ba={},this.ka=new Map,this.qa=pi.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function LI(t,e,n=!0){const r=Rv(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await Iv(r,e,n,!0),i}async function FI(t,e){const n=Rv(t);await Iv(n,e,!0,!1)}async function Iv(t,e,n,r){const i=await aI(t.localStore,Wt(e)),s=i.targetId,l=t.sharedClientState.addLocalQueryTarget(s,n);let u;return r&&(u=await UI(t,e,s,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&yv(t.remoteStore,i),u}async function UI(t,e,n,r,i){t.Ka=(p,m,S)=>async function(N,x,A,_){let w=x.view.ma(A);w.ns&&(w=await Cp(N.localStore,x.query,!1).then(({documents:E})=>x.view.ma(E,w)));const D=_&&_.targetChanges.get(x.targetId),L=_&&_.targetMismatches.get(x.targetId)!=null,U=x.view.applyChanges(w,N.isPrimaryClient,D,L);return Op(N,x.targetId,U.wa),U.snapshot}(t,p,m,S);const s=await Cp(t.localStore,e,!0),l=new xI(e,s.Ts),u=l.ma(s.documents),a=bs.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=l.applyChanges(u,t.isPrimaryClient,a);Op(t,n,h.wa);const f=new VI(e,n,l);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),h.snapshot}async function zI(t,e,n){const r=te(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(l=>!Wl(l,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await fc(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Nh(r.remoteStore,i.targetId),mc(r,i.targetId)}).catch(gh)):(mc(r,i.targetId),await fc(r.localStore,i.targetId,!0))}async function BI(t,e){const n=te(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Nh(n.remoteStore,r.targetId))}async function Sv(t,e){const n=te(t);try{const r=await oI(n.localStore,e);e.targetChanges.forEach((i,s)=>{const l=n.Na.get(s);l&&(Ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.va=!0:i.modifiedDocuments.size>0?Ae(l.va):i.removedDocuments.size>0&&(Ae(l.va),l.va=!1))}),await Cv(n,r,e)}catch(r){await gh(r)}}function Mp(t,e,n){const r=te(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,l)=>{const u=l.view.Z_(e);u.snapshot&&i.push(u.snapshot)}),function(l,u){const a=te(l);a.onlineState=u;let h=!1;a.queries.forEach((f,p)=>{for(const m of p.j_)m.Z_(u)&&(h=!0)}),h&&Oh(a)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function jI(t,e,n){const r=te(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let l=new Pe(K.comparator);l=l.insert(s,rt.newNoDocument(s,W.min()));const u=re().add(s),a=new Jl(W.min(),new Map,new Pe(oe),l,u);await Sv(r,a),r.Oa=r.Oa.remove(s),r.Na.delete(e),Lh(r)}else await fc(r.localStore,e,!1).then(()=>mc(r,e,n)).catch(gh)}function mc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||Av(t,r)})}function Av(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Nh(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Lh(t))}function Op(t,e,n){for(const r of n)r instanceof wv?(t.La.addReference(r.key,e),$I(t,r)):r instanceof Tv?(H("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||Av(t,r.key)):G()}function $I(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(H("SyncEngine","New document in limbo: "+n),t.xa.add(r),Lh(t))}function Lh(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new K(Se.fromString(e)),r=t.qa.next();t.Na.set(r,new MI(n)),t.Oa=t.Oa.insert(n,r),yv(t.remoteStore,new Pn(Wt(Ih(n.path)),r,"TargetPurposeLimboResolution",yh.oe))}}async function Cv(t,e,n){const r=te(t),i=[],s=[],l=[];r.Fa.isEmpty()||(r.Fa.forEach((u,a)=>{l.push(r.Ka(a,e,n).then(h=>{var f;if((h||n)&&r.isPrimaryClient){const p=h?!h.fromCache:(f=n==null?void 0:n.targetChanges.get(a.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(a.targetId,p?"current":"not-current")}if(h){i.push(h);const p=kh.Wi(a.targetId,h);s.push(p)}}))}),await Promise.all(l),r.Ca.d_(i),await async function(a,h){const f=te(a);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>O.forEach(h,m=>O.forEach(m.$i,S=>f.persistence.referenceDelegate.addReference(p,m.targetId,S)).next(()=>O.forEach(m.Ui,S=>f.persistence.referenceDelegate.removeReference(p,m.targetId,S)))))}catch(p){if(!$s(p))throw p;H("LocalStore","Failed to update sequence numbers: "+p)}for(const p of h){const m=p.targetId;if(!p.fromCache){const S=f.os.get(m),C=S.snapshotVersion,N=S.withLastLimboFreeSnapshotVersion(C);f.os=f.os.insert(m,N)}}}(r.localStore,s))}async function bI(t,e){const n=te(t);if(!n.currentUser.isEqual(e)){H("SyncEngine","User change. New user:",e.toKey());const r=await fv(n.localStore,e);n.currentUser=e,function(s,l){s.ka.forEach(u=>{u.forEach(a=>{a.reject(new q(B.CANCELLED,l))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Cv(n,r.hs)}}function HI(t,e){const n=te(t),r=n.Na.get(e);if(r&&r.va)return re().add(r.key);{let i=re();const s=n.Ma.get(e);if(!s)return i;for(const l of s){const u=n.Fa.get(l);i=i.unionWith(u.view.Va)}return i}}function Rv(t){const e=te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Sv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jI.bind(null,e),e.Ca.d_=kI.bind(null,e.eventManager),e.Ca.$a=NI.bind(null,e.eventManager),e}class Al{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=mv(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return sI(this.persistence,new rI,e.initialUser,this.serializer)}Ga(e){return new eI(Ph.Zr,this.serializer)}Wa(e){return new cI}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Al.provider={build:()=>new Al};class gc{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Mp(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=bI.bind(null,this.syncEngine),await SI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new CI}()}createDatastore(e){const n=mv(e.databaseInfo.databaseId),r=function(s){return new pI(s)}(e.databaseInfo);return function(s,l,u,a){return new yI(s,l,u,a)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,l,u){return new _I(r,i,s,l,u)}(this.localStore,this.datastore,e.asyncQueue,n=>Mp(this.syncEngine,n,0),function(){return Pp.D()?new Pp:new hI}())}createSyncEngine(e,n){return function(i,s,l,u,a,h,f){const p=new OI(i,s,l,u,a,h);return f&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=te(i);H("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Hs(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}gc.provider={build:()=>new gc};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):pn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=tt.UNAUTHENTICATED,this.clientId=Dw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async l=>{H("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(H("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ev(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function eu(t,e){t.asyncQueue.verifyOperationInProgress(),H("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await fv(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Lp(t,e){t.asyncQueue.verifyOperationInProgress();const n=await KI(t);H("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Np(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Np(e.remoteStore,i)),t._onlineComponents=e}async function KI(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){H("FirestoreClient","Using user provided OfflineComponentProvider");try{await eu(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===B.FAILED_PRECONDITION||i.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ci("Error using user provided cache. Falling back to memory cache: "+n),await eu(t,new Al)}}else H("FirestoreClient","Using default OfflineComponentProvider"),await eu(t,new Al);return t._offlineComponents}async function WI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(H("FirestoreClient","Using user provided OnlineComponentProvider"),await Lp(t,t._uninitializedComponentsProvider._online)):(H("FirestoreClient","Using default OnlineComponentProvider"),await Lp(t,new gc))),t._onlineComponents}async function Fp(t){const e=await WI(t),n=e.eventManager;return n.onListen=LI.bind(null,e.syncEngine),n.onUnlisten=zI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=FI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=BI.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Up=new Map;function GI(t,e,n,r){if(e===!0&&r===!0)throw new q(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function zp(t){if(K.isDocumentKey(t))throw new q(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function YI(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":G()}function qo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new q(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=YI(t);throw new q(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new q(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new q(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Pv((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new q(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new q(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new q(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Bp({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new q(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Bp(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Iw;switch(r.type){case"firstParty":return new Rw(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new q(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Up.get(n);r&&(H("ComponentProvider","Removing Datastore"),Up.delete(n),r.terminate())}(this),Promise.resolve()}}function XI(t,e,n,r={}){var i;const s=(t=qo(t,Fh))._getSettings(),l=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==l&&ci("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:l,ssl:!1})),r.mockUserToken){let u,a;if(typeof r.mockUserToken=="string")u=r.mockUserToken,a=tt.MOCK_USER;else{u=Sy(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new q(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new tt(h)}t._authCredentials=new Sw(new jy(u,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ea(this.firestore,e,this._query)}}class Sr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ti(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Sr(this.firestore,e,this._key)}}class ti extends ea{constructor(e,n,r){super(e,n,Ih(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Sr(this.firestore,null,new K(e))}withConverter(e){return new ti(this.firestore,e,this._path)}}function JI(t,e,...n){if(t=fh(t),t instanceof Fh){const r=Se.fromString(e,...n);return zp(r),new ti(t,null,r)}{if(!(t instanceof Sr||t instanceof ti))throw new q(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Se.fromString(e,...n));return zp(r),new ti(t.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new gv(this,"async_queue_retry"),this.Vu=()=>{const r=Za();r&&H("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Za();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Za();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Jr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!$s(e))throw e;H("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(l){let u=l.message||"";return l.stack&&(u=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),u}(r);throw pn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Mh.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&G()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function $p(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class yc extends Fh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new jp,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jp(e),this._firestoreClient=void 0,await e}}}function ZI(t,e){const n=typeof t=="object"?t:xy(),r=typeof t=="string"?t:"(default)",i=ky(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Ty("firestore");s&&XI(i,...s)}return i}function eS(t){if(t._terminated)throw new q(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||tS(t),t._firestoreClient}function tS(t){var e,n,r;const i=t._freezeSettings(),s=function(u,a,h,f){return new jw(u,a,h,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,Pv(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new qI(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(u){const a=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(a),_online:a}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cl(Ke.fromBase64String(e))}catch(n){throw new q(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Cl(Ke.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new q(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new at(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new q(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new q(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return oe(this._lat,e._lat)||oe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}const iS=new RegExp("[~\\*/\\[\\]]");function sS(t,e,n){if(e.search(iS)>=0)throw bp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t);try{return new kv(...e.split("."))._internalPath}catch{throw bp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t)}}function bp(t,e,n,r,i){let s=`Function ${e}() called with invalid data`;s+=". ";let l="";return new q(B.INVALID_ARGUMENT,s+t+l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Sr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new oS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Dv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class oS extends Nv{data(){return super.data()}}function Dv(t,e){return typeof e=="string"?sS(t,e):e instanceof kv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new q(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class aS{convertValue(e,n="none"){switch(Er(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(_r(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw G()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ql(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>Ce(l.doubleValue));return new rS(s)}convertGeoPoint(e){return new nS(Ce(e.latitude),Ce(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=_h(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ms(e));default:return null}}convertTimestamp(e){const n=bn(e);return new yt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Se.fromString(e);Ae(dv(r));const i=new Os(r.get(1),r.get(3)),s=new K(r.popFirst(5));return i.isEqual(n)||pn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xv extends Nv{constructor(e,n,r,i,s,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ko(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Dv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ko extends xv{data(e={}){return super.data(e)}}class uS{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new es(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ko(this._firestore,this._userDataWriter,r.key,r,new es(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(u=>{const a=new Ko(i._firestore,i._userDataWriter,u.doc.key,u.doc,new es(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:a,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>s||u.type!==3).map(u=>{const a=new Ko(i._firestore,i._userDataWriter,u.doc.key,u.doc,new es(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,f=-1;return u.type!==0&&(h=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),f=l.indexOf(u.doc.key)),{type:cS(u.type),doc:a,oldIndex:h,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function cS(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return G()}}class Vv extends aS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Sr(this.firestore,null,n)}}function hS(t,...e){var n,r,i;t=fh(t);let s={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||$p(e[l])||(s=e[l],l++);const u={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if($p(e[l])){const p=e[l];e[l]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[l+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[l+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let a,h,f;if(t instanceof Sr)h=qo(t.firestore,yc),f=Ih(t._key.path),a={next:p=>{e[l]&&e[l](dS(h,t,p))},error:e[l+1],complete:e[l+2]};else{const p=qo(t,ea);h=qo(p.firestore,yc),f=p._query;const m=new Vv(h);a={next:S=>{e[l]&&e[l](new uS(h,m,p,S))},error:e[l+1],complete:e[l+2]},lS(t._query)}return function(m,S,C,N){const x=new QI(N),A=new DI(S,x,C);return m.asyncQueue.enqueueAndForget(async()=>RI(await Fp(m),A)),()=>{x.Za(),m.asyncQueue.enqueueAndForget(async()=>PI(await Fp(m),A))}}(eS(h),f,u,a)}function dS(t,e,n){const r=n.docs.get(e._key),i=new Vv(t);return new xv(t,i,e._key,r,new es(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){_i=i})(Ny),Ds(new ui("firestore",(r,{instanceIdentifier:i,options:s})=>{const l=r.getProvider("app").getImmediate(),u=new yc(new Aw(r.getProvider("auth-internal")),new kw(r.getProvider("app-check-internal")),function(h,f){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new q(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Os(h.options.projectId,f)}(l,i),l);return s=Object.assign({useFetchStreams:n},s),u._setSettings(s),u},"PUBLIC").setMultipleInstances(!0)),zn(sp,"4.7.3",e),zn(sp,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv="firebasestorage.googleapis.com",fS="storageBucket",pS=2*60*1e3,mS=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt extends Ir{constructor(e,n,r=0){super(tu(e),`Firebase Storage: ${n} (${tu(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Jt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return tu(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Xt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Xt||(Xt={}));function tu(t){return"storage/"+t}function gS(){const t="An unknown error occurred, please check the error payload for server response.";return new Jt(Xt.UNKNOWN,t)}function yS(){return new Jt(Xt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function vS(){return new Jt(Xt.CANCELED,"User canceled the upload/download.")}function _S(t){return new Jt(Xt.INVALID_URL,"Invalid URL '"+t+"'.")}function ES(t){return new Jt(Xt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Hp(t){return new Jt(Xt.INVALID_ARGUMENT,t)}function Ov(){return new Jt(Xt.APP_DELETED,"The Firebase app was deleted.")}function wS(t){return new Jt(Xt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ft.makeFromUrl(e,n)}catch{return new Ft(e,"")}if(r.path==="")return r;throw ES(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(D){D.path.charAt(D.path.length-1)==="/"&&(D.path_=D.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+i+l,"i"),a={bucket:1,path:3};function h(D){D.path_=decodeURIComponent(D.path)}const f="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",S=new RegExp(`^https?://${p}/${f}/b/${i}/o${m}`,"i"),C={bucket:1,path:3},N=n===Mv?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",A=new RegExp(`^https?://${N}/${i}/${x}`,"i"),w=[{regex:u,indices:a,postModify:s},{regex:S,indices:C,postModify:h},{regex:A,indices:{bucket:1,path:2},postModify:h}];for(let D=0;D<w.length;D++){const L=w[D],U=L.regex.exec(e);if(U){const E=U[L.indices.bucket];let y=U[L.indices.path];y||(y=""),r=new Ft(E,y),L.postModify(r);break}}if(r==null)throw _S(e);return r}}class TS{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(t,e,n){let r=1,i=null,s=null,l=!1,u=0;function a(){return u===2}let h=!1;function f(...x){h||(h=!0,e.apply(null,x))}function p(x){i=setTimeout(()=>{i=null,t(S,a())},x)}function m(){s&&clearTimeout(s)}function S(x,...A){if(h){m();return}if(x){m(),f.call(null,x,...A);return}if(a()||l){m(),f.call(null,x,...A);return}r<64&&(r*=2);let w;u===1?(u=2,w=0):w=(r+Math.random())*1e3,p(w)}let C=!1;function N(x){C||(C=!0,m(),!h&&(i!==null?(x||(u=2),clearTimeout(i),p(0)):x||(u=1)))}return p(0),s=setTimeout(()=>{l=!0,N(!0)},n),N}function SS(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(t){return t!==void 0}function Qp(t,e,n,r){if(r<e)throw Hp(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Hp(`Invalid value for '${t}'. Expected ${n} or less.`)}function CS(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Rl;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Rl||(Rl={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,n,r,i,s,l,u,a,h,f,p,m=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=a,this.timeout_=h,this.progressCallback_=f,this.connectionFactory_=p,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,C)=>{this.resolve_=S,this.reject_=C,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new No(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const l=u=>{const a=u.loaded,h=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(a,h)};this.progressCallback_!==null&&s.addUploadProgressListener(l),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(l),this.pendingConnection_=null;const u=s.getErrorCode()===Rl.NO_ERROR,a=s.getStatus();if(!u||RS(a,this.additionalRetryCodes_)&&this.retry){const f=s.getErrorCode()===Rl.ABORT;r(!1,new No(!1,null,f));return}const h=this.successCodes_.indexOf(a)!==-1;r(!0,new No(h,s))})},n=(r,i)=>{const s=this.resolve_,l=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const a=this.callback_(u,u.getResponse());AS(a)?s(a):s()}catch(a){l(a)}else if(u!==null){const a=gS();a.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,a)):l(a)}else if(i.canceled){const a=this.appDelete_?Ov():vS();l(a)}else{const a=yS();l(a)}};this.canceled_?n(!1,new No(!1,null,!0)):this.backoffId_=IS(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&SS(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class No{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function kS(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function NS(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function DS(t,e){e&&(t["X-Firebase-GMPID"]=e)}function xS(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function VS(t,e,n,r,i,s,l=!0){const u=CS(t.urlParams),a=t.url+u,h=Object.assign({},t.headers);return DS(h,e),kS(h,n),NS(h,s),xS(h,r),new PS(a,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function OS(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e,n){this._service=e,n instanceof Ft?this._location=n:this._location=Ft.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Pl(e,n)}get root(){const e=new Ft(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return OS(this._location.path)}get storage(){return this._service}get parent(){const e=MS(this._location.path);if(e===null)return null;const n=new Ft(this._location.bucket,e);return new Pl(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw wS(e)}}function qp(t,e){const n=e==null?void 0:e[fS];return n==null?null:Ft.makeFromBucketSpec(n,t)}function LS(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:Sy(i,t.app.options.projectId))}class FS{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=Mv,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=pS,this._maxUploadRetryTime=mS,this._requests=new Set,i!=null?this._bucket=Ft.makeFromBucketSpec(i,this._host):this._bucket=qp(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ft.makeFromBucketSpec(this._url,e):this._bucket=qp(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Qp("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Qp("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Pl(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new TS(Ov());{const l=VS(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Kp="@firebase/storage",Wp="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="storage";function US(t=xy(),e){t=fh(t);const r=ky(t,Lv).getImmediate({identifier:e}),i=Ty("storage");return i&&zS(r,...i),r}function zS(t,e,n,r={}){LS(t,e,n,r)}function BS(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new FS(n,r,i,e,Ny)}function jS(){Ds(new ui(Lv,BS,"PUBLIC").setMultipleInstances(!0)),zn(Kp,Wp,""),zn(Kp,Wp,"esm2017")}jS();const $S={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0},Fv=Dy($S),bS=ZI(Fv);US(Fv);function HS(){var Le;const[t,e]=me.useState([]);me.useEffect(()=>{fetch("scratch-games.json").then(M=>M.json()).then(M=>e(M))},[]);const[n,r]=me.useState([]);me.useEffect(()=>{const M=JI(bS,"unity-games"),b=hS(M,Q=>{const X=Q.docs.map(Y=>({id:Y.id,...Y.data()}));X.sort((Y,le)=>{var We,Ee,Wn,Ti;const Fe=Y.createdAt?((Ee=(We=Y.createdAt).toMillis)==null?void 0:Ee.call(We))??0:0,vt=le.createdAt?((Ti=(Wn=le.createdAt).toMillis)==null?void 0:Ti.call(Wn))??0:0;return Fe-vt}),r(X)},Q=>console.error("firestore onSnapshot error",Q));return()=>b()},[]);const[i,s]=me.useState(!1),[l,u]=me.useState(!1),[a,h]=me.useState("add"),[f,p]=me.useState(""),[m,S]=me.useState(""),[C,N]=me.useState(""),[x,A]=me.useState(""),[_,w]=me.useState(null),[D,L]=me.useState(""),[U,E]=me.useState(""),[y,v]=me.useState(null),[I,R]=me.useState(!1),[P,T]=me.useState(!1),ue=me.useRef(null);me.useEffect(()=>{if(a==="edit"&&f){const M=n.find(b=>b.id===f);M&&(S(M.name),N(M.link),A(M.winCondition||""),w(null),ue.current&&(ue.current.value=""))}},[a,f,n]),me.useEffect(()=>{p(""),S(""),N(""),A(""),w(null),v(null),T(!1),ue.current&&(ue.current.value="")},[a]);const De=async M=>{var b,Q,X,Y,le;if(M.preventDefault(),v(null),!D||!U){v("Please enter admin username and password");return}if(!m||!C||!_){v("Please provide name, link and thumbnail image");return}try{R(!0);const vt=await(en=>new Promise((Ii,Si)=>{const Yn=new FileReader;Yn.onload=()=>Ii(Yn.result),Yn.onerror=()=>Si(new Error("Failed to read file")),Yn.readAsDataURL(en)}))(_),We=await fetch("/.netlify/functions/upload",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({image:vt})});if(!We.ok){const en=await We.text();throw new Error("Image upload failed: "+en)}const Ee=await We.json(),Wn=((Q=(b=Ee==null?void 0:Ee.data)==null?void 0:b.data)==null?void 0:Q.url)||((Y=(X=Ee==null?void 0:Ee.data)==null?void 0:X.data)==null?void 0:Y.display_url)||((le=Ee==null?void 0:Ee.data)==null?void 0:le.url);if(!Wn)throw new Error("Invalid upload response");const Gn={action:a==="add"?"add":a==="edit"?"edit":"add",credentials:{user:D,pass:U},data:{name:m,link:C,image:Wn,winCondition:x}};a==="edit"&&(Gn.docId=f);const gn=await fetch("/.netlify/functions/admin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Gn)});if(!gn.ok){const en=await gn.text();throw new Error("Server admin action failed: "+en)}const Zt=await gn.json();if(!Zt||!Zt.ok)throw new Error((Zt==null?void 0:Zt.error)||"Unknown server error");v(a==="add"?"Game added successfully":"Game updated successfully"),S(""),N(""),A(""),w(null),p(""),ue.current&&(ue.current.value="")}catch(Fe){console.error(Fe),v("Operation failed: "+(Fe.message||String(Fe)))}finally{R(!1)}},jt=async M=>{if(M.preventDefault(),!f){v("Please select a game to delete");return}if(!P){T(!0);return}try{if(R(!0),!D||!U){v("Please enter admin username and password"),R(!1);return}const Q=await fetch("/.netlify/functions/admin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"delete",credentials:{user:D,pass:U},docId:f})});if(!Q.ok){const Y=await Q.text();throw new Error("Server admin action failed: "+Y)}const X=await Q.json();if(!X||!X.ok)throw new Error((X==null?void 0:X.error)||"Unknown server error");v("Game deleted successfully"),p(""),T(!1)}catch(b){console.error(b),v("Delete failed: "+(b.message||String(b)))}finally{R(!1)}};return j.jsxs(j.Fragment,{children:[j.jsxs("div",{className:"top",children:[j.jsx("a",{href:"https://www.facebook.com/hcmutGDC",children:j.jsx("img",{src:B1,className:"logo"})}),j.jsx("button",{className:"qr-toggle",onClick:()=>u(M=>!M),title:"Show QR Code",children:j.jsxs("svg",{viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor",strokeWidth:"2",fill:"none",children:[j.jsx("path",{d:"M3 3h6v6H3zM15 3h6v6h-6zM3 15h6v6H3z"}),j.jsx("path",{d:"M15 15h2v2h-2z"}),j.jsx("path",{d:"M19 15h2v2h-2z"}),j.jsx("path",{d:"M15 19h2v2h-2z"}),j.jsx("path",{d:"M19 19h2v2h-2z"})]})})]}),j.jsx("div",{className:"game-list",children:n.map(M=>j.jsx(qf,{name:M.name,image:M.image,link:M.link,winCondition:M.winCondition},M.id))}),l&&j.jsx("div",{className:"qr-modal",onClick:()=>u(!1),children:j.jsxs("div",{className:"qr-content",onClick:M=>M.stopPropagation(),children:[j.jsx("button",{className:"close-btn",onClick:()=>u(!1),children:""}),j.jsx(_y,{value:window.location.href,size:256,level:"H",includeMargin:!0}),j.jsx("p",{children:"Scan to visit this page"})]})}),j.jsx("p",{className:"middle",children:"Scratch games"}),j.jsx("div",{className:"game-list",children:t.map(M=>j.jsx(qf,{name:M.name,image:M.image,link:M.link,winCondition:M.winCondition},M.id))}),j.jsx("div",{className:"admin-toggle",children:j.jsx("button",{onClick:()=>s(M=>!M),children:i?"Hide Admin Panel ":"Show Admin Panel "})}),i&&j.jsxs("div",{className:"add-game-form",children:[j.jsxs("div",{className:"mode-selector",children:[j.jsx("button",{className:a==="add"?"active":"",onClick:()=>h("add"),children:"Add Game"}),j.jsx("button",{className:a==="edit"?"active":"",onClick:()=>h("edit"),children:"Edit Game"}),j.jsx("button",{className:a==="delete"?"active":"",onClick:()=>h("delete"),children:"Delete Game"})]}),(a==="edit"||a==="delete")&&j.jsx("div",{className:"game-selector",children:j.jsxs("select",{value:f,onChange:M=>p(M.target.value),children:[j.jsx("option",{value:"",children:"Select a game..."}),n.map(M=>j.jsx("option",{value:M.id,children:M.name},M.id))]})}),(a!=="delete"||a==="delete"&&f)&&j.jsxs("form",{onSubmit:a==="delete"?jt:De,children:[a!=="delete"&&j.jsxs(j.Fragment,{children:[j.jsxs("div",{className:"row",children:[j.jsx("label",{children:"Game name"}),j.jsx("input",{value:m,onChange:M=>S(M.target.value),required:a!=="delete"})]}),j.jsxs("div",{className:"row",children:[j.jsx("label",{children:"Link (URL)"}),j.jsx("input",{value:C,onChange:M=>N(M.target.value),required:a!=="delete"})]}),j.jsxs("div",{className:"row",children:[j.jsx("label",{children:"Win condition (optional)"}),j.jsx("input",{value:x,onChange:M=>A(M.target.value)})]}),j.jsxs("div",{className:"row",children:[j.jsx("label",{children:a==="edit"?"New thumbnail image (optional)":"Thumbnail image"}),j.jsx("input",{ref:ue,type:"file",accept:"image/*",onChange:M=>{var b;return w(((b=M.target.files)==null?void 0:b[0])??null)},required:a==="add"})]})]}),j.jsxs("div",{className:"auth-row",children:[j.jsxs("div",{children:[j.jsx("label",{children:"Admin username"}),j.jsx("input",{value:D,onChange:M=>L(M.target.value),required:!0})]}),j.jsxs("div",{children:[j.jsx("label",{children:"Admin password"}),j.jsx("input",{type:"password",value:U,onChange:M=>E(M.target.value),required:!0})]})]}),a==="delete"&&P?j.jsxs("div",{className:"delete-confirm",children:[j.jsxs("p",{children:['Are you sure you want to delete "',(Le=n.find(M=>M.id===f))==null?void 0:Le.name,'"?']}),j.jsxs("div",{className:"buttons",children:[j.jsx("button",{type:"submit",className:"danger",disabled:I,children:I?"Deleting...":"Yes, Delete"}),j.jsx("button",{type:"button",onClick:()=>T(!1),children:"Cancel"})]})]}):j.jsx("div",{className:"row",children:j.jsx("button",{type:"submit",disabled:I||a!=="add"&&!f,children:I?"Processing...":a==="delete"?"Delete Game":a==="edit"?"Save Changes":"Add Game"})}),y&&j.jsx("p",{className:`message ${y.includes("failed")?"error":"success"}`,children:y})]})]})]})}ly(document.getElementById("root")).render(j.jsx(me.StrictMode,{children:j.jsx(HS,{})}));
